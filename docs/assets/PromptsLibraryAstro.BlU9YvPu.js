import{c as Le,j as e}from"./createLucideIcon.BJ2nCJ0g.js";import{r as n}from"./index.CWXBSLiN.js";import{A as Be,b as Ve,R as Fe,C as Ue,T as He,c as We,S as Ke,d as he,F as $e,E as ze,r as zt,V as Gt,t as Jt,v as Yt,w as qt,a as Ge,u as Zt,e as Je,B as Xt,I as Ee,s as Qt,U as eo,f as to,g as oo,h as so,i as no,j as ro,k as ao,l as io,m as lo,n as co,o as po,q as Me,p as Ye,x as De}from"./UsePromptWizard.BrxhXvSl.js";import{C as mo,a as uo,b as fo,c as ho,d as xo}from"./card.CXruJgUR.js";import{B as Q,c as qe,A as go,C as vo,R as wo,a as _o}from"./circle.D0zMCcA4.js";import{S as Ie,D as Ze,C as Xe,F as Qe}from"./search.CyxSNybM.js";import{S as et}from"./shield.Dv48ruTy.js";import{F as tt}from"./file-text.JXSHf51K.js";import{S as ot}from"./sparkles.4B-S2qoh.js";import{Z as yo}from"./zap.3_np4IUU.js";import{P as W,r as st}from"./index.bJ-lLwGX.js";import{c as So,b as bo,a as A,f as oe,e as Pe,u as No,d as Oe}from"./index.C760C8MB.js";import{u as Z,a as jo,b as H}from"./utils.1lYJIRYI.js";import{P as To,h as Co,u as Io,R as Po,F as ko,D as Ro,C as Eo}from"./index.CO_bYxKP.js";import{u as Mo}from"./index.DbBN8UT9.js";import{C as ke}from"./chevron-down.CKc2QLZB.js";import{B as te}from"./button.C-EQh3L_.js";import{X as nt}from"./x.UtEXXBrU.js";import{E as rt}from"./external-link.B4i69Y8Z.js";import{D as Do,a as Oo,b as Ao,c as Lo,d as Bo}from"./dialog.nUEPpQmb.js";import"./index.DV5ROcbN.js";import"./module.C-PkBFPJ.js";import"./terminal.T8-0w8KZ.js";import"./index.CxCIKqlj.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vo=Le("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=Le("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Uo={FolderSearch:$e,FolderOrganize:Qe,Code:he,BarChart3:Xe,Settings:Ke,FileText:tt,Archive:We,Shield:et,Database:Ze,TestTube:He,Clock:Ue,RefreshCw:Fe,ArrowRightLeft:Ve,Activity:Be,Search:Ie},Ho=t=>{if(!t)return!1;const s=new Date(t),i=Math.abs(new Date().getTime()-s.getTime());return Math.ceil(i/(1e3*60*60*24))<=14};function Wo({useCase:t,onVote:s,onOpen:o}){const i=Uo[t.icon]||he,r=Ho(t.dateAdded),p=m=>{switch(m){case"Instant output":return"session-instant-output";case"Step-by-step flow":return"session-step-by-step-flow";default:return"session-instant-output"}},a=m=>{switch(m){case"Instant output":return{text:"Instant",icon:yo};case"Step-by-step flow":return{text:"Step-by-Step",icon:null};default:return{text:m,icon:null}}},l=`/library/prompts/${t.slug}/`,c=m=>{o&&o(t)};return e.jsx("a",{href:l,className:"block h-full no-underline",onClick:c,children:e.jsxs(mo,{className:"dc-card h-full flex flex-col cursor-pointer focus:outline-none focus:ring-2 focus:ring-primary/50 relative group after:content-['↗'] after:absolute after:bottom-3 after:right-3 after:text-xs after:text-muted-foreground/70 after:pointer-events-none after:transition-transform after:transition-colors after:duration-200 hover:after:text-primary hover:after:translate-x-0.5 hover:after:-translate-y-0.5",role:"button",tabIndex:-1,children:[e.jsx(uo,{className:"pb-3",children:e.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsx("div",{className:"p-2 bg-dc-surface-elevated rounded-lg",children:e.jsx(i,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs(fo,{className:"text-lg leading-snug mb-2 min-h-[3rem] flex items-start",children:[t.title,r&&e.jsxs(Q,{variant:"outline",className:"ml-2 text-xs bg-primary/10 text-primary border-primary/20",children:[e.jsx(ot,{className:"h-3 w-3 mr-1"}),"New"]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(Q,{variant:"outline",className:`text-foreground/70 border-foreground/20 bg-transparent font-normal ${p(t.sessionType)} whitespace-nowrap`,children:e.jsx("div",{className:"flex items-center gap-1",children:(()=>{const m=a(t.sessionType);return e.jsxs(e.Fragment,{children:[m.icon&&e.jsx(m.icon,{className:"h-3 w-3"}),e.jsx("span",{children:m.text})]})})()})})})]})]}),e.jsx("div",{className:"flex items-center shrink-0 min-w-[90px] whitespace-nowrap","aria-label":"All-time engagement",children:e.jsx(ze,{count:t.votes,size:"sm"})})]})}),e.jsx(ho,{className:"flex-1 flex flex-col",children:e.jsx(xo,{className:"text-sm leading-relaxed mb-4",children:t.description})})]})})}function Ae(t,[s,o]){return Math.min(o,Math.max(s,t))}var Ko=[" ","Enter","ArrowUp","ArrowDown"],$o=[" ","Enter"],ie="Select",[xe,ge,zo]=bo(ie),[de]=So(ie,[zo,qe]),ve=qe(),[Go,se]=de(ie),[Jo,Yo]=de(ie),at=t=>{const{__scopeSelect:s,children:o,open:i,defaultOpen:r,onOpenChange:p,value:a,defaultValue:l,onValueChange:c,dir:m,name:S,autoComplete:j,disabled:f,required:v,form:T}=t,d=ve(s),[h,N]=n.useState(null),[x,_]=n.useState(null),[F,L]=n.useState(!1),$=No(m),[b,P]=Oe({prop:i,defaultProp:r??!1,onChange:p,caller:ie}),[C,I]=Oe({prop:a,defaultProp:l,onChange:c,caller:ie}),M=n.useRef(null),K=h?T||!!h.closest("form"):!0,[Y,z]=n.useState(new Set),G=Array.from(Y).map(B=>B.props.value).join(";");return e.jsx(wo,{...d,children:e.jsxs(Go,{required:v,scope:s,trigger:h,onTriggerChange:N,valueNode:x,onValueNodeChange:_,valueNodeHasChildren:F,onValueNodeHasChildrenChange:L,contentId:Pe(),value:C,onValueChange:I,open:b,onOpenChange:P,dir:$,triggerPointerDownPosRef:M,disabled:f,children:[e.jsx(xe.Provider,{scope:s,children:e.jsx(Jo,{scope:t.__scopeSelect,onNativeOptionAdd:n.useCallback(B=>{z(u=>new Set(u).add(B))},[]),onNativeOptionRemove:n.useCallback(B=>{z(u=>{const g=new Set(u);return g.delete(B),g})},[]),children:o})}),K?e.jsxs(kt,{"aria-hidden":!0,required:v,tabIndex:-1,name:S,autoComplete:j,value:C,onChange:B=>I(B.target.value),disabled:f,form:T,children:[C===void 0?e.jsx("option",{value:""}):null,Array.from(Y)]},G):null]})})};at.displayName=ie;var it="SelectTrigger",lt=n.forwardRef((t,s)=>{const{__scopeSelect:o,disabled:i=!1,...r}=t,p=ve(o),a=se(it,o),l=a.disabled||i,c=Z(s,a.onTriggerChange),m=ge(o),S=n.useRef("touch"),[j,f,v]=Et(d=>{const h=m().filter(_=>!_.disabled),N=h.find(_=>_.value===a.value),x=Mt(h,d,N);x!==void 0&&a.onValueChange(x.value)}),T=d=>{l||(a.onOpenChange(!0),v()),d&&(a.triggerPointerDownPosRef.current={x:Math.round(d.pageX),y:Math.round(d.pageY)})};return e.jsx(go,{asChild:!0,...p,children:e.jsx(W.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Rt(a.value)?"":void 0,...r,ref:c,onClick:A(r.onClick,d=>{d.currentTarget.focus(),S.current!=="mouse"&&T(d)}),onPointerDown:A(r.onPointerDown,d=>{S.current=d.pointerType;const h=d.target;h.hasPointerCapture(d.pointerId)&&h.releasePointerCapture(d.pointerId),d.button===0&&d.ctrlKey===!1&&d.pointerType==="mouse"&&(T(d),d.preventDefault())}),onKeyDown:A(r.onKeyDown,d=>{const h=j.current!=="";!(d.ctrlKey||d.altKey||d.metaKey)&&d.key.length===1&&f(d.key),!(h&&d.key===" ")&&Ko.includes(d.key)&&(T(),d.preventDefault())})})})});lt.displayName=it;var ct="SelectValue",dt=n.forwardRef((t,s)=>{const{__scopeSelect:o,className:i,style:r,children:p,placeholder:a="",...l}=t,c=se(ct,o),{onValueNodeHasChildrenChange:m}=c,S=p!==void 0,j=Z(s,c.onValueNodeChange);return oe(()=>{m(S)},[m,S]),e.jsx(W.span,{...l,ref:j,style:{pointerEvents:"none"},children:Rt(c.value)?e.jsx(e.Fragment,{children:a}):p})});dt.displayName=ct;var qo="SelectIcon",pt=n.forwardRef((t,s)=>{const{__scopeSelect:o,children:i,...r}=t;return e.jsx(W.span,{"aria-hidden":!0,...r,ref:s,children:i||"▼"})});pt.displayName=qo;var Zo="SelectPortal",mt=t=>e.jsx(To,{asChild:!0,...t});mt.displayName=Zo;var le="SelectContent",ut=n.forwardRef((t,s)=>{const o=se(le,t.__scopeSelect),[i,r]=n.useState();if(oe(()=>{r(new DocumentFragment)},[]),!o.open){const p=i;return p?st.createPortal(e.jsx(ft,{scope:t.__scopeSelect,children:e.jsx(xe.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),p):null}return e.jsx(ht,{...t,ref:s})});ut.displayName=le;var J=10,[ft,ne]=de(le),Xo="SelectContentImpl",Qo=jo("SelectContent.RemoveScroll"),ht=n.forwardRef((t,s)=>{const{__scopeSelect:o,position:i="item-aligned",onCloseAutoFocus:r,onEscapeKeyDown:p,onPointerDownOutside:a,side:l,sideOffset:c,align:m,alignOffset:S,arrowPadding:j,collisionBoundary:f,collisionPadding:v,sticky:T,hideWhenDetached:d,avoidCollisions:h,...N}=t,x=se(le,o),[_,F]=n.useState(null),[L,$]=n.useState(null),b=Z(s,y=>F(y)),[P,C]=n.useState(null),[I,M]=n.useState(null),K=ge(o),[Y,z]=n.useState(!1),G=n.useRef(!1);n.useEffect(()=>{if(_)return Co(_)},[_]),Io();const B=n.useCallback(y=>{const[D,...U]=K().map(O=>O.ref.current),[R]=U.slice(-1),E=document.activeElement;for(const O of y)if(O===E||(O?.scrollIntoView({block:"nearest"}),O===D&&L&&(L.scrollTop=0),O===R&&L&&(L.scrollTop=L.scrollHeight),O?.focus(),document.activeElement!==E))return},[K,L]),u=n.useCallback(()=>B([P,_]),[B,P,_]);n.useEffect(()=>{Y&&u()},[Y,u]);const{onOpenChange:g,triggerPointerDownPosRef:w}=x;n.useEffect(()=>{if(_){let y={x:0,y:0};const D=R=>{y={x:Math.abs(Math.round(R.pageX)-(w.current?.x??0)),y:Math.abs(Math.round(R.pageY)-(w.current?.y??0))}},U=R=>{y.x<=10&&y.y<=10?R.preventDefault():_.contains(R.target)||g(!1),document.removeEventListener("pointermove",D),w.current=null};return w.current!==null&&(document.addEventListener("pointermove",D),document.addEventListener("pointerup",U,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",D),document.removeEventListener("pointerup",U,{capture:!0})}}},[_,g,w]),n.useEffect(()=>{const y=()=>g(!1);return window.addEventListener("blur",y),window.addEventListener("resize",y),()=>{window.removeEventListener("blur",y),window.removeEventListener("resize",y)}},[g]);const[k,V]=Et(y=>{const D=K().filter(E=>!E.disabled),U=D.find(E=>E.ref.current===document.activeElement),R=Mt(D,y,U);R&&setTimeout(()=>R.ref.current.focus())}),ee=n.useCallback((y,D,U)=>{const R=!G.current&&!U;(x.value!==void 0&&x.value===D||R)&&(C(y),R&&(G.current=!0))},[x.value]),q=n.useCallback(()=>_?.focus(),[_]),X=n.useCallback((y,D,U)=>{const R=!G.current&&!U;(x.value!==void 0&&x.value===D||R)&&M(y)},[x.value]),ce=i==="popper"?be:xt,pe=ce===be?{side:l,sideOffset:c,align:m,alignOffset:S,arrowPadding:j,collisionBoundary:f,collisionPadding:v,sticky:T,hideWhenDetached:d,avoidCollisions:h}:{};return e.jsx(ft,{scope:o,content:_,viewport:L,onViewportChange:$,itemRefCallback:ee,selectedItem:P,onItemLeave:q,itemTextRefCallback:X,focusSelectedItem:u,selectedItemText:I,position:i,isPositioned:Y,searchRef:k,children:e.jsx(Po,{as:Qo,allowPinchZoom:!0,children:e.jsx(ko,{asChild:!0,trapped:x.open,onMountAutoFocus:y=>{y.preventDefault()},onUnmountAutoFocus:A(r,y=>{x.trigger?.focus({preventScroll:!0}),y.preventDefault()}),children:e.jsx(Ro,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:p,onPointerDownOutside:a,onFocusOutside:y=>y.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:e.jsx(ce,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:y=>y.preventDefault(),...N,...pe,onPlaced:()=>z(!0),ref:b,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:A(N.onKeyDown,y=>{const D=y.ctrlKey||y.altKey||y.metaKey;if(y.key==="Tab"&&y.preventDefault(),!D&&y.key.length===1&&V(y.key),["ArrowUp","ArrowDown","Home","End"].includes(y.key)){let R=K().filter(E=>!E.disabled).map(E=>E.ref.current);if(["ArrowUp","End"].includes(y.key)&&(R=R.slice().reverse()),["ArrowUp","ArrowDown"].includes(y.key)){const E=y.target,O=R.indexOf(E);R=R.slice(O+1)}setTimeout(()=>B(R)),y.preventDefault()}})})})})})})});ht.displayName=Xo;var es="SelectItemAlignedPosition",xt=n.forwardRef((t,s)=>{const{__scopeSelect:o,onPlaced:i,...r}=t,p=se(le,o),a=ne(le,o),[l,c]=n.useState(null),[m,S]=n.useState(null),j=Z(s,b=>S(b)),f=ge(o),v=n.useRef(!1),T=n.useRef(!0),{viewport:d,selectedItem:h,selectedItemText:N,focusSelectedItem:x}=a,_=n.useCallback(()=>{if(p.trigger&&p.valueNode&&l&&m&&d&&h&&N){const b=p.trigger.getBoundingClientRect(),P=m.getBoundingClientRect(),C=p.valueNode.getBoundingClientRect(),I=N.getBoundingClientRect();if(p.dir!=="rtl"){const E=I.left-P.left,O=C.left-E,re=b.left-O,ae=b.width+re,we=Math.max(ae,P.width),_e=window.innerWidth-J,ye=Ae(O,[J,Math.max(J,_e-we)]);l.style.minWidth=ae+"px",l.style.left=ye+"px"}else{const E=P.right-I.right,O=window.innerWidth-C.right-E,re=window.innerWidth-b.right-O,ae=b.width+re,we=Math.max(ae,P.width),_e=window.innerWidth-J,ye=Ae(O,[J,Math.max(J,_e-we)]);l.style.minWidth=ae+"px",l.style.right=ye+"px"}const M=f(),K=window.innerHeight-J*2,Y=d.scrollHeight,z=window.getComputedStyle(m),G=parseInt(z.borderTopWidth,10),B=parseInt(z.paddingTop,10),u=parseInt(z.borderBottomWidth,10),g=parseInt(z.paddingBottom,10),w=G+B+Y+g+u,k=Math.min(h.offsetHeight*5,w),V=window.getComputedStyle(d),ee=parseInt(V.paddingTop,10),q=parseInt(V.paddingBottom,10),X=b.top+b.height/2-J,ce=K-X,pe=h.offsetHeight/2,y=h.offsetTop+pe,D=G+B+y,U=w-D;if(D<=X){const E=M.length>0&&h===M[M.length-1].ref.current;l.style.bottom="0px";const O=m.clientHeight-d.offsetTop-d.offsetHeight,re=Math.max(ce,pe+(E?q:0)+O+u),ae=D+re;l.style.height=ae+"px"}else{const E=M.length>0&&h===M[0].ref.current;l.style.top="0px";const re=Math.max(X,G+d.offsetTop+(E?ee:0)+pe)+U;l.style.height=re+"px",d.scrollTop=D-X+d.offsetTop}l.style.margin=`${J}px 0`,l.style.minHeight=k+"px",l.style.maxHeight=K+"px",i?.(),requestAnimationFrame(()=>v.current=!0)}},[f,p.trigger,p.valueNode,l,m,d,h,N,p.dir,i]);oe(()=>_(),[_]);const[F,L]=n.useState();oe(()=>{m&&L(window.getComputedStyle(m).zIndex)},[m]);const $=n.useCallback(b=>{b&&T.current===!0&&(_(),x?.(),T.current=!1)},[_,x]);return e.jsx(os,{scope:o,contentWrapper:l,shouldExpandOnScrollRef:v,onScrollButtonChange:$,children:e.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:F},children:e.jsx(W.div,{...r,ref:j,style:{boxSizing:"border-box",maxHeight:"100%",...r.style}})})})});xt.displayName=es;var ts="SelectPopperPosition",be=n.forwardRef((t,s)=>{const{__scopeSelect:o,align:i="start",collisionPadding:r=J,...p}=t,a=ve(o);return e.jsx(vo,{...a,...p,ref:s,align:i,collisionPadding:r,style:{boxSizing:"border-box",...p.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});be.displayName=ts;var[os,Re]=de(le,{}),Ne="SelectViewport",gt=n.forwardRef((t,s)=>{const{__scopeSelect:o,nonce:i,...r}=t,p=ne(Ne,o),a=Re(Ne,o),l=Z(s,p.onViewportChange),c=n.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),e.jsx(xe.Slot,{scope:o,children:e.jsx(W.div,{"data-radix-select-viewport":"",role:"presentation",...r,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...r.style},onScroll:A(r.onScroll,m=>{const S=m.currentTarget,{contentWrapper:j,shouldExpandOnScrollRef:f}=a;if(f?.current&&j){const v=Math.abs(c.current-S.scrollTop);if(v>0){const T=window.innerHeight-J*2,d=parseFloat(j.style.minHeight),h=parseFloat(j.style.height),N=Math.max(d,h);if(N<T){const x=N+v,_=Math.min(T,x),F=x-_;j.style.height=_+"px",j.style.bottom==="0px"&&(S.scrollTop=F>0?F:0,j.style.justifyContent="flex-end")}}}c.current=S.scrollTop})})})]})});gt.displayName=Ne;var vt="SelectGroup",[ss,ns]=de(vt),rs=n.forwardRef((t,s)=>{const{__scopeSelect:o,...i}=t,r=Pe();return e.jsx(ss,{scope:o,id:r,children:e.jsx(W.div,{role:"group","aria-labelledby":r,...i,ref:s})})});rs.displayName=vt;var wt="SelectLabel",_t=n.forwardRef((t,s)=>{const{__scopeSelect:o,...i}=t,r=ns(wt,o);return e.jsx(W.div,{id:r.id,...i,ref:s})});_t.displayName=wt;var fe="SelectItem",[as,yt]=de(fe),St=n.forwardRef((t,s)=>{const{__scopeSelect:o,value:i,disabled:r=!1,textValue:p,...a}=t,l=se(fe,o),c=ne(fe,o),m=l.value===i,[S,j]=n.useState(p??""),[f,v]=n.useState(!1),T=Z(s,x=>c.itemRefCallback?.(x,i,r)),d=Pe(),h=n.useRef("touch"),N=()=>{r||(l.onValueChange(i),l.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(as,{scope:o,value:i,disabled:r,textId:d,isSelected:m,onItemTextChange:n.useCallback(x=>{j(_=>_||(x?.textContent??"").trim())},[]),children:e.jsx(xe.ItemSlot,{scope:o,value:i,disabled:r,textValue:S,children:e.jsx(W.div,{role:"option","aria-labelledby":d,"data-highlighted":f?"":void 0,"aria-selected":m&&f,"data-state":m?"checked":"unchecked","aria-disabled":r||void 0,"data-disabled":r?"":void 0,tabIndex:r?void 0:-1,...a,ref:T,onFocus:A(a.onFocus,()=>v(!0)),onBlur:A(a.onBlur,()=>v(!1)),onClick:A(a.onClick,()=>{h.current!=="mouse"&&N()}),onPointerUp:A(a.onPointerUp,()=>{h.current==="mouse"&&N()}),onPointerDown:A(a.onPointerDown,x=>{h.current=x.pointerType}),onPointerMove:A(a.onPointerMove,x=>{h.current=x.pointerType,r?c.onItemLeave?.():h.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:A(a.onPointerLeave,x=>{x.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:A(a.onKeyDown,x=>{c.searchRef?.current!==""&&x.key===" "||($o.includes(x.key)&&N(),x.key===" "&&x.preventDefault())})})})})});St.displayName=fe;var me="SelectItemText",bt=n.forwardRef((t,s)=>{const{__scopeSelect:o,className:i,style:r,...p}=t,a=se(me,o),l=ne(me,o),c=yt(me,o),m=Yo(me,o),[S,j]=n.useState(null),f=Z(s,N=>j(N),c.onItemTextChange,N=>l.itemTextRefCallback?.(N,c.value,c.disabled)),v=S?.textContent,T=n.useMemo(()=>e.jsx("option",{value:c.value,disabled:c.disabled,children:v},c.value),[c.disabled,c.value,v]),{onNativeOptionAdd:d,onNativeOptionRemove:h}=m;return oe(()=>(d(T),()=>h(T)),[d,h,T]),e.jsxs(e.Fragment,{children:[e.jsx(W.span,{id:c.textId,...p,ref:f}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?st.createPortal(p.children,a.valueNode):null]})});bt.displayName=me;var Nt="SelectItemIndicator",jt=n.forwardRef((t,s)=>{const{__scopeSelect:o,...i}=t;return yt(Nt,o).isSelected?e.jsx(W.span,{"aria-hidden":!0,...i,ref:s}):null});jt.displayName=Nt;var je="SelectScrollUpButton",Tt=n.forwardRef((t,s)=>{const o=ne(je,t.__scopeSelect),i=Re(je,t.__scopeSelect),[r,p]=n.useState(!1),a=Z(s,i.onScrollButtonChange);return oe(()=>{if(o.viewport&&o.isPositioned){let l=function(){const m=c.scrollTop>0;p(m)};const c=o.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[o.viewport,o.isPositioned]),r?e.jsx(It,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=o;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Tt.displayName=je;var Te="SelectScrollDownButton",Ct=n.forwardRef((t,s)=>{const o=ne(Te,t.__scopeSelect),i=Re(Te,t.__scopeSelect),[r,p]=n.useState(!1),a=Z(s,i.onScrollButtonChange);return oe(()=>{if(o.viewport&&o.isPositioned){let l=function(){const m=c.scrollHeight-c.clientHeight,S=Math.ceil(c.scrollTop)<m;p(S)};const c=o.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[o.viewport,o.isPositioned]),r?e.jsx(It,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=o;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Ct.displayName=Te;var It=n.forwardRef((t,s)=>{const{__scopeSelect:o,onAutoScroll:i,...r}=t,p=ne("SelectScrollButton",o),a=n.useRef(null),l=ge(o),c=n.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return n.useEffect(()=>()=>c(),[c]),oe(()=>{l().find(S=>S.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),e.jsx(W.div,{"aria-hidden":!0,...r,ref:s,style:{flexShrink:0,...r.style},onPointerDown:A(r.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(i,50))}),onPointerMove:A(r.onPointerMove,()=>{p.onItemLeave?.(),a.current===null&&(a.current=window.setInterval(i,50))}),onPointerLeave:A(r.onPointerLeave,()=>{c()})})}),is="SelectSeparator",Pt=n.forwardRef((t,s)=>{const{__scopeSelect:o,...i}=t;return e.jsx(W.div,{"aria-hidden":!0,...i,ref:s})});Pt.displayName=is;var Ce="SelectArrow",ls=n.forwardRef((t,s)=>{const{__scopeSelect:o,...i}=t,r=ve(o),p=se(Ce,o),a=ne(Ce,o);return p.open&&a.position==="popper"?e.jsx(_o,{...r,...i,ref:s}):null});ls.displayName=Ce;var cs="SelectBubbleInput",kt=n.forwardRef(({__scopeSelect:t,value:s,...o},i)=>{const r=n.useRef(null),p=Z(i,r),a=zt(s);return n.useEffect(()=>{const l=r.current;if(!l)return;const c=window.HTMLSelectElement.prototype,S=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==s&&S){const j=new Event("change",{bubbles:!0});S.call(l,s),l.dispatchEvent(j)}},[a,s]),e.jsx(W.select,{...o,style:{...Gt,...o.style},ref:p,defaultValue:s})});kt.displayName=cs;function Rt(t){return t===""||t===void 0}function Et(t){const s=Mo(t),o=n.useRef(""),i=n.useRef(0),r=n.useCallback(a=>{const l=o.current+a;s(l),(function c(m){o.current=m,window.clearTimeout(i.current),m!==""&&(i.current=window.setTimeout(()=>c(""),1e3))})(l)},[s]),p=n.useCallback(()=>{o.current="",window.clearTimeout(i.current)},[]);return n.useEffect(()=>()=>window.clearTimeout(i.current),[]),[o,r,p]}function Mt(t,s,o){const r=s.length>1&&Array.from(s).every(m=>m===s[0])?s[0]:s,p=o?t.indexOf(o):-1;let a=ds(t,Math.max(p,0));r.length===1&&(a=a.filter(m=>m!==o));const c=a.find(m=>m.textValue.toLowerCase().startsWith(r.toLowerCase()));return c!==o?c:void 0}function ds(t,s){return t.map((o,i)=>t[(s+i)%t.length])}var ps=at,Dt=lt,ms=dt,us=pt,fs=mt,Ot=ut,hs=gt,At=_t,Lt=St,xs=bt,gs=jt,Bt=Tt,Vt=Ct,Ft=Pt;const vs=ps,ws=ms,Ut=n.forwardRef(({className:t,children:s,...o},i)=>e.jsxs(Dt,{ref:i,className:H("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...o,children:[s,e.jsx(us,{asChild:!0,children:e.jsx(ke,{className:"h-4 w-4 opacity-50"})})]}));Ut.displayName=Dt.displayName;const Ht=n.forwardRef(({className:t,...s},o)=>e.jsx(Bt,{ref:o,className:H("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(Vo,{className:"h-4 w-4"})}));Ht.displayName=Bt.displayName;const Wt=n.forwardRef(({className:t,...s},o)=>e.jsx(Vt,{ref:o,className:H("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(ke,{className:"h-4 w-4"})}));Wt.displayName=Vt.displayName;const Kt=n.forwardRef(({className:t,children:s,position:o="popper",...i},r)=>e.jsx(fs,{children:e.jsxs(Ot,{ref:r,className:H("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",o==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:o,...i,children:[e.jsx(Ht,{}),e.jsx(hs,{className:H("p-1",o==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),e.jsx(Wt,{})]})}));Kt.displayName=Ot.displayName;const _s=n.forwardRef(({className:t,...s},o)=>e.jsx(At,{ref:o,className:H("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...s}));_s.displayName=At.displayName;const ue=n.forwardRef(({className:t,children:s,...o},i)=>e.jsxs(Lt,{ref:i,className:H("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...o,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(gs,{children:e.jsx(Eo,{className:"h-4 w-4"})})}),e.jsx(xs,{children:s})]}));ue.displayName=Lt.displayName;const ys=n.forwardRef(({className:t,...s},o)=>e.jsx(Ft,{ref:o,className:H("-mx-1 my-1 h-px bg-muted",t),...s}));ys.displayName=Ft.displayName;const $t=n.forwardRef(({className:t,type:s,...o},i)=>e.jsx("input",{type:s,className:H("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:i,...o}));$t.displayName="Input";function Se({options:t,selected:s,onChange:o,placeholder:i="Select options...",className:r}){const[p,a]=n.useState(!1),l=n.useRef(null);n.useEffect(()=>{const f=v=>{l.current&&!l.current.contains(v.target)&&a(!1)};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]);const c=f=>{s.includes(f)?o(s.filter(v=>v!==f)):o([...s,f])},m=(f,v)=>{v.stopPropagation(),o(s.filter(T=>T!==f))},S=s.length===0?i:s.length===1?s[0]:`${s.length} selected`,j=f=>{f.key==="Escape"&&s.length>0&&(f.preventDefault(),o([]),a(!1))};return e.jsxs("div",{ref:l,className:H("relative",r),children:[e.jsxs("div",{className:"relative",children:[e.jsxs(te,{variant:"outline",onClick:()=>a(!p),onKeyDown:j,className:"w-full justify-between h-9 font-normal",children:[e.jsx("span",{className:"truncate",children:S}),e.jsx(ke,{className:H("ml-2 h-4 w-4 shrink-0 transition-transform",p&&"rotate-180")})]}),s.includes("DevOps")&&e.jsx(Q,{className:"absolute -top-2 -right-2 bg-primary hover:bg-primary text-primary-foreground text-xs px-1.5 py-0.5 h-5 min-w-[2rem] rounded-full border-2 border-background pointer-events-none",children:"New"})]}),p&&e.jsx("div",{className:"absolute z-50 mt-1 w-full min-w-[200px] rounded-md border bg-popover text-popover-foreground shadow-md outline-none",children:e.jsxs("div",{className:"py-1",children:[e.jsxs("button",{onClick:()=>o([]),className:H("flex w-full items-center rounded-sm px-2 py-1.5 text-sm hover:bg-accent hover:text-accent-foreground mx-1 w-[calc(100%-8px)]",s.length===0&&"bg-accent/50"),children:[e.jsx("span",{className:"flex-1 text-left",children:i}),s.length===0&&e.jsx("span",{className:"ml-2 text-xs",children:"✓"})]}),e.jsx("div",{className:"my-1 h-px bg-border mx-2"}),e.jsx("div",{className:"max-h-[300px] overflow-y-auto overflow-x-hidden custom-scrollbar",children:t.map(f=>{const v=typeof f=="string"?{value:f}:f,T=s.includes(v.value);return e.jsxs("div",{className:"relative mx-1 w-[calc(100%-8px)]",children:[e.jsxs("button",{onClick:()=>c(v.value),className:H("flex w-full items-center rounded-sm px-2 py-1.5 text-sm hover:bg-accent hover:text-accent-foreground",T&&"bg-accent/50"),children:[e.jsx("span",{className:"flex-1 text-left truncate",children:v.label||v.value}),T&&e.jsx("span",{className:"ml-2 text-xs shrink-0",children:"✓"})]}),v.tag&&v.tagColor==="new"&&e.jsx(Q,{className:"absolute -top-2 -right-2 bg-primary hover:bg-primary text-primary-foreground text-xs px-1.5 py-0.5 h-5 min-w-[2rem] rounded-full border-2 border-background pointer-events-none",children:v.tag})]},v.value)})})]})}),s.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:s.map(f=>{const v=t.find(d=>typeof d=="string"?d===f:d.value===f),T=typeof v=="string"?v:v?.label||v?.value||f;return e.jsxs(Q,{variant:"secondary",className:"text-xs",children:[T,e.jsx("button",{onClick:d=>m(f,d),className:"ml-1 hover:text-destructive",children:e.jsx(nt,{className:"h-3 w-3"})})]},f)})})]})}function Ss({searchTerm:t,selectedCategories:s,selectedRoles:o,selectedSessionTypes:i,sortBy:r,onSearchChange:p,onCategoriesChange:a,onRolesChange:l,onSessionTypesChange:c,onSortChange:m,onClearFilters:S}){const j=s.length>0||o.length>0||i.length>0||t.length>0;return e.jsxs("div",{className:"space-y-3 p-3 bg-card rounded-md border",children:[e.jsx("div",{className:"flex items-center justify-end",children:j&&e.jsxs(te,{variant:"ghost",size:"sm",onClick:S,className:"h-8 px-2 text-muted-foreground hover:text-foreground",children:[e.jsx(nt,{className:"h-4 w-4 mr-1"}),"Clear Filters"]})}),e.jsxs("div",{className:"relative",children:[e.jsx(Ie,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx($t,{placeholder:"Search prompts...",value:t,onChange:f=>p(f.target.value),className:"pl-10 h-9"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Category"}),e.jsx(Se,{options:Jt,selected:s,onChange:a,placeholder:"All Categories"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Target Role"}),e.jsx(Se,{options:Yt,selected:o,onChange:l,placeholder:"All Roles"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Session Type"}),e.jsx(Se,{options:qt,selected:i,onChange:c,placeholder:"All Session Types"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Sort By"}),e.jsxs(vs,{value:r,onValueChange:m,children:[e.jsx(Ut,{className:"h-9",children:e.jsx(ws,{})}),e.jsxs(Kt,{children:[e.jsx(ue,{value:"popularity",children:"Most Popular"}),e.jsx(ue,{value:"alphabetical",children:"Alphabetical"}),e.jsx(ue,{value:"sessionType",children:"Session Type"}),e.jsx(ue,{value:"recent",children:"Recently Added"})]})]})]})]})]})}function bs({variant:t="default",size:s="default",className:o="",showIcon:i=!0,text:r="Submit Your Prompt"}){const p=Ge(),a=()=>{p.capture("submit_prompt_clicked",{button_variant:t,button_size:s,button_text:r,source_page:window.location.pathname}),window.open("https://tally.so/r/m6BbEN","_blank","noopener,noreferrer")};return e.jsxs(te,{onClick:a,variant:t,size:s,className:`${t==="default"?"dc-button-primary":""} ${o}`,title:"Submit your prompt via our form",children:[i&&e.jsx(Fo,{className:"h-4 w-4 mr-2"}),r,e.jsx(rt,{className:"h-3 w-3 ml-1.5 opacity-70"})]})}const Ns={FolderSearch:$e,FolderOrganize:Qe,Code:he,BarChart3:Xe,Settings:Ke,FileText:tt,Archive:We,Shield:et,Database:Ze,TestTube:He,Clock:Ue,RefreshCw:Fe,ArrowRightLeft:Ve,Activity:Be,Search:Ie},js=t=>{if(!t)return!1;const s=new Date(t),i=Math.abs(new Date().getTime()-s.getTime());return Math.ceil(i/(1e3*60*60*24))<=14};function Ts({useCase:t,isOpen:s,onClose:o,onVote:i,isFullPage:r=!1}){const[p,a]=n.useState(!1),[l,c]=n.useState(!1),[m,S]=n.useState(!1),[j,f]=n.useState(!1),{toast:v}=Zt(),[T,d]=n.useState(0),h=Ge(),[N,x]=n.useState(!1),[_,F]=n.useState({selectedText:"",selectionLength:0,isFullPrompt:!1,selectionTime:null});n.useEffect(()=>{if(s&&t){window.promptOpenTime=new Date().getTime();const u=parseInt(localStorage.getItem("style_scout_visit_count")||"0"),g=localStorage.getItem("style_scout_viral_session"),w=g?JSON.parse(g):null;h.capture("prompt_modal_opened",{prompt_id:t.id,prompt_title:t.title,prompt_categories:t.categories,prompt_difficulty:t.difficulty,prompt_author:t.author,target_roles:t.targetRoles,visit_count:u,is_returning_user:u>1,is_viral_session:!!w,viral_entry_prompt:w?.prompt_id,time_since_page_load:Math.round((new Date().getTime()-(window.pageLoadTime||new Date().getTime()))/1e3)})}},[s,t,h]);const L=()=>{const u=window.getSelection();if(u&&u.toString().length>0){const g=u.toString(),w=g.length,k=t.prompt.length,V=w>k*.9;x(!0),F({selectedText:g.substring(0,100),selectionLength:w,isFullPrompt:V,selectionTime:new Date().getTime()});const ee=window.promptOpenTime?Math.round((new Date().getTime()-window.promptOpenTime)/1e3):0,q=parseInt(localStorage.getItem("style_scout_visit_count")||"0"),X=localStorage.getItem("style_scout_viral_session"),ce=X?JSON.parse(X):null;h.capture("prompt_text_selected",{prompt_id:t.id,prompt_title:t.title,selection_length:w,prompt_length:k,selection_percentage:Math.round(w/k*100),is_full_prompt_selected:V,time_before_selection_seconds:ee,visit_count:q,is_returning_user:q>1,is_viral_session:!!ce,copy_intent:"text_selection"})}else if(N){const g=window.promptOpenTime?Math.round((new Date().getTime()-window.promptOpenTime)/1e3):0,w=parseInt(localStorage.getItem("style_scout_visit_count")||"0"),k=localStorage.getItem("style_scout_viral_session"),V=k?JSON.parse(k):null;h.capture("prompt_text_deselected",{prompt_id:t.id,prompt_title:t.title,previous_selection_length:_.selectionLength,was_full_prompt_selected:_.isFullPrompt,selection_duration_seconds:_.selectionTime?Math.round((new Date().getTime()-_.selectionTime)/1e3):null,time_before_deselection_seconds:g,visit_count:w,is_returning_user:w>1,is_viral_session:!!V,abandoned_copy_intent:!0}),x(!1)}},$=u=>{const g=window.promptOpenTime?Math.round((new Date().getTime()-window.promptOpenTime)/1e3):0,w=parseInt(localStorage.getItem("style_scout_visit_count")||"0"),k=localStorage.getItem("style_scout_viral_session"),V=k?JSON.parse(k):null;h.capture("prompt_manual_copy_attempt",{prompt_id:t.id,prompt_title:t.title,copy_method:u,had_text_selected:N,selected_length:_.selectionLength,is_full_prompt_selected:_.isFullPrompt,time_from_selection_to_copy:_.selectionTime?Math.round((new Date().getTime()-_.selectionTime)/1e3):null,time_before_copy_seconds:g,bypass_wizard:!0,visit_count:w,is_returning_user:w>1,is_viral_session:!!V,conversion_funnel_step:"manual_copy_bypass"})},b=u=>{(u.ctrlKey||u.metaKey)&&u.key==="c"&&N&&$("keyboard")},P=u=>{if(N){const g=window.promptOpenTime?Math.round((new Date().getTime()-window.promptOpenTime)/1e3):0,w=parseInt(localStorage.getItem("style_scout_visit_count")||"0"),k=localStorage.getItem("style_scout_viral_session"),V=k?JSON.parse(k):null;h.capture("prompt_right_click_detected",{prompt_id:t.id,prompt_title:t.title,had_text_selected:N,selected_length:_.selectionLength,is_full_prompt_selected:_.isFullPrompt,time_before_right_click_seconds:g,visit_count:w,is_returning_user:w>1,is_viral_session:!!V,copy_intent:"context_menu"}),setTimeout(()=>$("context_menu"),100)}};n.useEffect(()=>{if(s){const u=g=>b(g);return document.addEventListener("keydown",u),()=>document.removeEventListener("keydown",u)}},[s,N]),n.useEffect(()=>{if(!t)return;const u=`useCase_uses_${t.id}`,g=localStorage.getItem(u),w=g?Number(g):0;d(Number.isFinite(w)?w:0)},[t?.id]);const C=()=>{if(!t)return;const u=`useCase_uses_${t.id}`;d(g=>{const w=g+1;return localStorage.setItem(u,String(w)),w})};if(!t)return null;const I=Ns[t.icon]||he,M=js(t.dateAdded),K=()=>{const u=window.promptOpenTime?Math.round((new Date().getTime()-window.promptOpenTime)/1e3):0,g=parseInt(localStorage.getItem("style_scout_visit_count")||"0"),w=localStorage.getItem("style_scout_viral_session"),k=w?JSON.parse(w):null;h.capture("use_prompt_button_clicked",{prompt_id:t.id,prompt_title:t.title,prompt_categories:t.categories,prompt_difficulty:t.difficulty,prompt_author:t.author,time_before_use_seconds:u,engagement_level:u>30?"high":u>10?"medium":"low",visit_count:g,is_returning_user:g>1,is_viral_session:!!k,viral_entry_prompt:k?.prompt_id,conversion_funnel_step:"prompt_to_wizard"}),S(!0),C()},Y=()=>{if(window.promptOpenTime){const u=Math.round((new Date().getTime()-window.promptOpenTime)/1e3),g=parseInt(localStorage.getItem("style_scout_visit_count")||"0"),w=localStorage.getItem("style_scout_viral_session"),k=w?JSON.parse(w):null;h.capture("prompt_modal_closed",{prompt_id:t.id,prompt_title:t.title,prompt_categories:t.categories,time_in_modal_seconds:u,engagement_level:u>30?"high":u>10?"medium":"low",visit_count:g,is_returning_user:g>1,is_viral_session:!!k,viral_entry_prompt:k?.prompt_id,close_method:"manual"})}o()},z=u=>{switch(u){case"Instant output":return"session-instant-output";case"Step-by-step flow":return"session-step-by-step-flow";default:return"session-instant-output"}},G=(u="share_button")=>{const g=new URL(Ye(`/library/prompts/${t.slug}`),window.location.origin);return g.searchParams.set("utm_source","desktop_commander"),g.searchParams.set("utm_medium",u),g.searchParams.set("utm_campaign","prompt_sharing"),g.searchParams.set("utm_content",t.slug),g.searchParams.set("shared_at",Date.now().toString()),g.toString()},B=async()=>{const u=typeof navigator<"u"&&(/(Mobi|Android|iPhone|iPad|iPod)/i.test(navigator.userAgent)||typeof window<"u"&&window.matchMedia&&window.matchMedia("(pointer: coarse)").matches),g=u&&navigator.share?"native_share":"clipboard_copy",w=G(g),k=`Prompt: ${t.title}`,V=parseInt(localStorage.getItem("style_scout_visit_count")||"0"),ee=localStorage.getItem("style_scout_viral_session"),q=ee?JSON.parse(ee):null;h.capture("share_button_clicked",{prompt_id:t.id,prompt_title:t.title,prompt_categories:t.categories,prompt_difficulty:t.difficulty,prompt_author:t.author,target_roles:t.targetRoles,device_type:u?"mobile":"desktop",share_url:w,share_method:g,source_page:"prompt_modal",visit_count:V,is_returning_user:V>1,is_viral_session:!!q,viral_chain_length:q?1:0,original_viral_prompt:q?.prompt_id,time_on_prompt_seconds:Math.round((new Date().getTime()-(window.promptOpenTime||new Date().getTime()))/1e3)});try{if(u&&navigator.share){await navigator.share({title:k,text:"Check out this Desktop Commander prompt",url:w}),h.capture("share_native_completed",{prompt_id:t.id,prompt_title:t.title,device_type:"mobile",share_method:"native_share"});return}await navigator.clipboard.writeText(w),f(!0),setTimeout(()=>f(!1),1500),h.capture("share_link_copied",{prompt_id:t.id,prompt_title:t.title,device_type:u?"mobile":"desktop",share_method:"clipboard_copy"}),v({title:"Link copied",description:"Share it with your team.",action:e.jsx(Me,{altText:"Open link",onClick:()=>window.open(w,"_blank","noopener,noreferrer"),children:"Open"})})}catch{try{await navigator.clipboard.writeText(w),f(!0),setTimeout(()=>f(!1),1500),v({title:"Link copied",description:"Share it with your team.",action:e.jsx(Me,{altText:"Open link",onClick:()=>window.open(w,"_blank","noopener,noreferrer"),children:"Open"})})}catch{h.capture("share_failed",{prompt_id:t.id,prompt_title:t.title,device_type:u?"mobile":"desktop",error_type:"clipboard_fallback_failed"}),v({title:"Share failed",description:"Could not share or copy the link.",variant:"destructive"})}}};return e.jsxs(Do,{open:s,onOpenChange:u=>{u||o()},children:[e.jsx(Je,{children:e.jsxs(Oo,{className:"w-[95vw] sm:max-w-2xl lg:max-w-4xl max-h-[90vh] mx-auto flex flex-col",children:[e.jsx(Ao,{className:"flex-shrink-0",children:e.jsxs("div",{className:"flex items-start gap-3 sm:gap-4 pr-8 sm:pr-12 min-w-0",children:[e.jsx("div",{className:"p-2 sm:p-3 bg-dc-surface-elevated rounded-lg flex-shrink-0",children:e.jsx(I,{className:"h-5 w-5 sm:h-6 sm:w-6 text-primary"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs(Lo,{className:"text-lg sm:text-2xl leading-tight mb-2 sm:mb-3 break-words flex items-start gap-2",children:[t.title,M&&e.jsxs(Q,{variant:"outline",className:"text-xs bg-primary/10 text-primary border-primary/20 flex-shrink-0",children:[e.jsx(ot,{className:"h-3 w-3 mr-1"}),"New"]})]}),e.jsx(Bo,{className:"sr-only",children:"Detailed information and actions for this prompt."}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-wrap min-w-0",children:[t.verified&&e.jsxs("span",{className:"inline-flex items-center gap-1 text-xs rounded-full border border-primary/20 bg-primary/10 text-primary px-2 py-0.5",children:[e.jsx(Xt,{className:"h-3 w-3"}),"Verified by DC team"]}),e.jsxs("div",{className:"relative inline-block",children:[e.jsxs(Q,{className:`difficulty-badge ${z(t.sessionType)} text-xs flex items-center gap-1 cursor-pointer hover:opacity-90 transition-opacity`,onClick:()=>c(!l),children:[e.jsx("span",{children:t.sessionType}),e.jsx(Ee,{className:"h-3 w-3"})]}),l&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>c(!1)}),e.jsxs("div",{className:"absolute top-full left-0 mt-2 z-50 w-72 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg p-3 animate-in fade-in-0 zoom-in-95 duration-200",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500 mt-1 flex-shrink-0"}),e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed",children:Qt[t.sessionType]})}),e.jsx("button",{onClick:u=>{u.stopPropagation(),c(!1)},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors",children:"✕"})]}),e.jsx("div",{className:"absolute -top-2 left-4 w-4 h-4 bg-white dark:bg-gray-800 border-l border-t border-gray-200 dark:border-gray-700 rotate-45"})]})]})]}),e.jsx("div",{className:"flex flex-wrap gap-1",children:t.categories.map((u,g)=>e.jsx(Q,{variant:"outline",className:"text-xs",children:u},g))}),e.jsxs("div",{className:"flex items-center gap-1 text-xs sm:text-sm text-muted-foreground",children:[e.jsx(eo,{className:"h-3 w-3 sm:h-4 sm:w-4"}),e.jsx("span",{className:"truncate",children:t.author})]})]})]}),e.jsxs("div",{className:"shrink-0 hidden sm:flex items-center gap-2","aria-label":"All-time engagement",children:[e.jsx(ze,{count:t.votes+(p?1:0)}),e.jsxs(to,{children:[e.jsx(oo,{asChild:!0,children:e.jsx("button",{type:"button","aria-label":`Exact uses: ${t.votes} (all-time)`,className:"inline-flex items-center justify-center text-muted-foreground hover:text-foreground",children:e.jsx(Ee,{className:"h-4 w-4"})})}),e.jsxs(so,{align:"end",side:"bottom",children:["Exact uses: ",t.votes," (all-time)"]})]})]})]})}),e.jsxs("div",{className:"space-y-4 sm:space-y-6 overflow-y-auto min-h-0 flex-1 pr-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-1.5 sm:mb-2",children:"Description"}),e.jsx("p",{className:"text-sm sm:text-base text-muted-foreground leading-relaxed break-words",children:t.description})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-2 sm:mb-3",children:"Target Roles"}),e.jsx("div",{className:"flex flex-wrap gap-1.5 sm:gap-2 min-w-0",children:t.targetRoles.map(u=>e.jsx(Q,{variant:"secondary",className:"role-tag text-xs",children:u},u))})]}),e.jsx(no,{}),e.jsxs("div",{children:[e.jsx("div",{className:"mb-3 sm:mb-4",children:e.jsx("h3",{className:"text-base sm:text-lg font-semibold",children:"Complete Prompt"})}),e.jsx("div",{className:"p-3 sm:p-4 bg-dc-surface-elevated rounded-lg border min-w-0",onMouseUp:L,onKeyUp:L,onContextMenu:P,children:e.jsx("pre",{className:"text-xs sm:text-sm text-foreground whitespace-pre-wrap font-mono leading-relaxed select-text break-words overflow-wrap-anywhere min-w-0",children:t.prompt})})]})]}),e.jsx("div",{className:"flex-shrink-0 border-t pt-4 mt-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-2 sm:gap-3 min-w-0",children:[e.jsx(te,{variant:"outline",onClick:Y,className:"order-3 sm:order-1 min-w-0",children:e.jsx("span",{className:"truncate",children:"Close"})}),e.jsxs(ro,{children:[e.jsx(ao,{asChild:!0,children:e.jsxs(te,{variant:"outline",onClick:B,"aria-label":"Share this prompt",className:"flex items-center gap-2 order-2 min-w-0",children:[e.jsx(io,{className:"h-4 w-4 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:j?"Copied":"Share"})]})}),e.jsx(lo,{children:"Copy link to share"})]}),e.jsxs(te,{className:"dc-button-primary flex items-center gap-2 order-1 sm:order-3 min-w-0",onClick:K,children:[e.jsx(co,{className:"h-4 w-4 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:"Use Prompt"})]})]})})]})}),e.jsx(po,{isOpen:m,onClose:()=>S(!1),prompt:t.prompt,promptTitle:t.title})]})}function Zs({initialPromptId:t}){const s=n.useMemo(()=>{if(typeof window>"u")return[];const P=new URLSearchParams(window.location.search).get("role");return P?[P]:[]},[]),[o,i]=n.useState(De),[r,p]=n.useState(""),[a,l]=n.useState([]),[c,m]=n.useState(s),[S,j]=n.useState([]),[f,v]=n.useState("popularity"),T=["8","59","2","84","53","82","78","4","43"],d=n.useMemo(()=>t&&De.find(b=>b.id===t)||null,[t]),[h,N]=n.useState(d),[x,_]=n.useState(!!d);n.useEffect(()=>{t&&d&&!x&&(N(d),_(!0))},[t,d,x]);const F=n.useMemo(()=>{let b=o;if(r){const C=r.toLowerCase();b=b.filter(I=>I.title.toLowerCase().includes(C)||I.description.toLowerCase().includes(C)||I.prompt.toLowerCase().includes(C)||I.categories.some(M=>M.toLowerCase().includes(C))||I.targetRoles.some(M=>M.toLowerCase().includes(C)))}a.length>0&&(b=b.filter(C=>a.some(I=>C.categories.includes(I)))),c.length>0&&(b=b.filter(C=>c.some(I=>C.targetRoles.includes(I)))),S.length>0&&(b=b.filter(C=>S.includes(C.sessionType)));const P=[...b];switch(f){case"popularity":P.sort((C,I)=>(I.gaClicks||0)-(C.gaClicks||0));break;case"newest":P.sort((C,I)=>{const M=new Date(C.dateAdded||"1970-01-01").getTime();return new Date(I.dateAdded||"1970-01-01").getTime()-M});break;case"alphabetical":P.sort((C,I)=>C.title.localeCompare(I.title));break}if(!r&&a.length===0&&c.length===0&&S.length===0){const C=P.filter(M=>T.includes(M.id)),I=P.filter(M=>!T.includes(M.id));return[...C,...I]}return P},[o,r,a,c,S,f]),L=b=>{const P=b.slug||b.id;window.location.href=Ye(`/library/prompts/${P}`)},$=b=>{console.log("Vote for prompt:",b)};return e.jsxs(Je,{children:[e.jsxs("div",{className:"container mx-auto px-4 py-8 mt-20",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Prompt Library"}),e.jsxs("p",{className:"text-muted-foreground",children:["Discover ",o.length,"+ curated prompts for Desktop Commander"]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(bs,{}),e.jsx(te,{variant:"outline",asChild:!0,children:e.jsxs("a",{href:"https://github.com/wonderwhy-er/DesktopCommanderMCP",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2",children:["Documentation",e.jsx(rt,{className:"h-4 w-4"})]})})]})]}),e.jsx(Ss,{searchTerm:r,onSearchChange:p,selectedCategories:a,onCategoriesChange:l,selectedRoles:c,onRolesChange:m,selectedSessionTypes:S,onSessionTypesChange:j,sortBy:f,onSortChange:v,totalResults:F.length})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:F.map(b=>e.jsx(Wo,{useCase:b,onOpen:L,onVote:$},b.id))}),F.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-muted-foreground text-lg",children:"No prompts found matching your filters."}),e.jsx(te,{variant:"outline",className:"mt-4",onClick:()=>{p(""),l([]),m([]),j([])},children:"Clear Filters"})]})]}),e.jsx(Ts,{useCase:h,isOpen:x,onClose:()=>_(!1),onVote:$})]})}export{Zs as default};
