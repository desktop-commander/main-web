import{r as ze,R as T,v as Dc}from"./vendor-react-DpVpy_xh.js";function qg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Va={exports:{}},Wa={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(E,x){var R=E.length;E.push(x);e:for(;0<R;){var H=R-1>>>1,M=E[H];if(0<s(M,x))E[H]=x,E[R]=M,R=H;else break e}}function n(E){return E.length===0?null:E[0]}function r(E){if(E.length===0)return null;var x=E[0],R=E.pop();if(R!==x){E[0]=R;e:for(var H=0,M=E.length,U=M>>>1;H<U;){var B=2*(H+1)-1,te=E[B],se=B+1,Y=E[se];if(0>s(te,R))se<M&&0>s(Y,te)?(E[H]=Y,E[se]=R,H=se):(E[H]=te,E[B]=R,H=B);else if(se<M&&0>s(Y,R))E[H]=Y,E[se]=R,H=se;else break e}}return x}function s(E,x){var R=E.sortIndex-x.sortIndex;return R!==0?R:E.id-x.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,f=3,d=!1,g=!1,p=!1,v=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(E){for(var x=n(c);x!==null;){if(x.callback===null)r(c);else if(x.startTime<=E)r(c),x.sortIndex=x.expirationTime,e(l,x);else break;x=n(c)}}function w(E){if(p=!1,y(E),!g)if(n(l)!==null)g=!0,K(S);else{var x=n(c);x!==null&&V(w,x.startTime-E)}}function S(E,x){g=!1,p&&(p=!1,m(k),k=-1),d=!0;var R=f;try{for(y(x),h=n(l);h!==null&&(!(h.expirationTime>x)||E&&!N());){var H=h.callback;if(typeof H=="function"){h.callback=null,f=h.priorityLevel;var M=H(h.expirationTime<=x);x=t.unstable_now(),typeof M=="function"?h.callback=M:h===n(l)&&r(l),y(x)}else r(l);h=n(l)}if(h!==null)var U=!0;else{var B=n(c);B!==null&&V(w,B.startTime-x),U=!1}return U}finally{h=null,f=R,d=!1}}var P=!1,C=null,k=-1,D=5,j=-1;function N(){return!(t.unstable_now()-j<D)}function I(){if(C!==null){var E=t.unstable_now();j=E;var x=!0;try{x=C(!0,E)}finally{x?G():(P=!1,C=null)}}else P=!1}var G;if(typeof _=="function")G=function(){_(I)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,X=z.port2;z.port1.onmessage=I,G=function(){X.postMessage(null)}}else G=function(){v(I,0)};function K(E){C=E,P||(P=!0,G())}function V(E,x){k=v(function(){E(t.unstable_now())},x)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(E){E.callback=null},t.unstable_continueExecution=function(){g||d||(g=!0,K(S))},t.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<E?Math.floor(1e3/E):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(E){switch(f){case 1:case 2:case 3:var x=3;break;default:x=f}var R=f;f=x;try{return E()}finally{f=R}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(E,x){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var R=f;f=E;try{return x()}finally{f=R}},t.unstable_scheduleCallback=function(E,x,R){var H=t.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?H+R:H):R=H,E){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=R+M,E={id:u++,callback:x,priorityLevel:E,startTime:R,expirationTime:M,sortIndex:-1},R>H?(E.sortIndex=R,e(c,E),n(l)===null&&E===n(c)&&(p?(m(k),k=-1):p=!0,V(w,R-H))):(E.sortIndex=M,e(l,E),g||d||(g=!0,K(S))),E},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(E){var x=f;return function(){var R=f;f=x;try{return E.apply(this,arguments)}finally{f=R}}}})(Wa);Va.exports=Wa;var Ug=Va.exports;function Ga(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=Ga(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Nc(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=Ga(t))&&(r&&(r+=" "),r+=e);return r}const ao=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,lo=Nc,Vg=(t,e)=>n=>{var r;if(e?.variants==null)return lo(t,n?.class,n?.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const u=n?.[c],h=i?.[c];if(u===null)return null;const f=ao(u)||ao(h);return s[c][f]}),a=n&&Object.entries(n).reduce((c,u)=>{let[h,f]=u;return f===void 0||(c[h]=f),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:h,className:f,...d}=u;return Object.entries(d).every(g=>{let[p,v]=g;return Array.isArray(v)?v.includes({...i,...a}[p]):{...i,...a}[p]===v})?[...c,h,f]:c},[]);return lo(t,o,l,n?.class,n?.className)},$i="-",jc=t=>{const e=Hc(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split($i);return a[0]===""&&a.length!==1&&a.shift(),Ya(a,e)||Bc(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},Ya=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?Ya(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join($i);return e.validators.find(({validator:o})=>o(i))?.classGroupId},co=/^\[(.+)\]$/,Bc=t=>{if(co.test(t)){const e=co.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Hc=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return qc(Object.entries(t.classGroups),n).forEach(([i,o])=>{Vs(o,r,i,e)}),r},Vs=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:uo(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(zc(s)){Vs(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Vs(o,uo(e,i),n,r)})})},uo=(t,e)=>{let n=t;return e.split($i).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},zc=t=>t.isThemeGetter,qc=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,Uc=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},Ka="!",Vc=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,u=0,h;for(let v=0;v<a.length;v++){let m=a[v];if(c===0){if(m===s&&(r||a.slice(v,v+i)===e)){l.push(a.slice(u,v)),u=v+i;continue}if(m==="/"){h=v;continue}}m==="["?c++:m==="]"&&c--}const f=l.length===0?a:a.substring(u),d=f.startsWith(Ka),g=d?f.substring(1):f,p=h&&h>u?h-u:void 0;return{modifiers:l,hasImportantModifier:d,baseClassName:g,maybePostfixModifierPosition:p}};return n?a=>n({className:a,parseClassName:o}):o},Wc=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},Gc=t=>({cache:Uc(t.cacheSize),parseClassName:Vc(t),...jc(t)}),Yc=/\s+/,Kc=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(Yc);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:d}=n(c);let g=!!d,p=r(g?f.substring(0,d):f);if(!p){if(!g){a=c+(a.length>0?" "+a:a);continue}if(p=r(f),!p){a=c+(a.length>0?" "+a:a);continue}g=!1}const v=Wc(u).join(":"),m=h?v+Ka:v,_=m+p;if(i.includes(_))continue;i.push(_);const y=s(p,g);for(let w=0;w<y.length;++w){const S=y[w];i.push(m+S)}a=c+(a.length>0?" "+a:a)}return a};function Qc(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Qa(e))&&(r&&(r+=" "),r+=n);return r}const Qa=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Qa(t[r]))&&(n&&(n+=" "),n+=e);return n};function Xc(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((u,h)=>h(u),t());return n=Gc(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=Kc(l,n);return s(l,u),u}return function(){return i(Qc.apply(null,arguments))}}const ue=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Xa=/^\[(?:([a-z-]+):)?(.+)\]$/i,Jc=/^\d+\/\d+$/,Zc=new Set(["px","full","screen"]),eu=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,tu=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,nu=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ru=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,su=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,bt=t=>pn(t)||Zc.has(t)||Jc.test(t),Ft=t=>kn(t,"length",hu),pn=t=>!!t&&!Number.isNaN(Number(t)),ks=t=>kn(t,"number",pn),Rn=t=>!!t&&Number.isInteger(Number(t)),iu=t=>t.endsWith("%")&&pn(t.slice(0,-1)),Q=t=>Xa.test(t),$t=t=>eu.test(t),ou=new Set(["length","size","percentage"]),au=t=>kn(t,ou,Ja),lu=t=>kn(t,"position",Ja),cu=new Set(["image","url"]),uu=t=>kn(t,cu,pu),du=t=>kn(t,"",fu),On=()=>!0,kn=(t,e,n)=>{const r=Xa.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},hu=t=>tu.test(t)&&!nu.test(t),Ja=()=>!1,fu=t=>ru.test(t),pu=t=>su.test(t),gu=()=>{const t=ue("colors"),e=ue("spacing"),n=ue("blur"),r=ue("brightness"),s=ue("borderColor"),i=ue("borderRadius"),o=ue("borderSpacing"),a=ue("borderWidth"),l=ue("contrast"),c=ue("grayscale"),u=ue("hueRotate"),h=ue("invert"),f=ue("gap"),d=ue("gradientColorStops"),g=ue("gradientColorStopPositions"),p=ue("inset"),v=ue("margin"),m=ue("opacity"),_=ue("padding"),y=ue("saturate"),w=ue("scale"),S=ue("sepia"),P=ue("skew"),C=ue("space"),k=ue("translate"),D=()=>["auto","contain","none"],j=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",Q,e],I=()=>[Q,e],G=()=>["",bt,Ft],z=()=>["auto",pn,Q],X=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],K=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],E=()=>["start","end","center","between","around","evenly","stretch"],x=()=>["","0",Q],R=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[pn,Q];return{cacheSize:500,separator:":",theme:{colors:[On],spacing:[bt,Ft],blur:["none","",$t,Q],brightness:H(),borderColor:[t],borderRadius:["none","","full",$t,Q],borderSpacing:I(),borderWidth:G(),contrast:H(),grayscale:x(),hueRotate:H(),invert:x(),gap:I(),gradientColorStops:[t],gradientColorStopPositions:[iu,Ft],inset:N(),margin:N(),opacity:H(),padding:I(),saturate:H(),scale:H(),sepia:x(),skew:H(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",Q]}],container:["container"],columns:[{columns:[$t]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...X(),Q]}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Rn,Q]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Q]}],grow:[{grow:x()}],shrink:[{shrink:x()}],order:[{order:["first","last","none",Rn,Q]}],"grid-cols":[{"grid-cols":[On]}],"col-start-end":[{col:["auto",{span:["full",Rn,Q]},Q]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[On]}],"row-start-end":[{row:["auto",{span:[Rn,Q]},Q]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Q]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Q]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...E()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...E(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...E(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Q,e]}],"min-w":[{"min-w":[Q,e,"min","max","fit"]}],"max-w":[{"max-w":[Q,e,"none","full","min","max","fit","prose",{screen:[$t]},$t]}],h:[{h:[Q,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Q,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Q,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Q,e,"auto","min","max","fit"]}],"font-size":[{text:["base",$t,Ft]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ks]}],"font-family":[{font:[On]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Q]}],"line-clamp":[{"line-clamp":["none",pn,ks]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",bt,Q]}],"list-image":[{"list-image":["none",Q]}],"list-style-type":[{list:["none","disc","decimal",Q]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[m]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[m]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...K(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",bt,Ft]}],"underline-offset":[{"underline-offset":["auto",bt,Q]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Q]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Q]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[m]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...X(),lu]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",au]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},uu]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[d]}],"gradient-via":[{via:[d]}],"gradient-to":[{to:[d]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[m]}],"border-style":[{border:[...K(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[m]}],"divide-style":[{divide:K()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...K()]}],"outline-offset":[{"outline-offset":[bt,Q]}],"outline-w":[{outline:[bt,Ft]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:G()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[m]}],"ring-offset-w":[{"ring-offset":[bt,Ft]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",$t,du]}],"shadow-color":[{shadow:[On]}],opacity:[{opacity:[m]}],"mix-blend":[{"mix-blend":[...V(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",$t,Q]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[y]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[m]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Q]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",Q]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",Q]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[Rn,Q]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Q]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Q]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Q]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[bt,Ft,ks]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Wg=Xc(gu);var ho=["light","dark"],vu="(prefers-color-scheme: dark)",mu=ze.createContext(void 0),_u={setTheme:t=>{},themes:[]},Gg=()=>{var t;return(t=ze.useContext(mu))!=null?t:_u};ze.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let c=i==="system",u=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=s?ho.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(g,p=!1,v=!0)=>{let m=o?o[g]:g,_=p?g+"|| ''":`'${m}'`,y="";return s&&v&&!p&&ho.includes(g)&&(y+=`d.style.colorScheme = '${g}';`),n==="class"?p||m?y+=`c.add(${_})`:y+="null":m&&(y+=`d[s](n,${_})`),y},d=t?`!function(){${u}${f(t)}}()`:r?`!function(){try{${u}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${vu}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${c?"":"else{"+f(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${h}}catch(t){}}();`;return ze.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:d}})});var yu=t=>{switch(t){case"success":return xu;case"info":return Eu;case"warning":return Su;case"error":return ku;default:return null}},bu=Array(12).fill(0),wu=({visible:t,className:e})=>T.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},T.createElement("div",{className:"sonner-spinner"},bu.map((n,r)=>T.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),xu=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},T.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Su=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},T.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Eu=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},T.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),ku=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},T.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Pu=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},T.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),T.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Cu=()=>{let[t,e]=T.useState(document.hidden);return T.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Ws=1,Au=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Ws++,o=this.toasts.find(l=>l.id===i),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:r}),{...l,...e,id:i,dismissible:a,title:r}):l):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0,o,a=s.then(async c=>{if(o=["resolve",c],T.isValidElement(c))i=!1,this.create({id:r,type:"default",message:c});else if(Tu(c)&&!c.ok){i=!1;let u=typeof n.error=="function"?await n.error(`HTTP error! status: ${c.status}`):n.error,h=typeof n.description=="function"?await n.description(`HTTP error! status: ${c.status}`):n.description;this.create({id:r,type:"error",message:u,description:h})}else if(n.success!==void 0){i=!1;let u=typeof n.success=="function"?await n.success(c):n.success,h=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"success",message:u,description:h})}}).catch(async c=>{if(o=["reject",c],n.error!==void 0){i=!1;let u=typeof n.error=="function"?await n.error(c):n.error,h=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"error",message:u,description:h})}}).finally(()=>{var c;i&&(this.dismiss(r),r=void 0),(c=n.finally)==null||c.call(n)}),l=()=>new Promise((c,u)=>a.then(()=>o[0]==="reject"?u(o[1]):c(o[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,n)=>{let r=n?.id||Ws++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Fe=new Au,Iu=(t,e)=>{let n=e?.id||Ws++;return Fe.addToast({title:t,...e,id:n}),n},Tu=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Ru=Iu,Ou=()=>Fe.toasts,Fu=()=>Fe.getActiveToasts(),Kg=Object.assign(Ru,{success:Fe.success,info:Fe.info,warning:Fe.warning,error:Fe.error,custom:Fe.custom,message:Fe.message,promise:Fe.promise,dismiss:Fe.dismiss,loading:Fe.loading},{getHistory:Ou,getToasts:Fu});function $u(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}$u(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function yr(t){return t.label!==void 0}var Mu=3,Lu="32px",Du="16px",fo=4e3,Nu=356,ju=14,Bu=20,Hu=200;function et(...t){return t.filter(Boolean).join(" ")}function zu(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var qu=t=>{var e,n,r,s,i,o,a,l,c,u,h;let{invert:f,toast:d,unstyled:g,interacting:p,setHeights:v,visibleToasts:m,heights:_,index:y,toasts:w,expanded:S,removeToast:P,defaultRichColors:C,closeButton:k,style:D,cancelButtonStyle:j,actionButtonStyle:N,className:I="",descriptionClassName:G="",duration:z,position:X,gap:K,loadingIcon:V,expandByDefault:E,classNames:x,icons:R,closeButtonAriaLabel:H="Close toast",pauseWhenPageIsHidden:M}=t,[U,B]=T.useState(null),[te,se]=T.useState(null),[Y,me]=T.useState(!1),[Se,oe]=T.useState(!1),[ne,L]=T.useState(!1),[Z,ce]=T.useState(!1),[ye,ke]=T.useState(!1),[Ie,We]=T.useState(0),[ot,at]=T.useState(0),Ge=T.useRef(d.duration||z||fo),rn=T.useRef(null),Ye=T.useRef(null),pr=y===0,gr=y+1<=m,Oe=d.type,yt=d.dismissible!==!1,ws=d.className||"",An=d.descriptionClassName||"",Ke=T.useMemo(()=>_.findIndex(W=>W.toastId===d.id)||0,[_,d.id]),In=T.useMemo(()=>{var W;return(W=d.closeButton)!=null?W:k},[d.closeButton,k]),sn=T.useMemo(()=>d.duration||z||fo,[d.duration,z]),At=T.useRef(0),It=T.useRef(0),vr=T.useRef(0),Tt=T.useRef(null),[xs,Ss]=X.split("-"),Tn=T.useMemo(()=>_.reduce((W,re,ae)=>ae>=Ke?W:W+re.height,0),[_,Ke]),mr=Cu(),_r=d.invert||f,on=Oe==="loading";It.current=T.useMemo(()=>Ke*K+Tn,[Ke,Tn]),T.useEffect(()=>{Ge.current=sn},[sn]),T.useEffect(()=>{me(!0)},[]),T.useEffect(()=>{let W=Ye.current;if(W){let re=W.getBoundingClientRect().height;return at(re),v(ae=>[{toastId:d.id,height:re,position:d.position},...ae]),()=>v(ae=>ae.filter(Xe=>Xe.toastId!==d.id))}},[v,d.id]),T.useLayoutEffect(()=>{if(!Y)return;let W=Ye.current,re=W.style.height;W.style.height="auto";let ae=W.getBoundingClientRect().height;W.style.height=re,at(ae),v(Xe=>Xe.find(Je=>Je.toastId===d.id)?Xe.map(Je=>Je.toastId===d.id?{...Je,height:ae}:Je):[{toastId:d.id,height:ae,position:d.position},...Xe])},[Y,d.title,d.description,v,d.id]);let Qe=T.useCallback(()=>{oe(!0),We(It.current),v(W=>W.filter(re=>re.toastId!==d.id)),setTimeout(()=>{P(d)},Hu)},[d,P,v,It]);T.useEffect(()=>{if(d.promise&&Oe==="loading"||d.duration===1/0||d.type==="loading")return;let W;return S||p||M&&mr?(()=>{if(vr.current<At.current){let re=new Date().getTime()-At.current;Ge.current=Ge.current-re}vr.current=new Date().getTime()})():Ge.current!==1/0&&(At.current=new Date().getTime(),W=setTimeout(()=>{var re;(re=d.onAutoClose)==null||re.call(d,d),Qe()},Ge.current)),()=>clearTimeout(W)},[S,p,d,Oe,M,mr,Qe]),T.useEffect(()=>{d.delete&&Qe()},[Qe,d.delete]);function Es(){var W,re,ae;return R!=null&&R.loading?T.createElement("div",{className:et(x?.loader,(W=d?.classNames)==null?void 0:W.loader,"sonner-loader"),"data-visible":Oe==="loading"},R.loading):V?T.createElement("div",{className:et(x?.loader,(re=d?.classNames)==null?void 0:re.loader,"sonner-loader"),"data-visible":Oe==="loading"},V):T.createElement(wu,{className:et(x?.loader,(ae=d?.classNames)==null?void 0:ae.loader),visible:Oe==="loading"})}return T.createElement("li",{tabIndex:0,ref:Ye,className:et(I,ws,x?.toast,(e=d?.classNames)==null?void 0:e.toast,x?.default,x?.[Oe],(n=d?.classNames)==null?void 0:n[Oe]),"data-sonner-toast":"","data-rich-colors":(r=d.richColors)!=null?r:C,"data-styled":!(d.jsx||d.unstyled||g),"data-mounted":Y,"data-promise":!!d.promise,"data-swiped":ye,"data-removed":Se,"data-visible":gr,"data-y-position":xs,"data-x-position":Ss,"data-index":y,"data-front":pr,"data-swiping":ne,"data-dismissible":yt,"data-type":Oe,"data-invert":_r,"data-swipe-out":Z,"data-swipe-direction":te,"data-expanded":!!(S||E&&Y),style:{"--index":y,"--toasts-before":y,"--z-index":w.length-y,"--offset":`${Se?Ie:It.current}px`,"--initial-height":E?"auto":`${ot}px`,...D,...d.style},onDragEnd:()=>{L(!1),B(null),Tt.current=null},onPointerDown:W=>{on||!yt||(rn.current=new Date,We(It.current),W.target.setPointerCapture(W.pointerId),W.target.tagName!=="BUTTON"&&(L(!0),Tt.current={x:W.clientX,y:W.clientY}))},onPointerUp:()=>{var W,re,ae,Xe;if(Z||!yt)return;Tt.current=null;let Je=Number(((W=Ye.current)==null?void 0:W.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Rt=Number(((re=Ye.current)==null?void 0:re.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Vt=new Date().getTime()-((ae=rn.current)==null?void 0:ae.getTime()),Ze=U==="x"?Je:Rt,Ot=Math.abs(Ze)/Vt;if(Math.abs(Ze)>=Bu||Ot>.11){We(It.current),(Xe=d.onDismiss)==null||Xe.call(d,d),se(U==="x"?Je>0?"right":"left":Rt>0?"down":"up"),Qe(),ce(!0),ke(!1);return}L(!1),B(null)},onPointerMove:W=>{var re,ae,Xe,Je;if(!Tt.current||!yt||((re=window.getSelection())==null?void 0:re.toString().length)>0)return;let Rt=W.clientY-Tt.current.y,Vt=W.clientX-Tt.current.x,Ze=(ae=t.swipeDirections)!=null?ae:zu(X);!U&&(Math.abs(Vt)>1||Math.abs(Rt)>1)&&B(Math.abs(Vt)>Math.abs(Rt)?"x":"y");let Ot={x:0,y:0};U==="y"?(Ze.includes("top")||Ze.includes("bottom"))&&(Ze.includes("top")&&Rt<0||Ze.includes("bottom")&&Rt>0)&&(Ot.y=Rt):U==="x"&&(Ze.includes("left")||Ze.includes("right"))&&(Ze.includes("left")&&Vt<0||Ze.includes("right")&&Vt>0)&&(Ot.x=Vt),(Math.abs(Ot.x)>0||Math.abs(Ot.y)>0)&&ke(!0),(Xe=Ye.current)==null||Xe.style.setProperty("--swipe-amount-x",`${Ot.x}px`),(Je=Ye.current)==null||Je.style.setProperty("--swipe-amount-y",`${Ot.y}px`)}},In&&!d.jsx?T.createElement("button",{"aria-label":H,"data-disabled":on,"data-close-button":!0,onClick:on||!yt?()=>{}:()=>{var W;Qe(),(W=d.onDismiss)==null||W.call(d,d)},className:et(x?.closeButton,(s=d?.classNames)==null?void 0:s.closeButton)},(i=R?.close)!=null?i:Pu):null,d.jsx||ze.isValidElement(d.title)?d.jsx?d.jsx:typeof d.title=="function"?d.title():d.title:T.createElement(T.Fragment,null,Oe||d.icon||d.promise?T.createElement("div",{"data-icon":"",className:et(x?.icon,(o=d?.classNames)==null?void 0:o.icon)},d.promise||d.type==="loading"&&!d.icon?d.icon||Es():null,d.type!=="loading"?d.icon||R?.[Oe]||yu(Oe):null):null,T.createElement("div",{"data-content":"",className:et(x?.content,(a=d?.classNames)==null?void 0:a.content)},T.createElement("div",{"data-title":"",className:et(x?.title,(l=d?.classNames)==null?void 0:l.title)},typeof d.title=="function"?d.title():d.title),d.description?T.createElement("div",{"data-description":"",className:et(G,An,x?.description,(c=d?.classNames)==null?void 0:c.description)},typeof d.description=="function"?d.description():d.description):null),ze.isValidElement(d.cancel)?d.cancel:d.cancel&&yr(d.cancel)?T.createElement("button",{"data-button":!0,"data-cancel":!0,style:d.cancelButtonStyle||j,onClick:W=>{var re,ae;yr(d.cancel)&&yt&&((ae=(re=d.cancel).onClick)==null||ae.call(re,W),Qe())},className:et(x?.cancelButton,(u=d?.classNames)==null?void 0:u.cancelButton)},d.cancel.label):null,ze.isValidElement(d.action)?d.action:d.action&&yr(d.action)?T.createElement("button",{"data-button":!0,"data-action":!0,style:d.actionButtonStyle||N,onClick:W=>{var re,ae;yr(d.action)&&((ae=(re=d.action).onClick)==null||ae.call(re,W),!W.defaultPrevented&&Qe())},className:et(x?.actionButton,(h=d?.classNames)==null?void 0:h.actionButton)},d.action.label):null))};function po(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function Uu(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?Du:Lu;function l(c){["top","right","bottom","left"].forEach(u=>{n[`${o}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${o}-${c}`]=a:n[`${o}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(a)}),n}var Qg=ze.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:c,theme:u="light",richColors:h,duration:f,style:d,visibleToasts:g=Mu,toastOptions:p,dir:v=po(),gap:m=ju,loadingIcon:_,icons:y,containerAriaLabel:w="Notifications",pauseWhenPageIsHidden:S}=t,[P,C]=T.useState([]),k=T.useMemo(()=>Array.from(new Set([r].concat(P.filter(M=>M.position).map(M=>M.position)))),[P,r]),[D,j]=T.useState([]),[N,I]=T.useState(!1),[G,z]=T.useState(!1),[X,K]=T.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),V=T.useRef(null),E=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=T.useRef(null),R=T.useRef(!1),H=T.useCallback(M=>{C(U=>{var B;return(B=U.find(te=>te.id===M.id))!=null&&B.delete||Fe.dismiss(M.id),U.filter(({id:te})=>te!==M.id)})},[]);return T.useEffect(()=>Fe.subscribe(M=>{if(M.dismiss){C(U=>U.map(B=>B.id===M.id?{...B,delete:!0}:B));return}setTimeout(()=>{Dc.flushSync(()=>{C(U=>{let B=U.findIndex(te=>te.id===M.id);return B!==-1?[...U.slice(0,B),{...U[B],...M},...U.slice(B+1)]:[M,...U]})})})}),[]),T.useEffect(()=>{if(u!=="system"){K(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?K("dark"):K("light")),typeof window>"u")return;let M=window.matchMedia("(prefers-color-scheme: dark)");try{M.addEventListener("change",({matches:U})=>{K(U?"dark":"light")})}catch{M.addListener(({matches:B})=>{try{K(B?"dark":"light")}catch(te){console.error(te)}})}},[u]),T.useEffect(()=>{P.length<=1&&I(!1)},[P]),T.useEffect(()=>{let M=U=>{var B,te;s.every(se=>U[se]||U.code===se)&&(I(!0),(B=V.current)==null||B.focus()),U.code==="Escape"&&(document.activeElement===V.current||(te=V.current)!=null&&te.contains(document.activeElement))&&I(!1)};return document.addEventListener("keydown",M),()=>document.removeEventListener("keydown",M)},[s]),T.useEffect(()=>{if(V.current)return()=>{x.current&&(x.current.focus({preventScroll:!0}),x.current=null,R.current=!1)}},[V.current]),T.createElement("section",{ref:e,"aria-label":`${w} ${E}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((M,U)=>{var B;let[te,se]=M.split("-");return P.length?T.createElement("ol",{key:M,dir:v==="auto"?po():v,tabIndex:-1,ref:V,className:a,"data-sonner-toaster":!0,"data-theme":X,"data-y-position":te,"data-lifted":N&&P.length>1&&!i,"data-x-position":se,style:{"--front-toast-height":`${((B=D[0])==null?void 0:B.height)||0}px`,"--width":`${Nu}px`,"--gap":`${m}px`,...d,...Uu(l,c)},onBlur:Y=>{R.current&&!Y.currentTarget.contains(Y.relatedTarget)&&(R.current=!1,x.current&&(x.current.focus({preventScroll:!0}),x.current=null))},onFocus:Y=>{Y.target instanceof HTMLElement&&Y.target.dataset.dismissible==="false"||R.current||(R.current=!0,x.current=Y.relatedTarget)},onMouseEnter:()=>I(!0),onMouseMove:()=>I(!0),onMouseLeave:()=>{G||I(!1)},onDragEnd:()=>I(!1),onPointerDown:Y=>{Y.target instanceof HTMLElement&&Y.target.dataset.dismissible==="false"||z(!0)},onPointerUp:()=>z(!1)},P.filter(Y=>!Y.position&&U===0||Y.position===M).map((Y,me)=>{var Se,oe;return T.createElement(qu,{key:Y.id,icons:y,index:me,toast:Y,defaultRichColors:h,duration:(Se=p?.duration)!=null?Se:f,className:p?.className,descriptionClassName:p?.descriptionClassName,invert:n,visibleToasts:g,closeButton:(oe=p?.closeButton)!=null?oe:o,interacting:G,position:M,style:p?.style,unstyled:p?.unstyled,classNames:p?.classNames,cancelButtonStyle:p?.cancelButtonStyle,actionButtonStyle:p?.actionButtonStyle,removeToast:H,toasts:P.filter(ne=>ne.position==Y.position),heights:D.filter(ne=>ne.position==Y.position),setHeights:j,expandByDefault:i,gap:m,loadingIcon:_,expanded:N,pauseWhenPageIsHidden:S,swipeDirections:t.swipeDirections})})):null}))});const Vu=["top","right","bottom","left"],Ht=Math.min,Ne=Math.max,Hr=Math.round,br=Math.floor,ft=t=>({x:t,y:t}),Wu={left:"right",right:"left",bottom:"top",top:"bottom"},Gu={start:"end",end:"start"};function Gs(t,e,n){return Ne(t,Ht(e,n))}function Pt(t,e){return typeof t=="function"?t(e):t}function Ct(t){return t.split("-")[0]}function Pn(t){return t.split("-")[1]}function Mi(t){return t==="x"?"y":"x"}function Li(t){return t==="y"?"height":"width"}const Yu=new Set(["top","bottom"]);function ut(t){return Yu.has(Ct(t))?"y":"x"}function Di(t){return Mi(ut(t))}function Ku(t,e,n){n===void 0&&(n=!1);const r=Pn(t),s=Di(t),i=Li(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=zr(o)),[o,zr(o)]}function Qu(t){const e=zr(t);return[Ys(t),e,Ys(e)]}function Ys(t){return t.replace(/start|end/g,e=>Gu[e])}const go=["left","right"],vo=["right","left"],Xu=["top","bottom"],Ju=["bottom","top"];function Zu(t,e,n){switch(t){case"top":case"bottom":return n?e?vo:go:e?go:vo;case"left":case"right":return e?Xu:Ju;default:return[]}}function ed(t,e,n,r){const s=Pn(t);let i=Zu(Ct(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Ys)))),i}function zr(t){return t.replace(/left|right|bottom|top/g,e=>Wu[e])}function td(t){return{top:0,right:0,bottom:0,left:0,...t}}function Za(t){return typeof t!="number"?td(t):{top:t,right:t,bottom:t,left:t}}function qr(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function mo(t,e,n){let{reference:r,floating:s}=t;const i=ut(e),o=Di(e),a=Li(o),l=Ct(e),c=i==="y",u=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,f=r[a]/2-s[a]/2;let d;switch(l){case"top":d={x:u,y:r.y-s.height};break;case"bottom":d={x:u,y:r.y+r.height};break;case"right":d={x:r.x+r.width,y:h};break;case"left":d={x:r.x-s.width,y:h};break;default:d={x:r.x,y:r.y}}switch(Pn(e)){case"start":d[o]-=f*(n&&c?-1:1);break;case"end":d[o]+=f*(n&&c?-1:1);break}return d}const nd=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:u,y:h}=mo(c,r,l),f=r,d={},g=0;for(let p=0;p<a.length;p++){const{name:v,fn:m}=a[p],{x:_,y,data:w,reset:S}=await m({x:u,y:h,initialPlacement:r,placement:f,strategy:s,middlewareData:d,rects:c,platform:o,elements:{reference:t,floating:e}});u=_??u,h=y??h,d={...d,[v]:{...d[v],...w}},S&&g<=50&&(g++,typeof S=="object"&&(S.placement&&(f=S.placement),S.rects&&(c=S.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):S.rects),{x:u,y:h}=mo(c,f,l)),p=-1)}return{x:u,y:h,placement:f,strategy:s,middlewareData:d}};async function Jn(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:f=!1,padding:d=0}=Pt(e,t),g=Za(d),v=a[f?h==="floating"?"reference":"floating":h],m=qr(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(v)))==null||n?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),_=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,y=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),w=await(i.isElement==null?void 0:i.isElement(y))?await(i.getScale==null?void 0:i.getScale(y))||{x:1,y:1}:{x:1,y:1},S=qr(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:y,strategy:l}):_);return{top:(m.top-S.top+g.top)/w.y,bottom:(S.bottom-m.bottom+g.bottom)/w.y,left:(m.left-S.left+g.left)/w.x,right:(S.right-m.right+g.right)/w.x}}const rd=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=Pt(t,e)||{};if(c==null)return{};const h=Za(u),f={x:n,y:r},d=Di(s),g=Li(d),p=await o.getDimensions(c),v=d==="y",m=v?"top":"left",_=v?"bottom":"right",y=v?"clientHeight":"clientWidth",w=i.reference[g]+i.reference[d]-f[d]-i.floating[g],S=f[d]-i.reference[d],P=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let C=P?P[y]:0;(!C||!await(o.isElement==null?void 0:o.isElement(P)))&&(C=a.floating[y]||i.floating[g]);const k=w/2-S/2,D=C/2-p[g]/2-1,j=Ht(h[m],D),N=Ht(h[_],D),I=j,G=C-p[g]-N,z=C/2-p[g]/2+k,X=Gs(I,z,G),K=!l.arrow&&Pn(s)!=null&&z!==X&&i.reference[g]/2-(z<I?j:N)-p[g]/2<0,V=K?z<I?z-I:z-G:0;return{[d]:f[d]+V,data:{[d]:X,centerOffset:z-X-V,...K&&{alignmentOffset:V}},reset:K}}}),sd=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:p=!0,...v}=Pt(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const m=Ct(s),_=ut(a),y=Ct(a)===a,w=await(l.isRTL==null?void 0:l.isRTL(c.floating)),S=f||(y||!p?[zr(a)]:Qu(a)),P=g!=="none";!f&&P&&S.push(...ed(a,p,g,w));const C=[a,...S],k=await Jn(e,v),D=[];let j=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&D.push(k[m]),h){const z=Ku(s,o,w);D.push(k[z[0]],k[z[1]])}if(j=[...j,{placement:s,overflows:D}],!D.every(z=>z<=0)){var N,I;const z=(((N=i.flip)==null?void 0:N.index)||0)+1,X=C[z];if(X&&(!(h==="alignment"?_!==ut(X):!1)||j.every(E=>ut(E.placement)===_?E.overflows[0]>0:!0)))return{data:{index:z,overflows:j},reset:{placement:X}};let K=(I=j.filter(V=>V.overflows[0]<=0).sort((V,E)=>V.overflows[1]-E.overflows[1])[0])==null?void 0:I.placement;if(!K)switch(d){case"bestFit":{var G;const V=(G=j.filter(E=>{if(P){const x=ut(E.placement);return x===_||x==="y"}return!0}).map(E=>[E.placement,E.overflows.filter(x=>x>0).reduce((x,R)=>x+R,0)]).sort((E,x)=>E[1]-x[1])[0])==null?void 0:G[0];V&&(K=V);break}case"initialPlacement":K=a;break}if(s!==K)return{reset:{placement:K}}}return{}}}};function _o(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function yo(t){return Vu.some(e=>t[e]>=0)}const id=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Pt(t,e);switch(r){case"referenceHidden":{const i=await Jn(e,{...s,elementContext:"reference"}),o=_o(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:yo(o)}}}case"escaped":{const i=await Jn(e,{...s,altBoundary:!0}),o=_o(i,n.floating);return{data:{escapedOffsets:o,escaped:yo(o)}}}default:return{}}}}},el=new Set(["left","top"]);async function od(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Ct(n),a=Pn(n),l=ut(n)==="y",c=el.has(o)?-1:1,u=i&&l?-1:1,h=Pt(e,t);let{mainAxis:f,crossAxis:d,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof g=="number"&&(d=a==="end"?g*-1:g),l?{x:d*u,y:f*c}:{x:f*c,y:d*u}}const ad=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await od(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},ld=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:v=>{let{x:m,y:_}=v;return{x:m,y:_}}},...l}=Pt(t,e),c={x:n,y:r},u=await Jn(e,l),h=ut(Ct(s)),f=Mi(h);let d=c[f],g=c[h];if(i){const v=f==="y"?"top":"left",m=f==="y"?"bottom":"right",_=d+u[v],y=d-u[m];d=Gs(_,d,y)}if(o){const v=h==="y"?"top":"left",m=h==="y"?"bottom":"right",_=g+u[v],y=g-u[m];g=Gs(_,g,y)}const p=a.fn({...e,[f]:d,[h]:g});return{...p,data:{x:p.x-n,y:p.y-r,enabled:{[f]:i,[h]:o}}}}}},cd=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Pt(t,e),u={x:n,y:r},h=ut(s),f=Mi(h);let d=u[f],g=u[h];const p=Pt(a,e),v=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(l){const y=f==="y"?"height":"width",w=i.reference[f]-i.floating[y]+v.mainAxis,S=i.reference[f]+i.reference[y]-v.mainAxis;d<w?d=w:d>S&&(d=S)}if(c){var m,_;const y=f==="y"?"width":"height",w=el.has(Ct(s)),S=i.reference[h]-i.floating[y]+(w&&((m=o.offset)==null?void 0:m[h])||0)+(w?0:v.crossAxis),P=i.reference[h]+i.reference[y]+(w?0:((_=o.offset)==null?void 0:_[h])||0)-(w?v.crossAxis:0);g<S?g=S:g>P&&(g=P)}return{[f]:d,[h]:g}}}},ud=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Pt(t,e),u=await Jn(e,c),h=Ct(s),f=Pn(s),d=ut(s)==="y",{width:g,height:p}=i.floating;let v,m;h==="top"||h==="bottom"?(v=h,m=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(m=h,v=f==="end"?"top":"bottom");const _=p-u.top-u.bottom,y=g-u.left-u.right,w=Ht(p-u[v],_),S=Ht(g-u[m],y),P=!e.middlewareData.shift;let C=w,k=S;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(k=y),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=_),P&&!f){const j=Ne(u.left,0),N=Ne(u.right,0),I=Ne(u.top,0),G=Ne(u.bottom,0);d?k=g-2*(j!==0||N!==0?j+N:Ne(u.left,u.right)):C=p-2*(I!==0||G!==0?I+G:Ne(u.top,u.bottom))}await l({...e,availableWidth:k,availableHeight:C});const D=await o.getDimensions(a.floating);return g!==D.width||p!==D.height?{reset:{rects:!0}}:{}}}};function as(){return typeof window<"u"}function Cn(t){return tl(t)?(t.nodeName||"").toLowerCase():"#document"}function He(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function _t(t){var e;return(e=(tl(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function tl(t){return as()?t instanceof Node||t instanceof He(t).Node:!1}function st(t){return as()?t instanceof Element||t instanceof He(t).Element:!1}function vt(t){return as()?t instanceof HTMLElement||t instanceof He(t).HTMLElement:!1}function bo(t){return!as()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof He(t).ShadowRoot}const dd=new Set(["inline","contents"]);function dr(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=it(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!dd.has(s)}const hd=new Set(["table","td","th"]);function fd(t){return hd.has(Cn(t))}const pd=[":popover-open",":modal"];function ls(t){return pd.some(e=>{try{return t.matches(e)}catch{return!1}})}const gd=["transform","translate","scale","rotate","perspective"],vd=["transform","translate","scale","rotate","perspective","filter"],md=["paint","layout","strict","content"];function Ni(t){const e=ji(),n=st(t)?it(t):t;return gd.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||vd.some(r=>(n.willChange||"").includes(r))||md.some(r=>(n.contain||"").includes(r))}function _d(t){let e=zt(t);for(;vt(e)&&!yn(e);){if(Ni(e))return e;if(ls(e))return null;e=zt(e)}return null}function ji(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const yd=new Set(["html","body","#document"]);function yn(t){return yd.has(Cn(t))}function it(t){return He(t).getComputedStyle(t)}function cs(t){return st(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function zt(t){if(Cn(t)==="html")return t;const e=t.assignedSlot||t.parentNode||bo(t)&&t.host||_t(t);return bo(e)?e.host:e}function nl(t){const e=zt(t);return yn(e)?t.ownerDocument?t.ownerDocument.body:t.body:vt(e)&&dr(e)?e:nl(e)}function Zn(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=nl(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=He(s);if(i){const a=Ks(o);return e.concat(o,o.visualViewport||[],dr(s)?s:[],a&&n?Zn(a):[])}return e.concat(s,Zn(s,[],n))}function Ks(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function rl(t){const e=it(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=vt(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Hr(n)!==i||Hr(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Bi(t){return st(t)?t:t.contextElement}function gn(t){const e=Bi(t);if(!vt(e))return ft(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=rl(e);let o=(i?Hr(n.width):n.width)/r,a=(i?Hr(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const bd=ft(0);function sl(t){const e=He(t);return!ji()||!e.visualViewport?bd:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function wd(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==He(t)?!1:e}function Jt(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Bi(t);let o=ft(1);e&&(r?st(r)&&(o=gn(r)):o=gn(t));const a=wd(i,n,r)?sl(i):ft(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,u=s.width/o.x,h=s.height/o.y;if(i){const f=He(i),d=r&&st(r)?He(r):r;let g=f,p=Ks(g);for(;p&&r&&d!==g;){const v=gn(p),m=p.getBoundingClientRect(),_=it(p),y=m.left+(p.clientLeft+parseFloat(_.paddingLeft))*v.x,w=m.top+(p.clientTop+parseFloat(_.paddingTop))*v.y;l*=v.x,c*=v.y,u*=v.x,h*=v.y,l+=y,c+=w,g=He(p),p=Ks(g)}}return qr({width:u,height:h,x:l,y:c})}function us(t,e){const n=cs(t).scrollLeft;return e?e.left+n:Jt(_t(t)).left+n}function il(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-us(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function xd(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=_t(r),a=e?ls(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=ft(1);const u=ft(0),h=vt(r);if((h||!h&&!i)&&((Cn(r)!=="body"||dr(o))&&(l=cs(r)),vt(r))){const d=Jt(r);c=gn(r),u.x=d.x+r.clientLeft,u.y=d.y+r.clientTop}const f=o&&!h&&!i?il(o,l):ft(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+f.x,y:n.y*c.y-l.scrollTop*c.y+u.y+f.y}}function Sd(t){return Array.from(t.getClientRects())}function Ed(t){const e=_t(t),n=cs(t),r=t.ownerDocument.body,s=Ne(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Ne(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+us(t);const a=-n.scrollTop;return it(r).direction==="rtl"&&(o+=Ne(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}const wo=25;function kd(t,e){const n=He(t),r=_t(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const u=ji();(!u||u&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}const c=us(r);if(c<=0){const u=r.ownerDocument,h=u.body,f=getComputedStyle(h),d=u.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,g=Math.abs(r.clientWidth-h.clientWidth-d);g<=wo&&(i-=g)}else c<=wo&&(i+=c);return{width:i,height:o,x:a,y:l}}const Pd=new Set(["absolute","fixed"]);function Cd(t,e){const n=Jt(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=vt(t)?gn(t):ft(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function xo(t,e,n){let r;if(e==="viewport")r=kd(t,n);else if(e==="document")r=Ed(_t(t));else if(st(e))r=Cd(e,n);else{const s=sl(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return qr(r)}function ol(t,e){const n=zt(t);return n===e||!st(n)||yn(n)?!1:it(n).position==="fixed"||ol(n,e)}function Ad(t,e){const n=e.get(t);if(n)return n;let r=Zn(t,[],!1).filter(a=>st(a)&&Cn(a)!=="body"),s=null;const i=it(t).position==="fixed";let o=i?zt(t):t;for(;st(o)&&!yn(o);){const a=it(o),l=Ni(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&Pd.has(s.position)||dr(o)&&!l&&ol(t,o))?r=r.filter(u=>u!==o):s=a,o=zt(o)}return e.set(t,r),r}function Id(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?ls(e)?[]:Ad(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const h=xo(e,u,s);return c.top=Ne(h.top,c.top),c.right=Ht(h.right,c.right),c.bottom=Ht(h.bottom,c.bottom),c.left=Ne(h.left,c.left),c},xo(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Td(t){const{width:e,height:n}=rl(t);return{width:e,height:n}}function Rd(t,e,n){const r=vt(e),s=_t(e),i=n==="fixed",o=Jt(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=ft(0);function c(){l.x=us(s)}if(r||!r&&!i)if((Cn(e)!=="body"||dr(s))&&(a=cs(e)),r){const d=Jt(e,!0,i,e);l.x=d.x+e.clientLeft,l.y=d.y+e.clientTop}else s&&c();i&&!r&&s&&c();const u=s&&!r&&!i?il(s,a):ft(0),h=o.left+a.scrollLeft-l.x-u.x,f=o.top+a.scrollTop-l.y-u.y;return{x:h,y:f,width:o.width,height:o.height}}function Ps(t){return it(t).position==="static"}function So(t,e){if(!vt(t)||it(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return _t(t)===n&&(n=n.ownerDocument.body),n}function al(t,e){const n=He(t);if(ls(t))return n;if(!vt(t)){let s=zt(t);for(;s&&!yn(s);){if(st(s)&&!Ps(s))return s;s=zt(s)}return n}let r=So(t,e);for(;r&&fd(r)&&Ps(r);)r=So(r,e);return r&&yn(r)&&Ps(r)&&!Ni(r)?n:r||_d(t)||n}const Od=async function(t){const e=this.getOffsetParent||al,n=this.getDimensions,r=await n(t.floating);return{reference:Rd(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Fd(t){return it(t).direction==="rtl"}const $d={convertOffsetParentRelativeRectToViewportRelativeRect:xd,getDocumentElement:_t,getClippingRect:Id,getOffsetParent:al,getElementRects:Od,getClientRects:Sd,getDimensions:Td,getScale:gn,isElement:st,isRTL:Fd};function ll(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Md(t,e){let n=null,r;const s=_t(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=t.getBoundingClientRect(),{left:u,top:h,width:f,height:d}=c;if(a||e(),!f||!d)return;const g=br(h),p=br(s.clientWidth-(u+f)),v=br(s.clientHeight-(h+d)),m=br(u),y={rootMargin:-g+"px "+-p+"px "+-v+"px "+-m+"px",threshold:Ne(0,Ht(1,l))||1};let w=!0;function S(P){const C=P[0].intersectionRatio;if(C!==l){if(!w)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!ll(c,t.getBoundingClientRect())&&o(),w=!1}try{n=new IntersectionObserver(S,{...y,root:s.ownerDocument})}catch{n=new IntersectionObserver(S,y)}n.observe(t)}return o(!0),i}function Xg(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Bi(t),u=s||i?[...c?Zn(c):[],...Zn(e)]:[];u.forEach(m=>{s&&m.addEventListener("scroll",n,{passive:!0}),i&&m.addEventListener("resize",n)});const h=c&&a?Md(c,n):null;let f=-1,d=null;o&&(d=new ResizeObserver(m=>{let[_]=m;_&&_.target===c&&d&&(d.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var y;(y=d)==null||y.observe(e)})),n()}),c&&!l&&d.observe(c),d.observe(e));let g,p=l?Jt(t):null;l&&v();function v(){const m=Jt(t);p&&!ll(p,m)&&n(),p=m,g=requestAnimationFrame(v)}return n(),()=>{var m;u.forEach(_=>{s&&_.removeEventListener("scroll",n),i&&_.removeEventListener("resize",n)}),h?.(),(m=d)==null||m.disconnect(),d=null,l&&cancelAnimationFrame(g)}}const Jg=ad,Zg=ld,ev=sd,tv=ud,nv=id,rv=rd,sv=cd,iv=(t,e,n)=>{const r=new Map,s={platform:$d,...n},i={...s.platform,_c:r};return nd(t,e,{...s,platform:i})};var ds=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ld={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Dd=class{#e=Ld;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},Qs=new Dd;function Nd(t){setTimeout(t,0)}var hs=typeof window>"u"||"Deno"in globalThis;function tt(){}function jd(t,e){return typeof t=="function"?t(e):t}function Bd(t){return typeof t=="number"&&t>=0&&t!==1/0}function Hd(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Xs(t,e){return typeof t=="function"?t(e):t}function zd(t,e){return typeof t=="function"?t(e):t}function Eo(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Hi(o,e.options))return!1}else if(!tr(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function ko(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(er(e.options.mutationKey)!==er(i))return!1}else if(!tr(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Hi(t,e){return(e?.queryKeyHashFn||er)(t)}function er(t){return JSON.stringify(t,(e,n)=>Js(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function tr(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>tr(t[n],e[n])):!1}var qd=Object.prototype.hasOwnProperty;function cl(t,e){if(t===e)return t;const n=Po(t)&&Po(e);if(!n&&!(Js(t)&&Js(e)))return e;const s=(n?t:Object.keys(t)).length,i=n?e:Object.keys(e),o=i.length,a=n?new Array(o):{};let l=0;for(let c=0;c<o;c++){const u=n?c:i[c],h=t[u],f=e[u];if(h===f){a[u]=h,(n?c<s:qd.call(t,u))&&l++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){a[u]=f;continue}const d=cl(h,f);a[u]=d,d===h&&l++}return s===o&&l===s?t:a}function Po(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Js(t){if(!Co(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Co(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Co(t){return Object.prototype.toString.call(t)==="[object Object]"}function Ud(t){return new Promise(e=>{Qs.setTimeout(e,t)})}function Vd(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?cl(t,e):e}function Wd(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Gd(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var zi=Symbol();function ul(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===zi?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Yd=class extends ds{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!hs&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},dl=new Yd;function Kd(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}var Qd=Nd;function Xd(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=Qd;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Re=Xd(),Jd=class extends ds{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!hs&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},Ur=new Jd;function Zd(t){return Math.min(1e3*2**t,3e4)}function hl(t){return(t??"online")==="online"?Ur.isOnline():!0}var Zs=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function fl(t){let e=!1,n=0,r;const s=Kd(),i=()=>s.status!=="pending",o=p=>{if(!i()){const v=new Zs(p);f(v),t.onCancel?.(v)}},a=()=>{e=!0},l=()=>{e=!1},c=()=>dl.isFocused()&&(t.networkMode==="always"||Ur.isOnline())&&t.canRun(),u=()=>hl(t.networkMode)&&t.canRun(),h=p=>{i()||(r?.(),s.resolve(p))},f=p=>{i()||(r?.(),s.reject(p))},d=()=>new Promise(p=>{r=v=>{(i()||c())&&p(v)},t.onPause?.()}).then(()=>{r=void 0,i()||t.onContinue?.()}),g=()=>{if(i())return;let p;const v=n===0?t.initialPromise:void 0;try{p=v??t.fn()}catch(m){p=Promise.reject(m)}Promise.resolve(p).then(h).catch(m=>{if(i())return;const _=t.retry??(hs?0:3),y=t.retryDelay??Zd,w=typeof y=="function"?y(n,m):y,S=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,m);if(e||!S){f(m);return}n++,t.onFail?.(n,m),Ud(w).then(()=>c()?void 0:d()).then(()=>{e?f(m):g()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r?.(),s),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?g():d().then(g),s)}}var pl=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Bd(this.gcTime)&&(this.#e=Qs.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(hs?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(Qs.clearTimeout(this.#e),this.#e=void 0)}},eh=class extends pl{#e;#t;#n;#s;#r;#o;#a;constructor(t){super(),this.#a=!1,this.#o=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#s=t.client,this.#n=this.#s.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=Ao(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(t){if(this.options={...this.#o,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=Ao(this.options);e.data!==void 0&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=Vd(this.state.data,t,this.options);return this.#i({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#i({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#r?.promise;return this.#r?.cancel(t),e?e.then(tt).catch(tt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>zd(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===zi||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Xs(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Hd(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#r&&(this.#a?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(t&&this.setOptions(t),!this.options.queryFn){const a=this.observers.find(l=>l.options.queryFn);a&&this.setOptions(a.options)}const n=new AbortController,r=a=>{Object.defineProperty(a,"signal",{enumerable:!0,get:()=>(this.#a=!0,n.signal)})},s=()=>{const a=ul(this.options,e),c=(()=>{const u={client:this.#s,queryKey:this.queryKey,meta:this.meta};return r(u),u})();return this.#a=!1,this.options.persister?this.options.persister(a,c,this):a(c)},o=(()=>{const a={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:s};return r(a),a})();this.options.behavior?.onFetch(o,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#i({type:"fetch",meta:o.fetchOptions?.meta}),this.#r=fl({initialPromise:e?.initialPromise,fn:o.fetchFn,onCancel:a=>{a instanceof Zs&&a.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(a,l)=>{this.#i({type:"failed",failureCount:a,error:l})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0});try{const a=await this.#r.start();if(a===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(a),this.#n.config.onSuccess?.(a,this),this.#n.config.onSettled?.(a,this.state.error,this),a}catch(a){if(a instanceof Zs){if(a.silent)return this.#r.promise;if(a.revert){if(this.state.data===void 0)throw a;return this.state.data}}throw this.#i({type:"error",error:a}),this.#n.config.onError?.(a,this),this.#n.config.onSettled?.(this.state.data,a,this),a}finally{this.scheduleGc()}}#i(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...th(n.data,this.options),fetchMeta:t.meta??null};case"success":const r={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?r:void 0,r;case"error":const s=t.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),Re.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function th(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:hl(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Ao(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function Io(t){return{onFetch:(e,n)=>{const r=e.options,s=e.fetchOptions?.meta?.fetchMore?.direction,i=e.state.data?.pages||[],o=e.state.data?.pageParams||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let u=!1;const h=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(e.signal.aborted?u=!0:e.signal.addEventListener("abort",()=>{u=!0}),e.signal)})},f=ul(e.options,e.fetchOptions),d=async(g,p,v)=>{if(u)return Promise.reject();if(p==null&&g.pages.length)return Promise.resolve(g);const _=(()=>{const P={client:e.client,queryKey:e.queryKey,pageParam:p,direction:v?"backward":"forward",meta:e.options.meta};return h(P),P})(),y=await f(_),{maxPages:w}=e.options,S=v?Gd:Wd;return{pages:S(g.pages,y,w),pageParams:S(g.pageParams,p,w)}};if(s&&i.length){const g=s==="backward",p=g?nh:To,v={pages:i,pageParams:o},m=p(r,v);a=await d(v,m,g)}else{const g=t??i.length;do{const p=l===0?o[0]??r.initialPageParam:To(r,a);if(l>0&&p==null)break;a=await d(a,p),l++}while(l<g)}return a};e.options.persister?e.fetchFn=()=>e.options.persister?.(c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=c}}}function To(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function nh(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var rh=class extends pl{#e;#t;#n;#s;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#n=t.mutationCache,this.#t=[],this.state=t.state||sh(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#r({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=fl({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(i,o)=>{this.#r({type:"failed",failureCount:i,error:o})},onPause:()=>{this.#r({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const r=this.state.status==="pending",s=!this.#s.canStart();try{if(r)e();else{this.#r({type:"pending",variables:t,isPaused:s}),await this.#n.config.onMutate?.(t,this,n);const o=await this.options.onMutate?.(t,n);o!==this.state.context&&this.#r({type:"pending",context:o,variables:t,isPaused:s})}const i=await this.#s.start();return await this.#n.config.onSuccess?.(i,t,this.state.context,this,n),await this.options.onSuccess?.(i,t,this.state.context,n),await this.#n.config.onSettled?.(i,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(i,null,t,this.state.context,n),this.#r({type:"success",data:i}),i}catch(i){try{throw await this.#n.config.onError?.(i,t,this.state.context,this,n),await this.options.onError?.(i,t,this.state.context,n),await this.#n.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,i,t,this.state.context,n),i}finally{this.#r({type:"error",error:i})}}finally{this.#n.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Re.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function sh(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ih=class extends ds{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const r=new rh({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.add(t);const e=wr(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=wr(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=wr(t);if(typeof e=="string"){const r=this.#t.get(e)?.find(s=>s.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=wr(t);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Re.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>ko(e,n))}findAll(t={}){return this.getAll().filter(e=>ko(t,e))}notify(t){Re.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Re.batch(()=>Promise.all(t.map(e=>e.continue().catch(tt))))}};function wr(t){return t.options.scope?.id}var oh=class extends ds{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,s=e.queryHash??Hi(r,e);let i=this.get(s);return i||(i=new eh({client:t,queryKey:r,queryHash:s,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(i)),i}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Re.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>Eo(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>Eo(t,n)):e}notify(t){Re.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Re.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Re.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},ov=class{#e;#t;#n;#s;#r;#o;#a;#i;constructor(t={}){this.#e=t.queryCache||new oh,this.#t=t.mutationCache||new ih,this.#n=t.defaultOptions||{},this.#s=new Map,this.#r=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=dl.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=Ur.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#i?.(),this.#i=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Xs(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=this.#e.get(r.queryHash)?.state.data,o=jd(e,i);if(o!==void 0)return this.#e.build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Re.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;Re.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return Re.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Re.batch(()=>this.#e.findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(tt).catch(tt)}invalidateQueries(t,e={}){return Re.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Re.batch(()=>this.#e.findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(tt)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(tt)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(Xs(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(tt).catch(tt)}fetchInfiniteQuery(t){return t.behavior=Io(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(tt).catch(tt)}ensureInfiniteQueryData(t){return t.behavior=Io(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Ur.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#s.set(er(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#s.values()],n={};return e.forEach(r=>{tr(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#r.set(er(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{tr(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Hi(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===zi&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}};/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nr(){return nr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nr.apply(this,arguments)}var un;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(un||(un={}));const Ro="popstate";function av(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return ei("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:vl(s)}return lh(e,n,null,t)}function vn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function gl(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ah(){return Math.random().toString(36).substr(2,8)}function Oo(t,e){return{usr:t.state,key:t.key,idx:e}}function ei(t,e,n,r){return n===void 0&&(n=null),nr({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?fs(e):e,{state:n,key:e&&e.key||r||ah()})}function vl(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function fs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function lh(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=un.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(nr({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){a=un.Pop;let v=u(),m=v==null?null:v-c;c=v,l&&l({action:a,location:p.location,delta:m})}function f(v,m){a=un.Push;let _=ei(p.location,v,m);c=u()+1;let y=Oo(_,c),w=p.createHref(_);try{o.pushState(y,"",w)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(w)}i&&l&&l({action:a,location:p.location,delta:1})}function d(v,m){a=un.Replace;let _=ei(p.location,v,m);c=u();let y=Oo(_,c),w=p.createHref(_);o.replaceState(y,"",w),i&&l&&l({action:a,location:p.location,delta:0})}function g(v){let m=s.location.origin!=="null"?s.location.origin:s.location.href,_=typeof v=="string"?v:vl(v);return _=_.replace(/ $/,"%20"),vn(m,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,m)}let p={get action(){return a},get location(){return t(s,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Ro,h),l=v,()=>{s.removeEventListener(Ro,h),l=null}},createHref(v){return e(s,v)},createURL:g,encodeLocation(v){let m=g(v);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:d,go(v){return o.go(v)}};return p}var Fo;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Fo||(Fo={}));function lv(t,e,n){return n===void 0&&(n="/"),ch(t,e,n)}function ch(t,e,n,r){let s=typeof e=="string"?fs(e):e,i=Sh(s.pathname||"/",n);if(i==null)return null;let o=ml(t);uh(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=xh(i);a=yh(o[l],c)}return a}function ml(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(vn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=$r([r,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(vn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),ml(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:mh(c,i.index),routesMeta:u})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of _l(i.path))s(i,o,l)}),e}function _l(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=_l(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function uh(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:_h(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const dh=/^:[\w-]+$/,hh=3,fh=2,ph=1,gh=10,vh=-2,$o=t=>t==="*";function mh(t,e){let n=t.split("/"),r=n.length;return n.some($o)&&(r+=vh),e&&(r+=fh),n.filter(s=>!$o(s)).reduce((s,i)=>s+(dh.test(i)?hh:i===""?ph:gh),r)}function _h(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function yh(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",h=bh({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:$r([i,h.pathname]),pathnameBase:Ch($r([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=$r([i,h.pathnameBase]))}return o}function bh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=wh(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,u,h)=>{let{paramName:f,isOptional:d}=u;if(f==="*"){let p=a[h]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const g=a[h];return d&&!g?c[f]=void 0:c[f]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function wh(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),gl(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function xh(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gl(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Sh(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Eh(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?fs(t):t;return{pathname:n?n.startsWith("/")?n:kh(n,e):e,search:Ah(r),hash:Ih(s)}}function kh(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Cs(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ph(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function cv(t,e){let n=Ph(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function uv(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=fs(t):(s=nr({},t),vn(!s.pathname||!s.pathname.includes("?"),Cs("?","pathname","search",s)),vn(!s.pathname||!s.pathname.includes("#"),Cs("#","pathname","hash",s)),vn(!s.search||!s.search.includes("#"),Cs("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=Eh(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const $r=t=>t.join("/").replace(/\/\/+/g,"/"),Ch=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Ah=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Ih=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function dv(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const yl=["post","put","patch","delete"];new Set(yl);const Th=["get",...yl];new Set(Th);var Rh=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},an=new WeakMap,xr=new WeakMap,Sr={},As=0,bl=function(t){return t&&(t.host||bl(t.parentNode))},Oh=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=bl(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Fh=function(t,e,n,r){var s=Oh(e,Array.isArray(t)?t:[t]);Sr[n]||(Sr[n]=new WeakMap);var i=Sr[n],o=[],a=new Set,l=new Set(s),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};s.forEach(c);var u=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(f){if(a.has(f))u(f);else try{var d=f.getAttribute(r),g=d!==null&&d!=="false",p=(an.get(f)||0)+1,v=(i.get(f)||0)+1;an.set(f,p),i.set(f,v),o.push(f),p===1&&g&&xr.set(f,!0),v===1&&f.setAttribute(n,"true"),g||f.setAttribute(r,"true")}catch(m){console.error("aria-hidden: cannot operate on ",f,m)}})};return u(e),a.clear(),As++,function(){o.forEach(function(h){var f=an.get(h)-1,d=i.get(h)-1;an.set(h,f),i.set(h,d),f||(xr.has(h)||h.removeAttribute(r),xr.delete(h)),d||h.removeAttribute(n)}),As--,As||(an=new WeakMap,an=new WeakMap,xr=new WeakMap,Sr={})}},hv=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=Rh(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),Fh(r,s,n,"aria-hidden")):function(){return null}},Vr=function(){return Vr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Vr.apply(this,arguments)};function $h(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function fv(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function Is(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Mh(t,e){var n=ze.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var Lh=typeof window<"u"?ze.useLayoutEffect:ze.useEffect,Mo=new WeakMap;function pv(t,e){var n=Mh(null,function(r){return t.forEach(function(s){return Is(s,r)})});return Lh(function(){var r=Mo.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Is(a,null)}),i.forEach(function(a){s.has(a)||Is(a,o)})}Mo.set(n,t)},[t]),n}function Dh(t){return t}function Nh(t,e){e===void 0&&(e=Dh);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var u=o;o=[],u.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),n}}}};return s}function gv(t){t===void 0&&(t={});var e=Nh(null);return e.options=Vr({async:!0,ssr:!1},t),e}var wl=function(t){var e=t.sideCar,n=$h(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return ze.createElement(r,Vr({},n))};wl.isSideCarExport=!0;function vv(t,e){return t.useMedium(e),wl}var mv=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function qi(t){return typeof t=="number"}function ti(t){return typeof t=="string"}function ps(t){return typeof t=="boolean"}function Lo(t){return Object.prototype.toString.call(t)==="[object Object]"}function fe(t){return Math.abs(t)}function Ui(t){return Math.sign(t)}function Kn(t,e){return fe(t-e)}function jh(t,e){if(t===0||e===0||fe(t)<=fe(e))return 0;const n=Kn(fe(t),fe(e));return fe(n/t)}function Bh(t){return Math.round(t*100)/100}function rr(t){return sr(t).map(Number)}function rt(t){return t[hr(t)]}function hr(t){return Math.max(0,t.length-1)}function Vi(t,e){return e===hr(t)}function Do(t,e=0){return Array.from(Array(t),(n,r)=>e+r)}function sr(t){return Object.keys(t)}function xl(t,e){return[t,e].reduce((n,r)=>(sr(r).forEach(s=>{const i=n[s],o=r[s],a=Lo(i)&&Lo(o);n[s]=a?xl(i,o):o}),n),{})}function ni(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function Hh(t,e){const n={start:r,center:s,end:i};function r(){return 0}function s(l){return i(l)/2}function i(l){return e-l}function o(l,c){return ti(t)?n[t](l):t(e,l,c)}return{measure:o}}function ir(){let t=[];function e(s,i,o,a={passive:!0}){let l;if("addEventListener"in s)s.addEventListener(i,o,a),l=()=>s.removeEventListener(i,o,a);else{const c=s;c.addListener(o),l=()=>c.removeListener(o)}return t.push(l),r}function n(){t=t.filter(s=>s())}const r={add:e,clear:n};return r}function zh(t,e,n,r){const s=ir(),i=1e3/60;let o=null,a=0,l=0;function c(){s.add(t,"visibilitychange",()=>{t.hidden&&g()})}function u(){d(),s.clear()}function h(v){if(!l)return;o||(o=v,n(),n());const m=v-o;for(o=v,a+=m;a>=i;)n(),a-=i;const _=a/i;r(_),l&&(l=e.requestAnimationFrame(h))}function f(){l||(l=e.requestAnimationFrame(h))}function d(){e.cancelAnimationFrame(l),o=null,a=0,l=0}function g(){o=null,a=0}return{init:c,destroy:u,start:f,stop:d,update:n,render:r}}function qh(t,e){const n=e==="rtl",r=t==="y",s=r?"y":"x",i=r?"x":"y",o=!r&&n?-1:1,a=u(),l=h();function c(g){const{height:p,width:v}=g;return r?p:v}function u(){return r?"top":n?"right":"left"}function h(){return r?"bottom":n?"left":"right"}function f(g){return g*o}return{scroll:s,cross:i,startEdge:a,endEdge:l,measureSize:c,direction:f}}function Zt(t=0,e=0){const n=fe(t-e);function r(c){return c<t}function s(c){return c>e}function i(c){return r(c)||s(c)}function o(c){return i(c)?r(c)?t:e:c}function a(c){return n?c-n*Math.ceil((c-e)/n):c}return{length:n,max:e,min:t,constrain:o,reachedAny:i,reachedMax:s,reachedMin:r,removeOffset:a}}function Sl(t,e,n){const{constrain:r}=Zt(0,t),s=t+1;let i=o(e);function o(f){return n?fe((s+f)%s):r(f)}function a(){return i}function l(f){return i=o(f),h}function c(f){return u().set(a()+f)}function u(){return Sl(t,a(),n)}const h={get:a,set:l,add:c,clone:u};return h}function Uh(t,e,n,r,s,i,o,a,l,c,u,h,f,d,g,p,v,m,_){const{cross:y,direction:w}=t,S=["INPUT","SELECT","TEXTAREA"],P={passive:!1},C=ir(),k=ir(),D=Zt(50,225).constrain(d.measure(20)),j={mouse:300,touch:400},N={mouse:500,touch:600},I=g?43:25;let G=!1,z=0,X=0,K=!1,V=!1,E=!1,x=!1;function R(L){if(!_)return;function Z(ye){(ps(_)||_(L,ye))&&se(ye)}const ce=e;C.add(ce,"dragstart",ye=>ye.preventDefault(),P).add(ce,"touchmove",()=>{},P).add(ce,"touchend",()=>{}).add(ce,"touchstart",Z).add(ce,"mousedown",Z).add(ce,"touchcancel",me).add(ce,"contextmenu",me).add(ce,"click",Se,!0)}function H(){C.clear(),k.clear()}function M(){const L=x?n:e;k.add(L,"touchmove",Y,P).add(L,"touchend",me).add(L,"mousemove",Y,P).add(L,"mouseup",me)}function U(L){const Z=L.nodeName||"";return S.includes(Z)}function B(){return(g?N:j)[x?"mouse":"touch"]}function te(L,Z){const ce=h.add(Ui(L)*-1),ye=u.byDistance(L,!g).distance;return g||fe(L)<D?ye:v&&Z?ye*.5:u.byIndex(ce.get(),0).distance}function se(L){const Z=ni(L,r);x=Z,E=g&&Z&&!L.buttons&&G,G=Kn(s.get(),o.get())>=2,!(Z&&L.button!==0)&&(U(L.target)||(K=!0,i.pointerDown(L),c.useFriction(0).useDuration(0),s.set(o),M(),z=i.readPoint(L),X=i.readPoint(L,y),f.emit("pointerDown")))}function Y(L){if(!ni(L,r)&&L.touches.length>=2)return me(L);const ce=i.readPoint(L),ye=i.readPoint(L,y),ke=Kn(ce,z),Ie=Kn(ye,X);if(!V&&!x&&(!L.cancelable||(V=ke>Ie,!V)))return me(L);const We=i.pointerMove(L);ke>p&&(E=!0),c.useFriction(.3).useDuration(.75),a.start(),s.add(w(We)),L.preventDefault()}function me(L){const ce=u.byDistance(0,!1).index!==h.get(),ye=i.pointerUp(L)*B(),ke=te(w(ye),ce),Ie=jh(ye,ke),We=I-10*Ie,ot=m+Ie/50;V=!1,K=!1,k.clear(),c.useDuration(We).useFriction(ot),l.distance(ke,!g),x=!1,f.emit("pointerUp")}function Se(L){E&&(L.stopPropagation(),L.preventDefault(),E=!1)}function oe(){return K}return{init:R,destroy:H,pointerDown:oe}}function Vh(t,e){let r,s;function i(h){return h.timeStamp}function o(h,f){const g=`client${(f||t.scroll)==="x"?"X":"Y"}`;return(ni(h,e)?h:h.touches[0])[g]}function a(h){return r=h,s=h,o(h)}function l(h){const f=o(h)-o(s),d=i(h)-i(r)>170;return s=h,d&&(r=h),f}function c(h){if(!r||!s)return 0;const f=o(s)-o(r),d=i(h)-i(r),g=i(h)-i(s)>170,p=f/d;return d&&!g&&fe(p)>.1?p:0}return{pointerDown:a,pointerMove:l,pointerUp:c,readPoint:o}}function Wh(){function t(n){const{offsetTop:r,offsetLeft:s,offsetWidth:i,offsetHeight:o}=n;return{top:r,right:s+i,bottom:r+o,left:s,width:i,height:o}}return{measure:t}}function Gh(t){function e(r){return t*(r/100)}return{measure:e}}function Yh(t,e,n,r,s,i,o){const a=[t].concat(r);let l,c,u=[],h=!1;function f(v){return s.measureSize(o.measure(v))}function d(v){if(!i)return;c=f(t),u=r.map(f);function m(_){for(const y of _){if(h)return;const w=y.target===t,S=r.indexOf(y.target),P=w?c:u[S],C=f(w?t:r[S]);if(fe(C-P)>=.5){v.reInit(),e.emit("resize");break}}}l=new ResizeObserver(_=>{(ps(i)||i(v,_))&&m(_)}),n.requestAnimationFrame(()=>{a.forEach(_=>l.observe(_))})}function g(){h=!0,l&&l.disconnect()}return{init:d,destroy:g}}function Kh(t,e,n,r,s,i){let o=0,a=0,l=s,c=i,u=t.get(),h=0;function f(){const P=r.get()-t.get(),C=!l;let k=0;return C?(o=0,n.set(r),t.set(r),k=P):(n.set(t),o+=P/l,o*=c,u+=o,t.add(o),k=u-h),a=Ui(k),h=u,S}function d(){const P=r.get()-e.get();return fe(P)<.001}function g(){return l}function p(){return a}function v(){return o}function m(){return y(s)}function _(){return w(i)}function y(P){return l=P,S}function w(P){return c=P,S}const S={direction:p,duration:g,velocity:v,seek:f,settled:d,useBaseFriction:_,useBaseDuration:m,useFriction:w,useDuration:y};return S}function Qh(t,e,n,r,s){const i=s.measure(10),o=s.measure(50),a=Zt(.1,.99);let l=!1;function c(){return!(l||!t.reachedAny(n.get())||!t.reachedAny(e.get()))}function u(d){if(!c())return;const g=t.reachedMin(e.get())?"min":"max",p=fe(t[g]-e.get()),v=n.get()-e.get(),m=a.constrain(p/o);n.subtract(v*m),!d&&fe(v)<i&&(n.set(t.constrain(n.get())),r.useDuration(25).useBaseFriction())}function h(d){l=!d}return{shouldConstrain:c,constrain:u,toggleActive:h}}function Xh(t,e,n,r,s){const i=Zt(-e+t,0),o=h(),a=u(),l=f();function c(g,p){return Kn(g,p)<=1}function u(){const g=o[0],p=rt(o),v=o.lastIndexOf(g),m=o.indexOf(p)+1;return Zt(v,m)}function h(){return n.map((g,p)=>{const{min:v,max:m}=i,_=i.constrain(g),y=!p,w=Vi(n,p);return y?m:w||c(v,_)?v:c(m,_)?m:_}).map(g=>parseFloat(g.toFixed(3)))}function f(){if(e<=t+s)return[i.max];if(r==="keepSnaps")return o;const{min:g,max:p}=a;return o.slice(g,p)}return{snapsContained:l,scrollContainLimit:a}}function Jh(t,e,n){const r=e[0],s=n?r-t:rt(e);return{limit:Zt(s,r)}}function Zh(t,e,n,r){const i=e.min+.1,o=e.max+.1,{reachedMin:a,reachedMax:l}=Zt(i,o);function c(f){return f===1?l(n.get()):f===-1?a(n.get()):!1}function u(f){if(!c(f))return;const d=t*(f*-1);r.forEach(g=>g.add(d))}return{loop:u}}function ef(t){const{max:e,length:n}=t;function r(i){const o=i-e;return n?o/-n:0}return{get:r}}function tf(t,e,n,r,s){const{startEdge:i,endEdge:o}=t,{groupSlides:a}=s,l=h().map(e.measure),c=f(),u=d();function h(){return a(r).map(p=>rt(p)[o]-p[0][i]).map(fe)}function f(){return r.map(p=>n[i]-p[i]).map(p=>-fe(p))}function d(){return a(c).map(p=>p[0]).map((p,v)=>p+l[v])}return{snaps:c,snapsAligned:u}}function nf(t,e,n,r,s,i){const{groupSlides:o}=s,{min:a,max:l}=r,c=u();function u(){const f=o(i),d=!t||e==="keepSnaps";return n.length===1?[i]:d?f:f.slice(a,l).map((g,p,v)=>{const m=!p,_=Vi(v,p);if(m){const y=rt(v[0])+1;return Do(y)}if(_){const y=hr(i)-rt(v)[0]+1;return Do(y,rt(v)[0])}return g})}return{slideRegistry:c}}function rf(t,e,n,r,s){const{reachedAny:i,removeOffset:o,constrain:a}=r;function l(g){return g.concat().sort((p,v)=>fe(p)-fe(v))[0]}function c(g){const p=t?o(g):a(g),v=e.map((_,y)=>({diff:u(_-p,0),index:y})).sort((_,y)=>fe(_.diff)-fe(y.diff)),{index:m}=v[0];return{index:m,distance:p}}function u(g,p){const v=[g,g+n,g-n];if(!t)return g;if(!p)return l(v);const m=v.filter(_=>Ui(_)===p);return m.length?l(m):rt(v)-n}function h(g,p){const v=e[g]-s.get(),m=u(v,p);return{index:g,distance:m}}function f(g,p){const v=s.get()+g,{index:m,distance:_}=c(v),y=!t&&i(v);if(!p||y)return{index:m,distance:g};const w=e[m]-_,S=g+u(w,0);return{index:m,distance:S}}return{byDistance:f,byIndex:h,shortcut:u}}function sf(t,e,n,r,s,i,o){function a(h){const f=h.distance,d=h.index!==e.get();i.add(f),f&&(r.duration()?t.start():(t.update(),t.render(1),t.update())),d&&(n.set(e.get()),e.set(h.index),o.emit("select"))}function l(h,f){const d=s.byDistance(h,f);a(d)}function c(h,f){const d=e.clone().set(h),g=s.byIndex(d.get(),f);a(g)}return{distance:l,index:c}}function of(t,e,n,r,s,i,o,a){const l={passive:!0,capture:!0};let c=0;function u(d){if(!a)return;function g(p){if(new Date().getTime()-c>10)return;o.emit("slideFocusStart"),t.scrollLeft=0;const _=n.findIndex(y=>y.includes(p));qi(_)&&(s.useDuration(0),r.index(_,0),o.emit("slideFocus"))}i.add(document,"keydown",h,!1),e.forEach((p,v)=>{i.add(p,"focus",m=>{(ps(a)||a(d,m))&&g(v)},l)})}function h(d){d.code==="Tab"&&(c=new Date().getTime())}return{init:u}}function jn(t){let e=t;function n(){return e}function r(l){e=o(l)}function s(l){e+=o(l)}function i(l){e-=o(l)}function o(l){return qi(l)?l:l.get()}return{get:n,set:r,add:s,subtract:i}}function El(t,e){const n=t.scroll==="x"?o:a,r=e.style;let s=null,i=!1;function o(f){return`translate3d(${f}px,0px,0px)`}function a(f){return`translate3d(0px,${f}px,0px)`}function l(f){if(i)return;const d=Bh(t.direction(f));d!==s&&(r.transform=n(d),s=d)}function c(f){i=!f}function u(){i||(r.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:u,to:l,toggleActive:c}}function af(t,e,n,r,s,i,o,a,l){const u=rr(s),h=rr(s).reverse(),f=m().concat(_());function d(C,k){return C.reduce((D,j)=>D-s[j],k)}function g(C,k){return C.reduce((D,j)=>d(D,k)>0?D.concat([j]):D,[])}function p(C){return i.map((k,D)=>({start:k-r[D]+.5+C,end:k+e-.5+C}))}function v(C,k,D){const j=p(k);return C.map(N=>{const I=D?0:-n,G=D?n:0,z=D?"end":"start",X=j[N][z];return{index:N,loopPoint:X,slideLocation:jn(-1),translate:El(t,l[N]),target:()=>a.get()>X?I:G}})}function m(){const C=o[0],k=g(h,C);return v(k,n,!1)}function _(){const C=e-o[0]-1,k=g(u,C);return v(k,-n,!0)}function y(){return f.every(({index:C})=>{const k=u.filter(D=>D!==C);return d(k,e)<=.1})}function w(){f.forEach(C=>{const{target:k,translate:D,slideLocation:j}=C,N=k();N!==j.get()&&(D.to(N),j.set(N))})}function S(){f.forEach(C=>C.translate.clear())}return{canLoop:y,clear:S,loop:w,loopPoints:f}}function lf(t,e,n){let r,s=!1;function i(l){if(!n)return;function c(u){for(const h of u)if(h.type==="childList"){l.reInit(),e.emit("slidesChanged");break}}r=new MutationObserver(u=>{s||(ps(n)||n(l,u))&&c(u)}),r.observe(t,{childList:!0})}function o(){r&&r.disconnect(),s=!0}return{init:i,destroy:o}}function cf(t,e,n,r){const s={};let i=null,o=null,a,l=!1;function c(){a=new IntersectionObserver(g=>{l||(g.forEach(p=>{const v=e.indexOf(p.target);s[v]=p}),i=null,o=null,n.emit("slidesInView"))},{root:t.parentElement,threshold:r}),e.forEach(g=>a.observe(g))}function u(){a&&a.disconnect(),l=!0}function h(g){return sr(s).reduce((p,v)=>{const m=parseInt(v),{isIntersecting:_}=s[m];return(g&&_||!g&&!_)&&p.push(m),p},[])}function f(g=!0){if(g&&i)return i;if(!g&&o)return o;const p=h(g);return g&&(i=p),g||(o=p),p}return{init:c,destroy:u,get:f}}function uf(t,e,n,r,s,i){const{measureSize:o,startEdge:a,endEdge:l}=t,c=n[0]&&s,u=g(),h=p(),f=n.map(o),d=v();function g(){if(!c)return 0;const _=n[0];return fe(e[a]-_[a])}function p(){if(!c)return 0;const _=i.getComputedStyle(rt(r));return parseFloat(_.getPropertyValue(`margin-${l}`))}function v(){return n.map((_,y,w)=>{const S=!y,P=Vi(w,y);return S?f[y]+u:P?f[y]+h:w[y+1][a]-_[a]}).map(fe)}return{slideSizes:f,slideSizesWithGaps:d,startGap:u,endGap:h}}function df(t,e,n,r,s,i,o,a,l){const{startEdge:c,endEdge:u,direction:h}=t,f=qi(n);function d(m,_){return rr(m).filter(y=>y%_===0).map(y=>m.slice(y,y+_))}function g(m){return m.length?rr(m).reduce((_,y,w)=>{const S=rt(_)||0,P=S===0,C=y===hr(m),k=s[c]-i[S][c],D=s[c]-i[y][u],j=!r&&P?h(o):0,N=!r&&C?h(a):0,I=fe(D-N-(k+j));return w&&I>e+l&&_.push(y),C&&_.push(m.length),_},[]).map((_,y,w)=>{const S=Math.max(w[y-1]||0);return m.slice(S,_)}):[]}function p(m){return f?d(m,n):g(m)}return{groupSlides:p}}function hf(t,e,n,r,s,i,o){const{align:a,axis:l,direction:c,startIndex:u,loop:h,duration:f,dragFree:d,dragThreshold:g,inViewThreshold:p,slidesToScroll:v,skipSnaps:m,containScroll:_,watchResize:y,watchSlides:w,watchDrag:S,watchFocus:P}=i,C=2,k=Wh(),D=k.measure(e),j=n.map(k.measure),N=qh(l,c),I=N.measureSize(D),G=Gh(I),z=Hh(a,I),X=!h&&!!_,K=h||!!_,{slideSizes:V,slideSizesWithGaps:E,startGap:x,endGap:R}=uf(N,D,j,n,K,s),H=df(N,I,v,h,D,j,x,R,C),{snaps:M,snapsAligned:U}=tf(N,z,D,j,H),B=-rt(M)+rt(E),{snapsContained:te,scrollContainLimit:se}=Xh(I,B,U,_,C),Y=X?te:U,{limit:me}=Jh(B,Y,h),Se=Sl(hr(Y),u,h),oe=Se.clone(),ne=rr(n),L=({dragHandler:Ke,scrollBody:In,scrollBounds:sn,options:{loop:At}})=>{At||sn.constrain(Ke.pointerDown()),In.seek()},Z=({scrollBody:Ke,translate:In,location:sn,offsetLocation:At,previousLocation:It,scrollLooper:vr,slideLooper:Tt,dragHandler:xs,animation:Ss,eventHandler:Tn,scrollBounds:mr,options:{loop:_r}},on)=>{const Qe=Ke.settled(),Es=!mr.shouldConstrain(),W=_r?Qe:Qe&&Es,re=W&&!xs.pointerDown();re&&Ss.stop();const ae=sn.get()*on+It.get()*(1-on);At.set(ae),_r&&(vr.loop(Ke.direction()),Tt.loop()),In.to(At.get()),re&&Tn.emit("settle"),W||Tn.emit("scroll")},ce=zh(r,s,()=>L(An),Ke=>Z(An,Ke)),ye=.68,ke=Y[Se.get()],Ie=jn(ke),We=jn(ke),ot=jn(ke),at=jn(ke),Ge=Kh(Ie,ot,We,at,f,ye),rn=rf(h,Y,B,me,at),Ye=sf(ce,Se,oe,Ge,rn,at,o),pr=ef(me),gr=ir(),Oe=cf(e,n,o,p),{slideRegistry:yt}=nf(X,_,Y,se,H,ne),ws=of(t,n,yt,Ye,Ge,gr,o,P),An={ownerDocument:r,ownerWindow:s,eventHandler:o,containerRect:D,slideRects:j,animation:ce,axis:N,dragHandler:Uh(N,t,r,s,at,Vh(N,s),Ie,ce,Ye,Ge,rn,Se,o,G,d,g,m,ye,S),eventStore:gr,percentOfView:G,index:Se,indexPrevious:oe,limit:me,location:Ie,offsetLocation:ot,previousLocation:We,options:i,resizeHandler:Yh(e,o,s,n,N,y,k),scrollBody:Ge,scrollBounds:Qh(me,ot,at,Ge,G),scrollLooper:Zh(B,me,ot,[Ie,ot,We,at]),scrollProgress:pr,scrollSnapList:Y.map(pr.get),scrollSnaps:Y,scrollTarget:rn,scrollTo:Ye,slideLooper:af(N,I,B,V,E,M,Y,ot,n),slideFocus:ws,slidesHandler:lf(e,o,w),slidesInView:Oe,slideIndexes:ne,slideRegistry:yt,slidesToScroll:H,target:at,translate:El(N,e)};return An}function ff(){let t={},e;function n(c){e=c}function r(c){return t[c]||[]}function s(c){return r(c).forEach(u=>u(e,c)),l}function i(c,u){return t[c]=r(c).concat([u]),l}function o(c,u){return t[c]=r(c).filter(h=>h!==u),l}function a(){t={}}const l={init:n,emit:s,off:o,on:i,clear:a};return l}const pf={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function gf(t){function e(i,o){return xl(i,o||{})}function n(i){const o=i.breakpoints||{},a=sr(o).filter(l=>t.matchMedia(l).matches).map(l=>o[l]).reduce((l,c)=>e(l,c),{});return e(i,a)}function r(i){return i.map(o=>sr(o.breakpoints||{})).reduce((o,a)=>o.concat(a),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:n,optionsMediaQueries:r}}function vf(t){let e=[];function n(i,o){return e=o.filter(({options:a})=>t.optionsAtMedia(a).active!==!1),e.forEach(a=>a.init(i,t)),o.reduce((a,l)=>Object.assign(a,{[l.name]:l}),{})}function r(){e=e.filter(i=>i.destroy())}return{init:n,destroy:r}}function kl(t,e,n){const r=t.ownerDocument,s=r.defaultView,i=gf(s),o=vf(i),a=ir(),l=ff(),{mergeOptions:c,optionsAtMedia:u,optionsMediaQueries:h}=i,{on:f,off:d,emit:g}=l,p=N;let v=!1,m,_=c(pf,kl.globalOptions),y=c(_),w=[],S,P,C;function k(){const{container:ne,slides:L}=y;P=(ti(ne)?t.querySelector(ne):ne)||t.children[0];const ce=ti(L)?P.querySelectorAll(L):L;C=[].slice.call(ce||P.children)}function D(ne){const L=hf(t,P,C,r,s,ne,l);if(ne.loop&&!L.slideLooper.canLoop()){const Z=Object.assign({},ne,{loop:!1});return D(Z)}return L}function j(ne,L){v||(_=c(_,ne),y=u(_),w=L||w,k(),m=D(y),h([_,...w.map(({options:Z})=>Z)]).forEach(Z=>a.add(Z,"change",N)),y.active&&(m.translate.to(m.location.get()),m.animation.init(),m.slidesInView.init(),m.slideFocus.init(oe),m.eventHandler.init(oe),m.resizeHandler.init(oe),m.slidesHandler.init(oe),m.options.loop&&m.slideLooper.loop(),P.offsetParent&&C.length&&m.dragHandler.init(oe),S=o.init(oe,w)))}function N(ne,L){const Z=H();I(),j(c({startIndex:Z},ne),L),l.emit("reInit")}function I(){m.dragHandler.destroy(),m.eventStore.clear(),m.translate.clear(),m.slideLooper.clear(),m.resizeHandler.destroy(),m.slidesHandler.destroy(),m.slidesInView.destroy(),m.animation.destroy(),o.destroy(),a.clear()}function G(){v||(v=!0,a.clear(),I(),l.emit("destroy"),l.clear())}function z(ne,L,Z){!y.active||v||(m.scrollBody.useBaseFriction().useDuration(L===!0?0:y.duration),m.scrollTo.index(ne,Z||0))}function X(ne){const L=m.index.add(1).get();z(L,ne,-1)}function K(ne){const L=m.index.add(-1).get();z(L,ne,1)}function V(){return m.index.add(1).get()!==H()}function E(){return m.index.add(-1).get()!==H()}function x(){return m.scrollSnapList}function R(){return m.scrollProgress.get(m.offsetLocation.get())}function H(){return m.index.get()}function M(){return m.indexPrevious.get()}function U(){return m.slidesInView.get()}function B(){return m.slidesInView.get(!1)}function te(){return S}function se(){return m}function Y(){return t}function me(){return P}function Se(){return C}const oe={canScrollNext:V,canScrollPrev:E,containerNode:me,internalEngine:se,destroy:G,off:d,on:f,emit:g,plugins:te,previousScrollSnap:M,reInit:p,rootNode:Y,scrollNext:X,scrollPrev:K,scrollProgress:R,scrollSnapList:x,scrollTo:z,selectedScrollSnap:H,slideNodes:Se,slidesInView:U,slidesNotInView:B};return j(e,n),setTimeout(()=>l.emit("init"),0),oe}kl.globalOptions=void 0;var b=typeof window<"u"?window:void 0,Le=typeof globalThis<"u"?globalThis:b,Pl=Array.prototype,No=Pl.forEach,jo=Pl.indexOf,je=Le?.navigator,$=Le?.document,Me=Le?.location,ri=Le?.fetch,si=Le!=null&&Le.XMLHttpRequest&&"withCredentials"in new Le.XMLHttpRequest?Le.XMLHttpRequest:void 0,Bo=Le?.AbortController,$e=je?.userAgent,q=b??{},kt={DEBUG:!1,LIB_VERSION:"1.266.0"};function O(){return O=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O.apply(null,arguments)}function Cl(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var mf=["$snapshot","$pageview","$pageleave","$set","survey dismissed","survey sent","survey shown","$identify","$groupidentify","$create_alias","$$client_ingestion_warning","$web_experiment_applied","$feature_enrollment_update","$feature_flag_called"];function J(t,e){return t.indexOf(e)!==-1}var gs=function(t){return t.trim()},ii=function(t){return t.replace(/^\$/,"")},_f=Array.isArray,Al=Object.prototype,Il=Al.hasOwnProperty,vs=Al.toString,de=_f||function(t){return vs.call(t)==="[object Array]"},qe=t=>typeof t=="function",ge=t=>t===Object(t)&&!de(t),dn=t=>{if(ge(t)){for(var e in t)if(Il.call(t,e))return!1;return!0}return!1},A=t=>t===void 0,ve=t=>vs.call(t)=="[object String]",oi=t=>ve(t)&&t.trim().length===0,Ut=t=>t===null,ee=t=>A(t)||Ut(t),Ce=t=>vs.call(t)=="[object Number]",dt=t=>vs.call(t)==="[object Boolean]",yf=t=>t instanceof FormData,bf=t=>J(mf,t),wf=[!0,"true",1,"1","yes"],Ts=t=>J(wf,t),xf=[!1,"false",0,"0","no"];function Be(t,e,n,r,s){return e>n&&(r.warn("min cannot be greater than max."),e=n),Ce(t)?t>n?(r.warn(" cannot be  greater than max: "+n+". Using max value instead."),n):t<e?(r.warn(" cannot be less than min: "+e+". Using min value instead."),e):t:(r.warn(" must be a number. using max or fallback. max: "+n+", fallback: "+s),Be(s||n,e,n,r))}class Tl{stop(){this.t&&(clearInterval(this.t),this.t=void 0)}constructor(e){this.i=e,this.o={},this.h=()=>{Object.keys(this.o).forEach(n=>{var r=this.m(n)+this.S;r>=this.$?delete this.o[n]:this.k(n,r)})},this.m=n=>this.o[String(n)],this.k=(n,r)=>{this.o[String(n)]=r},this.consumeRateLimit=n=>{var r,s=(r=this.m(n))!=null?r:this.$;if((s=Math.max(s-1,0))===0)return!0;this.k(n,s);var i,o=s===0;return o&&((i=this.I)==null||i.call(this,n)),o},this.I=this.i.I,this.$=Be(this.i.bucketSize,0,100,this.i.P),this.S=Be(this.i.refillRate,0,this.$,this.i.P),this.R=Be(this.i.refillInterval,0,864e5,this.i.P),this.t=setInterval(()=>{this.h()},this.R)}}var Rl=t=>{var e={T:function(n){if(b&&(kt.DEBUG||q.POSTHOG_DEBUG)&&!A(b.console)&&b.console){for(var r=("__rrweb_original__"in b.console[n])?b.console[n].__rrweb_original__:b.console[n],s=arguments.length,i=new Array(s>1?s-1:0),o=1;o<s;o++)i[o-1]=arguments[o];r(t,...i)}},info:function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];e.T("log",...r)},warn:function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];e.T("warn",...r)},error:function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];e.T("error",...r)},critical:function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];console.error(t,...r)},uninitializedWarning:n=>{e.error("You must initialize PostHog before calling "+n)},createLogger:n=>Rl(t+" "+n)};return e},F=Rl("[PostHog.js]"),we=F.createLogger,Sf=we("[ExternalScriptsLoader]"),Ho=(t,e,n)=>{if(t.config.disable_external_dependency_loading)return Sf.warn(e+" was requested but loading of external scripts is disabled."),n("Loading of external scripts is disabled");var r=$?.querySelectorAll("script");if(r){for(var s,i=function(){if(r[o].src===e){var l=r[o];return l.__posthog_loading_callback_fired?{v:n()}:(l.addEventListener("load",c=>{l.__posthog_loading_callback_fired=!0,n(void 0,c)}),l.onerror=c=>n(c),{v:void 0})}},o=0;o<r.length;o++)if(s=i())return s.v}var a=()=>{if(!$)return n("document not found");var l=$.createElement("script");if(l.type="text/javascript",l.crossOrigin="anonymous",l.src=e,l.onload=h=>{l.__posthog_loading_callback_fired=!0,n(void 0,h)},l.onerror=h=>n(h),t.config.prepare_external_dependency_script&&(l=t.config.prepare_external_dependency_script(l)),!l)return n("prepare_external_dependency_script returned null");var c,u=$.querySelectorAll("body > script");u.length>0?(c=u[0].parentNode)==null||c.insertBefore(l,u[0]):$.body.appendChild(l)};$!=null&&$.body?a():$?.addEventListener("DOMContentLoaded",a)};q.__PosthogExtensions__=q.__PosthogExtensions__||{},q.__PosthogExtensions__.loadExternalDependency=(t,e,n)=>{var r="/static/"+e+".js?v="+t.version;if(e==="remote-config"&&(r="/array/"+t.config.token+"/config.js"),e==="toolbar"){var s=3e5;r=r+"&t="+Math.floor(Date.now()/s)*s}var i=t.requestRouter.endpointFor("assets",r);Ho(t,i,n)},q.__PosthogExtensions__.loadSiteApp=(t,e,n)=>{var r=t.requestRouter.endpointFor("api",e);Ho(t,r,n)};var Wr={};function jt(t,e,n){if(de(t)){if(No&&t.forEach===No)t.forEach(e,n);else if("length"in t&&t.length===+t.length){for(var r=0,s=t.length;r<s;r++)if(r in t&&e.call(n,t[r],r)===Wr)return}}}function ie(t,e,n){if(!ee(t)){if(de(t))return jt(t,e,n);if(yf(t)){for(var r of t.entries())if(e.call(n,r[1],r[0])===Wr)return}else for(var s in t)if(Il.call(t,s)&&e.call(n,t[s],s)===Wr)return}}var _e=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return jt(n,function(s){for(var i in s)s[i]!==void 0&&(t[i]=s[i])}),t},ms=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return jt(n,function(s){jt(s,function(i){t.push(i)})}),t};function Mr(t){for(var e=Object.keys(t),n=e.length,r=new Array(n);n--;)r[n]=[e[n],t[e[n]]];return r}var zo=function(t){try{return t()}catch{return}},Ef=function(t){return function(){try{for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.apply(this,n)}catch(s){F.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),F.critical(s)}}},Wi=function(t){var e={};return ie(t,function(n,r){(ve(n)&&n.length>0||Ce(n))&&(e[r]=n)}),e};function kf(t,e){return n=t,r=i=>ve(i)&&!Ut(e)?i.slice(0,e):i,s=new Set,function i(o,a){return o!==Object(o)?r?r(o,a):o:s.has(o)?void 0:(s.add(o),de(o)?(l=[],jt(o,c=>{l.push(i(c))})):(l={},ie(o,(c,u)=>{s.has(c)||(l[u]=i(c,u))})),l);var l}(n);var n,r,s}var Pf=["herokuapp.com","vercel.app","netlify.app"];function Cf(t){var e=t?.hostname;if(!ve(e))return!1;var n=e.split(".").slice(-2).join(".");for(var r of Pf)if(n===r)return!1;return!0}function Ol(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return t[n]}function pe(t,e,n,r){var{capture:s=!1,passive:i=!0}=r??{};t?.addEventListener(e,n,{capture:s,passive:i})}var Fl="$people_distinct_id",Bn="__alias",Hn="__timers",qo="$autocapture_disabled_server_side",ai="$heatmaps_enabled_server_side",Uo="$exception_capture_enabled_server_side",li="$error_tracking_suppression_rules",Vo="$error_tracking_capture_extension_exceptions",Wo="$web_vitals_enabled_server_side",$l="$dead_clicks_enabled_server_side",Go="$web_vitals_allowed_metrics",or="$session_recording_enabled_server_side",Yo="$console_log_recording_enabled_server_side",Ko="$session_recording_network_payload_capture",Qo="$session_recording_masking",Xo="$session_recording_canvas_recording",Jo="$replay_sample_rate",Zo="$replay_minimum_duration",Gr="$replay_script_config",Yr="$sesid",zn="$session_is_sampled",ci="$session_recording_url_trigger_activated_session",ui="$session_recording_event_trigger_activated_session",hn="$enabled_feature_flags",qn="$early_access_features",di="$feature_flag_details",Un="$stored_person_properties",Qt="$stored_group_properties",hi="$surveys",Er="$surveys_activated",Kr="$flag_call_reported",xt="$user_state",fi="$client_session_props",pi="$capture_rate_limit",gi="$initial_campaign_params",vi="$initial_referrer_info",Qr="$initial_person_info",Xr="$epp",Ml="__POSTHOG_TOOLBAR__",Fn="$posthog_cookieless",Af=[Fl,Bn,"__cmpns",Hn,or,ai,Yr,hn,li,xt,qn,di,Qt,Un,hi,Kr,fi,pi,gi,vi,Xr,Qr];function ea(t){return t instanceof Element&&(t.id===Ml||!(t.closest==null||!t.closest(".toolbar-global-fade-container")))}function _s(t){return!!t&&t.nodeType===1}function Bt(t,e){return!!t&&!!t.tagName&&t.tagName.toLowerCase()===e.toLowerCase()}function Ll(t){return!!t&&t.nodeType===3}function Dl(t){return!!t&&t.nodeType===11}function Gi(t){return t?gs(t).split(/\s+/):[]}function ta(t){var e=b?.location.href;return!!(e&&t&&t.some(n=>e.match(n)))}function Jr(t){var e="";switch(typeof t.className){case"string":e=t.className;break;case"object":e=(t.className&&"baseVal"in t.className?t.className.baseVal:null)||t.getAttribute("class")||"";break;default:e=""}return Gi(e)}function Nl(t){return ee(t)?null:gs(t).split(/(\s+)/).filter(e=>bn(e)).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function ys(t){var e="";return _i(t)&&!Hl(t)&&t.childNodes&&t.childNodes.length&&ie(t.childNodes,function(n){var r;Ll(n)&&n.textContent&&(e+=(r=Nl(n.textContent))!==null&&r!==void 0?r:"")}),gs(e)}function jl(t){return A(t.target)?t.srcElement||null:(e=t.target)!=null&&e.shadowRoot?t.composedPath()[0]||null:t.target||null;var e}var mi=["a","button","form","input","select","textarea","label"];function Bl(t){var e=t.parentNode;return!(!e||!_s(e))&&e}function If(t,e,n,r,s){var i,o,a;if(n===void 0&&(n=void 0),!b||!t||Bt(t,"html")||!_s(t)||(i=n)!=null&&i.url_allowlist&&!ta(n.url_allowlist)||(o=n)!=null&&o.url_ignorelist&&ta(n.url_ignorelist))return!1;if((a=n)!=null&&a.dom_event_allowlist){var l=n.dom_event_allowlist;if(l&&!l.some(v=>e.type===v))return!1}for(var c=!1,u=[t],h=!0,f=t;f.parentNode&&!Bt(f,"body");)if(Dl(f.parentNode))u.push(f.parentNode.host),f=f.parentNode.host;else{if(!(h=Bl(f)))break;if(r||mi.indexOf(h.tagName.toLowerCase())>-1)c=!0;else{var d=b.getComputedStyle(h);d&&d.getPropertyValue("cursor")==="pointer"&&(c=!0)}u.push(h),f=h}if(!function(v,m){var _=m?.element_allowlist;if(A(_))return!0;var y,w=function(P){if(_.some(C=>P.tagName.toLowerCase()===C))return{v:!0}};for(var S of v)if(y=w(S))return y.v;return!1}(u,n)||!function(v,m){var _=m?.css_selector_allowlist;if(A(_))return!0;var y,w=function(P){if(_.some(C=>P.matches(C)))return{v:!0}};for(var S of v)if(y=w(S))return y.v;return!1}(u,n))return!1;var g=b.getComputedStyle(t);if(g&&g.getPropertyValue("cursor")==="pointer"&&e.type==="click")return!0;var p=t.tagName.toLowerCase();switch(p){case"html":return!1;case"form":return(s||["submit"]).indexOf(e.type)>=0;case"input":case"select":case"textarea":return(s||["change","click"]).indexOf(e.type)>=0;default:return c?(s||["click"]).indexOf(e.type)>=0:(s||["click"]).indexOf(e.type)>=0&&(mi.indexOf(p)>-1||t.getAttribute("contenteditable")==="true")}}function _i(t){for(var e=t;e.parentNode&&!Bt(e,"body");e=e.parentNode){var n=Jr(e);if(J(n,"ph-sensitive")||J(n,"ph-no-capture"))return!1}if(J(Jr(t),"ph-include"))return!0;var r=t.type||"";if(ve(r))switch(r.toLowerCase()){case"hidden":case"password":return!1}var s=t.name||t.id||"";return!(ve(s)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(s.replace(/[^a-zA-Z0-9]/g,"")))}function Hl(t){return!!(Bt(t,"input")&&!["button","checkbox","submit","reset"].includes(t.type)||Bt(t,"select")||Bt(t,"textarea")||t.getAttribute("contenteditable")==="true")}var zl="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",Tf=new RegExp("^(?:"+zl+")$"),Rf=new RegExp(zl),ql="\\d{3}-?\\d{2}-?\\d{4}",Of=new RegExp("^("+ql+")$"),Ff=new RegExp("("+ql+")");function bn(t,e){return e===void 0&&(e=!0),!(ee(t)||ve(t)&&(t=gs(t),(e?Tf:Rf).test((t||"").replace(/[- ]/g,""))||(e?Of:Ff).test(t)))}function Ul(t){var e=ys(t);return bn(e=(e+" "+Vl(t)).trim())?e:""}function Vl(t){var e="";return t&&t.childNodes&&t.childNodes.length&&ie(t.childNodes,function(n){var r;if(n&&((r=n.tagName)==null?void 0:r.toLowerCase())==="span")try{var s=ys(n);e=(e+" "+s).trim(),n.childNodes&&n.childNodes.length&&(e=(e+" "+Vl(n)).trim())}catch(i){F.error("[AutoCapture]",i)}}),e}function $f(t){return function(e){var n=e.map(r=>{var s,i,o="";if(r.tag_name&&(o+=r.tag_name),r.attr_class)for(var a of(r.attr_class.sort(),r.attr_class))o+="."+a.replace(/"/g,"");var l=O({},r.text?{text:r.text}:{},{"nth-child":(s=r.nth_child)!==null&&s!==void 0?s:0,"nth-of-type":(i=r.nth_of_type)!==null&&i!==void 0?i:0},r.href?{href:r.href}:{},r.attr_id?{attr_id:r.attr_id}:{},r.attributes),c={};return Mr(l).sort((u,h)=>{var[f]=u,[d]=h;return f.localeCompare(d)}).forEach(u=>{var[h,f]=u;return c[na(h.toString())]=na(f.toString())}),o+=":",o+=Mr(c).map(u=>{var[h,f]=u;return h+'="'+f+'"'}).join("")});return n.join(";")}(function(e){return e.map(n=>{var r,s,i={text:(r=n.$el_text)==null?void 0:r.slice(0,400),tag_name:n.tag_name,href:(s=n.attr__href)==null?void 0:s.slice(0,2048),attr_class:Mf(n),attr_id:n.attr__id,nth_child:n.nth_child,nth_of_type:n.nth_of_type,attributes:{}};return Mr(n).filter(o=>{var[a]=o;return a.indexOf("attr__")===0}).forEach(o=>{var[a,l]=o;return i.attributes[a]=l}),i})}(t))}function na(t){return t.replace(/"|\\"/g,'\\"')}function Mf(t){var e=t.attr__class;return e?de(e)?e:Gi(e):void 0}class Wl{constructor(){this.clicks=[]}isRageClick(e,n,r){var s=this.clicks[this.clicks.length-1];if(s&&Math.abs(e-s.x)+Math.abs(n-s.y)<30&&r-s.timestamp<1e3){if(this.clicks.push({x:e,y:n,timestamp:r}),this.clicks.length===3)return!0}else this.clicks=[{x:e,y:n,timestamp:r}];return!1}}var Lr="$copy_autocapture",ct=function(t){return t.GZipJS="gzip-js",t.Base64="base64",t}({}),Gl=["fatal","error","warning","log","info","debug"],Lf=["localhost","127.0.0.1"],wn=t=>{var e=$?.createElement("a");return A(e)?null:(e.href=t,e)},Df=function(t,e){var n,r;e===void 0&&(e="&");var s=[];return ie(t,function(i,o){A(i)||A(o)||o==="undefined"||(n=encodeURIComponent((a=>a instanceof File)(i)?i.name:i.toString()),r=encodeURIComponent(o),s[s.length]=r+"="+n)}),s.join(e)},Zr=function(t,e){for(var n,r=((t.split("#")[0]||"").split(/\?(.*)/)[1]||"").replace(/^\?+/g,"").split("&"),s=0;s<r.length;s++){var i=r[s].split("=");if(i[0]===e){n=i;break}}if(!de(n)||n.length<2)return"";var o=n[1];try{o=decodeURIComponent(o)}catch{F.error("Skipping decoding for malformed query param: "+o)}return o.replace(/\+/g," ")},Yi=function(t,e,n){if(!t||!e||!e.length)return t;for(var r=t.split("#"),s=r[0]||"",i=r[1],o=s.split("?"),a=o[1],l=o[0],c=(a||"").split("&"),u=[],h=0;h<c.length;h++){var f=c[h].split("=");de(f)&&(e.includes(f[0])?u.push(f[0]+"="+n):u.push(c[h]))}var d=l;return a!=null&&(d+="?"+u.join("&")),i!=null&&(d+="#"+i),d},es=function(t,e){var n=t.match(new RegExp(e+"=([^&]*)"));return n?n[1]:null},ra=we("[AutoCapture]");function Rs(t,e){return e.length>t?e.slice(0,t)+"...":e}function Nf(t){if(t.previousElementSibling)return t.previousElementSibling;var e=t;do e=e.previousSibling;while(e&&!_s(e));return e}function jf(t,e,n,r){var s=t.tagName.toLowerCase(),i={tag_name:s};mi.indexOf(s)>-1&&!n&&(s.toLowerCase()==="a"||s.toLowerCase()==="button"?i.$el_text=Rs(1024,Ul(t)):i.$el_text=Rs(1024,ys(t)));var o=Jr(t);o.length>0&&(i.classes=o.filter(function(u){return u!==""})),ie(t.attributes,function(u){var h;if((!Hl(t)||["name","id","class","aria-label"].indexOf(u.name)!==-1)&&(r==null||!r.includes(u.name))&&!e&&bn(u.value)&&(h=u.name,!ve(h)||h.substring(0,10)!=="_ngcontent"&&h.substring(0,7)!=="_nghost")){var f=u.value;u.name==="class"&&(f=Gi(f).join(" ")),i["attr__"+u.name]=Rs(1024,f)}});for(var a=1,l=1,c=t;c=Nf(c);)a++,c.tagName===t.tagName&&l++;return i.nth_child=a,i.nth_of_type=l,i}function Bf(t,e){for(var n,r,{e:s,maskAllElementAttributes:i,maskAllText:o,elementAttributeIgnoreList:a,elementsChainAsString:l}=e,c=[t],u=t;u.parentNode&&!Bt(u,"body");)Dl(u.parentNode)?(c.push(u.parentNode.host),u=u.parentNode.host):(c.push(u.parentNode),u=u.parentNode);var h,f=[],d={},g=!1,p=!1;if(ie(c,w=>{var S=_i(w);w.tagName.toLowerCase()==="a"&&(g=w.getAttribute("href"),g=S&&g&&bn(g)&&g),J(Jr(w),"ph-no-capture")&&(p=!0),f.push(jf(w,i,o,a));var P=function(C){if(!_i(C))return{};var k={};return ie(C.attributes,function(D){if(D.name&&D.name.indexOf("data-ph-capture-attribute")===0){var j=D.name.replace("data-ph-capture-attribute-",""),N=D.value;j&&N&&bn(N)&&(k[j]=N)}}),k}(w);_e(d,P)}),p)return{props:{},explicitNoCapture:p};if(o||(t.tagName.toLowerCase()==="a"||t.tagName.toLowerCase()==="button"?f[0].$el_text=Ul(t):f[0].$el_text=ys(t)),g){var v,m;f[0].attr__href=g;var _=(v=wn(g))==null?void 0:v.host,y=b==null||(m=b.location)==null?void 0:m.host;_&&y&&_!==y&&(h=g)}return{props:_e({$event_type:s.type,$ce_version:1},l?{}:{$elements:f},{$elements_chain:$f(f)},(n=f[0])!=null&&n.$el_text?{$el_text:(r=f[0])==null?void 0:r.$el_text}:{},h&&s.type==="click"?{$external_click_url:h}:{},d)}}class Hf{constructor(e){this.C=!1,this.M=null,this.rageclicks=new Wl,this.O=!1,this.instance=e,this.F=null}get A(){var e,n,r=ge(this.instance.config.autocapture)?this.instance.config.autocapture:{};return r.url_allowlist=(e=r.url_allowlist)==null?void 0:e.map(s=>new RegExp(s)),r.url_ignorelist=(n=r.url_ignorelist)==null?void 0:n.map(s=>new RegExp(s)),r}D(){if(this.isBrowserSupported()){if(b&&$){var e=r=>{r=r||b?.event;try{this.j(r)}catch(s){ra.error("Failed to capture event",s)}};if(pe($,"submit",e,{capture:!0}),pe($,"change",e,{capture:!0}),pe($,"click",e,{capture:!0}),this.A.capture_copied_text){var n=r=>{r=r||b?.event,this.j(r,Lr)};pe($,"copy",n,{capture:!0}),pe($,"cut",n,{capture:!0})}}}else ra.info("Disabling Automatic Event Collection because this browser is not supported")}startIfEnabled(){this.isEnabled&&!this.C&&(this.D(),this.C=!0)}onRemoteConfig(e){e.elementsChainAsString&&(this.O=e.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[qo]:!!e.autocapture_opt_out}),this.M=!!e.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(e){this.F=e}getElementSelectors(e){var n,r=[];return(n=this.F)==null||n.forEach(s=>{var i=$?.querySelectorAll(s);i?.forEach(o=>{e===o&&r.push(s)})}),r}get isEnabled(){var e,n,r=(e=this.instance.persistence)==null?void 0:e.props[qo],s=this.M;if(Ut(s)&&!dt(r)&&!this.instance.L())return!1;var i=(n=this.M)!==null&&n!==void 0?n:!!r;return!!this.instance.config.autocapture&&!i}j(e,n){if(n===void 0&&(n="$autocapture"),this.isEnabled){var r,s=jl(e);Ll(s)&&(s=s.parentNode||null),n==="$autocapture"&&e.type==="click"&&e instanceof MouseEvent&&this.instance.config.rageclick&&(r=this.rageclicks)!=null&&r.isRageClick(e.clientX,e.clientY,new Date().getTime())&&this.j(e,"$rageclick");var i=n===Lr;if(s&&If(s,e,this.A,i,i?["copy","cut"]:void 0)){var{props:o,explicitNoCapture:a}=Bf(s,{e,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.A.element_attribute_ignorelist,elementsChainAsString:this.O});if(a)return!1;var l=this.getElementSelectors(s);if(l&&l.length>0&&(o.$element_selectors=l),n===Lr){var c,u=Nl(b==null||(c=b.getSelection())==null?void 0:c.toString()),h=e.type||"clipboard";if(!u)return!1;o.$selected_content=u,o.$copy_type=h}return this.instance.capture(n,o),!0}}}isBrowserSupported(){return qe($?.querySelectorAll)}}Math.trunc||(Math.trunc=function(t){return t<0?Math.ceil(t):Math.floor(t)}),Number.isInteger||(Number.isInteger=function(t){return Ce(t)&&isFinite(t)&&Math.floor(t)===t});var sa="0123456789abcdef";class ts{constructor(e){if(this.bytes=e,e.length!==16)throw new TypeError("not 128-bit length")}static fromFieldsV7(e,n,r,s){if(!Number.isInteger(e)||!Number.isInteger(n)||!Number.isInteger(r)||!Number.isInteger(s)||e<0||n<0||r<0||s<0||e>0xffffffffffff||n>4095||r>1073741823||s>4294967295)throw new RangeError("invalid field value");var i=new Uint8Array(16);return i[0]=e/Math.pow(2,40),i[1]=e/Math.pow(2,32),i[2]=e/Math.pow(2,24),i[3]=e/Math.pow(2,16),i[4]=e/Math.pow(2,8),i[5]=e,i[6]=112|n>>>8,i[7]=n,i[8]=128|r>>>24,i[9]=r>>>16,i[10]=r>>>8,i[11]=r,i[12]=s>>>24,i[13]=s>>>16,i[14]=s>>>8,i[15]=s,new ts(i)}toString(){for(var e="",n=0;n<this.bytes.length;n++)e=e+sa.charAt(this.bytes[n]>>>4)+sa.charAt(15&this.bytes[n]),n!==3&&n!==5&&n!==7&&n!==9||(e+="-");if(e.length!==36)throw new Error("Invalid UUIDv7 was generated");return e}clone(){return new ts(this.bytes.slice(0))}equals(e){return this.compareTo(e)===0}compareTo(e){for(var n=0;n<16;n++){var r=this.bytes[n]-e.bytes[n];if(r!==0)return Math.sign(r)}return 0}}class zf{constructor(){this.N=0,this.U=0,this.q=new qf}generate(){var e=this.generateOrAbort();if(A(e)){this.N=0;var n=this.generateOrAbort();if(A(n))throw new Error("Could not generate UUID after timestamp reset");return n}return e}generateOrAbort(){var e=Date.now();if(e>this.N)this.N=e,this.B();else{if(!(e+1e4>this.N))return;this.U++,this.U>4398046511103&&(this.N++,this.B())}return ts.fromFieldsV7(this.N,Math.trunc(this.U/Math.pow(2,30)),this.U&Math.pow(2,30)-1,this.q.nextUint32())}B(){this.U=1024*this.q.nextUint32()+(1023&this.q.nextUint32())}}var ia,Yl=t=>{if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(var e=0;e<t.length;e++)t[e]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return t};b&&!A(b.crypto)&&crypto.getRandomValues&&(Yl=t=>crypto.getRandomValues(t));class qf{constructor(){this.H=new Uint32Array(8),this.W=1/0}nextUint32(){return this.W>=this.H.length&&(Yl(this.H),this.W=0),this.H[this.W++]}}var Nt=()=>Uf().toString(),Uf=()=>(ia||(ia=new zf)).generate(),$n="",Vf=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;function Wf(t,e){if(e){var n=function(s,i){if(i===void 0&&(i=$),$n)return $n;if(!i||["localhost","127.0.0.1"].includes(s))return"";for(var o=s.split("."),a=Math.min(o.length,8),l="dmn_chk_"+Nt();!$n&&a--;){var c=o.slice(a).join("."),u=l+"=1;domain=."+c+";path=/";i.cookie=u+";max-age=3",i.cookie.includes(l)&&(i.cookie=u+";max-age=0",$n=c)}return $n}(t);if(!n){var r=(s=>{var i=s.match(Vf);return i?i[0]:""})(t);r!==n&&F.info("Warning: cookie subdomain discovery mismatch",r,n),n=r}return n?"; domain=."+n:""}return""}var pt={G:()=>!!$,J:function(t){F.error("cookieStore error: "+t)},V:function(t){if($){try{for(var e=t+"=",n=$.cookie.split(";").filter(i=>i.length),r=0;r<n.length;r++){for(var s=n[r];s.charAt(0)==" ";)s=s.substring(1,s.length);if(s.indexOf(e)===0)return decodeURIComponent(s.substring(e.length,s.length))}}catch{}return null}},K:function(t){var e;try{e=JSON.parse(pt.V(t))||{}}catch{}return e},Y:function(t,e,n,r,s){if($)try{var i="",o="",a=Wf($.location.hostname,r);if(n){var l=new Date;l.setTime(l.getTime()+24*n*60*60*1e3),i="; expires="+l.toUTCString()}s&&(o="; secure");var c=t+"="+encodeURIComponent(JSON.stringify(e))+i+"; SameSite=Lax; path=/"+a+o;return c.length>3686.4&&F.warn("cookieStore warning: large cookie, len="+c.length),$.cookie=c,c}catch{return}},X:function(t,e){if($!=null&&$.cookie)try{pt.Y(t,"",-1,e)}catch{return}}},Os=null,be={G:function(){if(!Ut(Os))return Os;var t=!0;if(A(b))t=!1;else try{var e="__mplssupport__";be.Y(e,"xyz"),be.V(e)!=='"xyz"'&&(t=!1),be.X(e)}catch{t=!1}return t||F.error("localStorage unsupported; falling back to cookie store"),Os=t,t},J:function(t){F.error("localStorage error: "+t)},V:function(t){try{return b?.localStorage.getItem(t)}catch(e){be.J(e)}return null},K:function(t){try{return JSON.parse(be.V(t))||{}}catch{}return null},Y:function(t,e){try{b?.localStorage.setItem(t,JSON.stringify(e))}catch(n){be.J(n)}},X:function(t){try{b?.localStorage.removeItem(t)}catch(e){be.J(e)}}},Gf=["distinct_id",Yr,zn,Xr,Qr],kr=O({},be,{K:function(t){try{var e={};try{e=pt.K(t)||{}}catch{}var n=_e(e,JSON.parse(be.V(t)||"{}"));return be.Y(t,n),n}catch{}return null},Y:function(t,e,n,r,s,i){try{be.Y(t,e,void 0,void 0,i);var o={};Gf.forEach(a=>{e[a]&&(o[a]=e[a])}),Object.keys(o).length&&pt.Y(t,o,n,r,s,i)}catch(a){be.J(a)}},X:function(t,e){try{b?.localStorage.removeItem(t),pt.X(t,e)}catch(n){be.J(n)}}}),Pr={},Yf={G:function(){return!0},J:function(t){F.error("memoryStorage error: "+t)},V:function(t){return Pr[t]||null},K:function(t){return Pr[t]||null},Y:function(t,e){Pr[t]=e},X:function(t){delete Pr[t]}},Wt=null,Ee={G:function(){if(!Ut(Wt))return Wt;if(Wt=!0,A(b))Wt=!1;else try{var t="__support__";Ee.Y(t,"xyz"),Ee.V(t)!=='"xyz"'&&(Wt=!1),Ee.X(t)}catch{Wt=!1}return Wt},J:function(t){F.error("sessionStorage error: ",t)},V:function(t){try{return b?.sessionStorage.getItem(t)}catch(e){Ee.J(e)}return null},K:function(t){try{return JSON.parse(Ee.V(t))||null}catch{}return null},Y:function(t,e){try{b?.sessionStorage.setItem(t,JSON.stringify(e))}catch(n){Ee.J(n)}},X:function(t){try{b?.sessionStorage.removeItem(t)}catch(e){Ee.J(e)}}},St=function(t){return t[t.PENDING=-1]="PENDING",t[t.DENIED=0]="DENIED",t[t.GRANTED=1]="GRANTED",t}({});class Kf{constructor(e){this._instance=e}get A(){return this._instance.config}get consent(){return this.Z()?St.DENIED:this.tt}isOptedOut(){return this.A.cookieless_mode==="always"||this.consent===St.DENIED||this.consent===St.PENDING&&(this.A.opt_out_capturing_by_default||this.A.cookieless_mode==="on_reject")}isOptedIn(){return!this.isOptedOut()}isExplicitlyOptedOut(){return this.consent===St.DENIED}optInOut(e){this.it.Y(this.et,e?1:0,this.A.cookie_expiration,this.A.cross_subdomain_cookie,this.A.secure_cookie)}reset(){this.it.X(this.et,this.A.cross_subdomain_cookie)}get et(){var{token:e,opt_out_capturing_cookie_prefix:n,consent_persistence_name:r}=this._instance.config;return r||(n?n+e:"__ph_opt_in_out_"+e)}get tt(){var e=this.it.V(this.et);return Ts(e)?St.GRANTED:J(xf,e)?St.DENIED:St.PENDING}get it(){if(!this.rt){var e=this.A.opt_out_capturing_persistence_type;this.rt=e==="localStorage"?be:pt;var n=e==="localStorage"?pt:be;n.V(this.et)&&(this.rt.V(this.et)||this.optInOut(Ts(n.V(this.et))),n.X(this.et,this.A.cross_subdomain_cookie))}return this.rt}Z(){return!!this.A.respect_dnt&&!!Ol([je?.doNotTrack,je?.msDoNotTrack,q.doNotTrack],e=>Ts(e))}}var Cr=we("[Dead Clicks]"),Qf=()=>!0,Xf=t=>{var e,n=!((e=t.instance.persistence)==null||!e.get_property($l)),r=t.instance.config.capture_dead_clicks;return dt(r)?r:n};class Kl{get lazyLoadedDeadClicksAutocapture(){return this.st}constructor(e,n,r){this.instance=e,this.isEnabled=n,this.onCapture=r,this.startIfEnabled()}onRemoteConfig(e){this.instance.persistence&&this.instance.persistence.register({[$l]:e?.captureDeadClicks}),this.startIfEnabled()}startIfEnabled(){this.isEnabled(this)&&this.nt(()=>{this.ot()})}nt(e){var n,r;(n=q.__PosthogExtensions__)!=null&&n.initDeadClicksAutocapture&&e(),(r=q.__PosthogExtensions__)==null||r.loadExternalDependency==null||r.loadExternalDependency(this.instance,"dead-clicks-autocapture",s=>{s?Cr.error("failed to load script",s):e()})}ot(){var e;if($){if(!this.st&&(e=q.__PosthogExtensions__)!=null&&e.initDeadClicksAutocapture){var n=ge(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:{};n.__onCapture=this.onCapture,this.st=q.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,n),this.st.start($),Cr.info("starting...")}}else Cr.error("`document` not found. Cannot start.")}stop(){this.st&&(this.st.stop(),this.st=void 0,Cr.info("stopping..."))}}var Mn=we("[ExceptionAutocapture]");class Jf{constructor(e){var n,r,s;this.lt=()=>{var i;if(b&&this.isEnabled&&(i=q.__PosthogExtensions__)!=null&&i.errorWrappingFunctions){var o=q.__PosthogExtensions__.errorWrappingFunctions.wrapOnError,a=q.__PosthogExtensions__.errorWrappingFunctions.wrapUnhandledRejection,l=q.__PosthogExtensions__.errorWrappingFunctions.wrapConsoleError;try{!this.ht&&this.A.capture_unhandled_errors&&(this.ht=o(this.captureException.bind(this))),!this.ut&&this.A.capture_unhandled_rejections&&(this.ut=a(this.captureException.bind(this))),!this.dt&&this.A.capture_console_errors&&(this.dt=l(this.captureException.bind(this)))}catch(c){Mn.error("failed to start",c),this.vt()}}},this._instance=e,this.ct=!((n=this._instance.persistence)==null||!n.props[Uo]),this.A=this.ft(),this.gt=new Tl({refillRate:(r=this._instance.config.error_tracking.__exceptionRateLimiterRefillRate)!==null&&r!==void 0?r:1,bucketSize:(s=this._instance.config.error_tracking.__exceptionRateLimiterBucketSize)!==null&&s!==void 0?s:10,refillInterval:1e4,P:Mn}),this.startIfEnabled()}ft(){var e=this._instance.config.capture_exceptions,n={capture_unhandled_errors:!1,capture_unhandled_rejections:!1,capture_console_errors:!1};return ge(e)?n=O({},n,e):(A(e)?this.ct:e)&&(n=O({},n,{capture_unhandled_errors:!0,capture_unhandled_rejections:!0})),n}get isEnabled(){return this.A.capture_console_errors||this.A.capture_unhandled_errors||this.A.capture_unhandled_rejections}startIfEnabled(){this.isEnabled&&(Mn.info("enabled"),this.nt(this.lt))}nt(e){var n,r;(n=q.__PosthogExtensions__)!=null&&n.errorWrappingFunctions&&e(),(r=q.__PosthogExtensions__)==null||r.loadExternalDependency==null||r.loadExternalDependency(this._instance,"exception-autocapture",s=>{if(s)return Mn.error("failed to load script",s);e()})}vt(){var e,n,r;(e=this.ht)==null||e.call(this),this.ht=void 0,(n=this.ut)==null||n.call(this),this.ut=void 0,(r=this.dt)==null||r.call(this),this.dt=void 0}onRemoteConfig(e){var n=e.autocaptureExceptions;this.ct=!!n||!1,this.A=this.ft(),this._instance.persistence&&this._instance.persistence.register({[Uo]:this.ct}),this.startIfEnabled()}captureException(e){var n,r=this._instance.requestRouter.endpointFor("ui");e.$exception_personURL=r+"/project/"+this._instance.config.token+"/person/"+this._instance.get_distinct_id();var s=(n=e.$exception_list[0].type)!==null&&n!==void 0?n:"Exception";this.gt.consumeRateLimit(s)?Mn.info("Skipping exception capture because of client rate limiting.",{exception:e.$exception_list[0].type}):this._instance.exceptions.sendExceptionEvent(e)}}function Ql(t){return!A(Event)&&Xl(t,Event)}function Xl(t,e){try{return t instanceof e}catch{return!1}}function Jl(t){switch(Object.prototype.toString.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object DOMError]":return!0;default:return Xl(t,Error)}}function Dr(t,e){return Object.prototype.toString.call(t)==="[object "+e+"]"}function Fs(t){return Dr(t,"DOMError")}var oa=/\(error: (.*)\)/,aa=50,fn="?";function $s(t,e,n,r){var s={platform:"web:javascript",filename:t,function:e==="<anonymous>"?fn:e,in_app:!0};return A(n)||(s.lineno=n),A(r)||(s.colno=r),s}var Zf=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,ep=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,tp=/\((\S*)(?::(\d+))(?::(\d+))\)/,np=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,rp=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,sp=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.sort((s,i)=>s[0]-i[0]).map(s=>s[1]);return function(s,i){i===void 0&&(i=0);for(var o=[],a=s.split(`
`),l=i;l<a.length;l++){var c=a[l];if(!(c.length>1024)){var u=oa.test(c)?c.replace(oa,"$1"):c;if(!u.match(/\S*Error: /)){for(var h of r){var f=h(u);if(f){o.push(f);break}}if(o.length>=aa)break}}}return function(d){if(!d.length)return[];var g=Array.from(d);return g.reverse(),g.slice(0,aa).map(p=>O({},p,{filename:p.filename||ip(g).filename,function:p.function||fn}))}(o)}}([30,t=>{var e=Zf.exec(t);if(e){var[,n,r,s]=e;return $s(n,fn,+r,+s)}var i=ep.exec(t);if(i){if(i[2]&&i[2].indexOf("eval")===0){var o=tp.exec(i[2]);o&&(i[2]=o[1],i[3]=o[2],i[4]=o[3])}var[a,l]=ca(i[1]||fn,i[2]);return $s(l,a,i[3]?+i[3]:void 0,i[4]?+i[4]:void 0)}}],[50,t=>{var e=np.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){var n=rp.exec(e[3]);n&&(e[1]=e[1]||"eval",e[3]=n[1],e[4]=n[2],e[5]="")}var r=e[3],s=e[1]||fn;return[s,r]=ca(s,r),$s(r,s,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}}]);function ip(t){return t[t.length-1]||{}}var Ar,la,Ms,ca=(t,e)=>{var n=t.indexOf("safari-extension")!==-1,r=t.indexOf("safari-web-extension")!==-1;return n||r?[t.indexOf("@")!==-1?t.split("@")[0]:fn,n?"safari-extension:"+e:"safari-web-extension:"+e]:[t,e]},op=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;function Ki(t,e){e===void 0&&(e=0);var n=t.stacktrace||t.stack||"",r=function(o){return o&&ap.test(o.message)?1:0}(t);try{var s=sp,i=function(o,a){var l=function(c){var u=globalThis._posthogChunkIds;if(!u)return{};var h=Object.keys(u);return Ms&&h.length===la||(la=h.length,Ms=h.reduce((f,d)=>{Ar||(Ar={});var g=Ar[d];if(g)f[g[0]]=g[1];else for(var p=c(d),v=p.length-1;v>=0;v--){var m=p[v],_=m?.filename,y=u[d];if(_&&y){f[_]=y,Ar[d]=[_,y];break}}return f},{})),Ms}(a);return o.forEach(c=>{c.filename&&(c.chunk_id=l[c.filename])}),o}(s(n,r),s);return i.slice(0,i.length-e)}catch{}return[]}var ap=/Minified React error #\d+;/i;function lp(t,e){var n,r,s=Ki(t),i=(n=e?.handled)===null||n===void 0||n,o=(r=e?.synthetic)!==null&&r!==void 0&&r;return{type:e!=null&&e.overrideExceptionType?e.overrideExceptionType:t.name,value:function(a){var l=a.message;return l.error&&typeof l.error.message=="string"?String(l.error.message):String(l)}(t),stacktrace:{frames:s,type:"raw"},mechanism:{handled:i,synthetic:o}}}function Zl(t,e){var n=lp(t,e);return t.cause&&Jl(t.cause)&&t.cause!==t?[n,...Zl(t.cause,{handled:e?.handled,synthetic:e?.synthetic})]:[n]}function Ls(t,e){return{$exception_list:Zl(t,e),$exception_level:"error"}}function Ds(t,e){var n,r,s,i=(n=e?.handled)===null||n===void 0||n,o=(r=e?.synthetic)===null||r===void 0||r,a={type:e!=null&&e.overrideExceptionType?e.overrideExceptionType:(s=e?.defaultExceptionType)!==null&&s!==void 0?s:"Error",value:t||e?.defaultExceptionMessage,mechanism:{handled:i,synthetic:o}};if(e!=null&&e.syntheticException){var l=Ki(e.syntheticException,1);l.length&&(a.stacktrace={frames:l,type:"raw"})}return{$exception_list:[a],$exception_level:"error"}}function cp(t){return ve(t)&&!oi(t)&&Gl.indexOf(t)>=0}function up(t,e){var n,r,s=(n=e?.handled)===null||n===void 0||n,i=(r=e?.synthetic)===null||r===void 0||r,o=e!=null&&e.overrideExceptionType?e.overrideExceptionType:Ql(t)?t.constructor.name:"Error",a="Non-Error 'exception' captured with keys: "+function(u,h){h===void 0&&(h=40);var f=Object.keys(u);if(f.sort(),!f.length)return"[object has no keys]";for(var d=f.length;d>0;d--){var g=f.slice(0,d).join(", ");if(!(g.length>h))return d===f.length||g.length<=h?g:g.slice(0,h)+"..."}return""}(t),l={type:o,value:a,mechanism:{handled:s,synthetic:i}};if(e!=null&&e.syntheticException){var c=Ki(e?.syntheticException,1);c.length&&(l.stacktrace={frames:c,type:"raw"})}return{$exception_list:[l],$exception_level:cp(t.level)?t.level:"error"}}function dp(t,e){var{error:n,event:r}=t,s={$exception_list:[]},i=n||r;if(Fs(i)||function(f){return Dr(f,"DOMException")}(i)){var o=i;if(function(f){return"stack"in f}(i))s=Ls(i,e);else{var a=o.name||(Fs(o)?"DOMError":"DOMException"),l=o.message?a+": "+o.message:a;s=Ds(l,O({},e,{overrideExceptionType:Fs(o)?"DOMError":"DOMException",defaultExceptionMessage:l}))}return"code"in o&&(s.$exception_DOMException_code=""+o.code),s}if(function(f){return Dr(f,"ErrorEvent")}(i)&&i.error)return Ls(i.error,e);if(Jl(i))return Ls(i,e);if(function(f){return Dr(f,"Object")}(i)||Ql(i))return up(i,e);if(A(n)&&ve(r)){var c="Error",u=r,h=r.match(op);return h&&(c=h[1],u=h[2]),Ds(u,O({},e,{overrideExceptionType:c,defaultExceptionMessage:u}))}return Ds(i,e)}function ua(t,e,n){try{if(!(e in t))return()=>{};var r=t[e],s=n(r);return qe(s)&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__posthog_wrapped__:{enumerable:!1,value:!0}})),t[e]=s,()=>{t[e]=r}}catch{return()=>{}}}class hp{constructor(e){var n;this._instance=e,this._t=(b==null||(n=b.location)==null?void 0:n.pathname)||""}get isEnabled(){return this._instance.config.capture_pageview==="history_change"}startIfEnabled(){this.isEnabled&&(F.info("History API monitoring enabled, starting..."),this.monitorHistoryChanges())}stop(){this.bt&&this.bt(),this.bt=void 0,F.info("History API monitoring stopped")}monitorHistoryChanges(){var e,n;if(b&&b.history){var r=this;(e=b.history.pushState)!=null&&e.__posthog_wrapped__||ua(b.history,"pushState",s=>function(i,o,a){s.call(this,i,o,a),r.yt("pushState")}),(n=b.history.replaceState)!=null&&n.__posthog_wrapped__||ua(b.history,"replaceState",s=>function(i,o,a){s.call(this,i,o,a),r.yt("replaceState")}),this.wt()}}yt(e){try{var n,r=b==null||(n=b.location)==null?void 0:n.pathname;if(!r)return;r!==this._t&&this.isEnabled&&this._instance.capture("$pageview",{navigation_type:e}),this._t=r}catch(s){F.error("Error capturing "+e+" pageview",s)}}wt(){if(!this.bt){var e=()=>{this.yt("popstate")};pe(b,"popstate",e),this.bt=()=>{b&&b.removeEventListener("popstate",e)}}}}function ns(t){var e,n;return((e=JSON.stringify(t,(n=[],function(r,s){if(ge(s)){for(;n.length>0&&n[n.length-1]!==this;)n.pop();return n.includes(s)?"[Circular]":(n.push(s),s)}return s})))==null?void 0:e.length)||0}function yi(t,e){if(e===void 0&&(e=66060288e-1),t.size>=e&&t.data.length>1){var n=Math.floor(t.data.length/2),r=t.data.slice(0,n),s=t.data.slice(n);return[yi({size:ns(r),data:r,sessionId:t.sessionId,windowId:t.windowId}),yi({size:ns(s),data:s,sessionId:t.sessionId,windowId:t.windowId})].flatMap(i=>i)}return[t]}var Et=(t=>(t[t.DomContentLoaded=0]="DomContentLoaded",t[t.Load=1]="Load",t[t.FullSnapshot=2]="FullSnapshot",t[t.IncrementalSnapshot=3]="IncrementalSnapshot",t[t.Meta=4]="Meta",t[t.Custom=5]="Custom",t[t.Plugin=6]="Plugin",t))(Et||{}),nt=(t=>(t[t.Mutation=0]="Mutation",t[t.MouseMove=1]="MouseMove",t[t.MouseInteraction=2]="MouseInteraction",t[t.Scroll=3]="Scroll",t[t.ViewportResize=4]="ViewportResize",t[t.Input=5]="Input",t[t.TouchMove=6]="TouchMove",t[t.MediaInteraction=7]="MediaInteraction",t[t.StyleSheetRule=8]="StyleSheetRule",t[t.CanvasMutation=9]="CanvasMutation",t[t.Font=10]="Font",t[t.Log=11]="Log",t[t.Drag=12]="Drag",t[t.StyleDeclaration=13]="StyleDeclaration",t[t.Selection=14]="Selection",t[t.AdoptedStyleSheet=15]="AdoptedStyleSheet",t[t.CustomElement=16]="CustomElement",t))(nt||{}),bi="[SessionRecording]",wi="redacted",Ir={initiatorTypes:["audio","beacon","body","css","early-hint","embed","fetch","frame","iframe","icon","image","img","input","link","navigation","object","ping","script","track","video","xmlhttprequest"],maskRequestFn:t=>t,recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:["first-input","navigation","paint","resource"],payloadSizeLimitBytes:1e6,payloadHostDenyList:[".lr-ingest.io",".ingest.sentry.io",".clarity.ms","analytics.google.com","bam.nr-data.net"]},fp=["authorization","x-forwarded-for","authorization","cookie","set-cookie","x-api-key","x-real-ip","remote-addr","forwarded","proxy-authorization","x-csrf-token","x-csrftoken","x-xsrf-token"],pp=["password","secret","passwd","api_key","apikey","auth","credentials","mysql_pwd","privatekey","private_key","token"],gp=["/s/","/e/","/i/"];function da(t,e,n,r){if(ee(t))return t;var s=e?.["content-length"]||function(i){return new Blob([i]).size}(t);return ve(s)&&(s=parseInt(s)),s>n?bi+" "+r+" body too large to record ("+s+" bytes)":t}function ha(t,e){if(ee(t))return t;var n=t;return bn(n,!1)||(n=bi+" "+e+" body "+wi),ie(pp,r=>{var s,i;(s=n)!=null&&s.length&&((i=n)==null?void 0:i.indexOf(r))!==-1&&(n=bi+" "+e+" body "+wi+" as might contain: "+r)}),n}var vp=(t,e)=>{var n,r,s,i={payloadSizeLimitBytes:Ir.payloadSizeLimitBytes,performanceEntryTypeToObserve:[...Ir.performanceEntryTypeToObserve],payloadHostDenyList:[...e.payloadHostDenyList||[],...Ir.payloadHostDenyList]},o=t.session_recording.recordHeaders!==!1&&e.recordHeaders,a=t.session_recording.recordBody!==!1&&e.recordBody,l=t.capture_performance!==!1&&e.recordPerformance,c=(n=i,s=Math.min(1e6,(r=n.payloadSizeLimitBytes)!==null&&r!==void 0?r:1e6),f=>(f!=null&&f.requestBody&&(f.requestBody=da(f.requestBody,f.requestHeaders,s,"Request")),f!=null&&f.responseBody&&(f.responseBody=da(f.responseBody,f.responseHeaders,s,"Response")),f)),u=f=>{return c(((p,v)=>{var m,_=wn(p.name),y=v.indexOf("http")===0?(m=wn(v))==null?void 0:m.pathname:v;y==="/"&&(y="");var w=_?.pathname.replace(y||"","");if(!(_&&w&&gp.some(S=>w.indexOf(S)===0)))return p})((g=(d=f).requestHeaders,ee(g)||ie(Object.keys(g??{}),p=>{fp.includes(p.toLowerCase())&&(g[p]=wi)}),d),t.api_host));var d,g},h=qe(t.session_recording.maskNetworkRequestFn);return h&&qe(t.session_recording.maskCapturedNetworkRequestFn)&&F.warn("Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored."),h&&(t.session_recording.maskCapturedNetworkRequestFn=f=>{var d=t.session_recording.maskNetworkRequestFn({url:f.name});return O({},f,{name:d?.url})}),i.maskRequestFn=qe(t.session_recording.maskCapturedNetworkRequestFn)?f=>{var d,g=u(f);return g&&(d=t.session_recording.maskCapturedNetworkRequestFn==null?void 0:t.session_recording.maskCapturedNetworkRequestFn(g))!==null&&d!==void 0?d:void 0}:f=>function(d){if(!A(d))return d.requestBody=ha(d.requestBody,"Request"),d.responseBody=ha(d.responseBody,"Response"),d}(u(f)),O({},Ir,i,{recordHeaders:o,recordBody:a,recordPerformance:l,recordInitialRequests:l})};class mp{constructor(e,n){var r,s;n===void 0&&(n={}),this.St={},this.$t=i=>{if(!this.St[i]){var o,a;this.St[i]=!0;var l=this.xt(i);(o=(a=this.i).onBlockedNode)==null||o.call(a,i,l)}},this.kt=i=>{var o=this.xt(i);if(o?.nodeName!=="svg"&&o instanceof Element){var a=o.closest("svg");if(a)return[this._rrweb.mirror.getId(a),a]}return[i,o]},this.xt=i=>this._rrweb.mirror.getNode(i),this.Et=i=>{var o,a,l,c,u,h,f,d;return((o=(a=i.removes)==null?void 0:a.length)!==null&&o!==void 0?o:0)+((l=(c=i.attributes)==null?void 0:c.length)!==null&&l!==void 0?l:0)+((u=(h=i.texts)==null?void 0:h.length)!==null&&u!==void 0?u:0)+((f=(d=i.adds)==null?void 0:d.length)!==null&&f!==void 0?f:0)},this.throttleMutations=i=>{if(i.type!==3||i.data.source!==0)return i;var o=i.data,a=this.Et(o);o.attributes&&(o.attributes=o.attributes.filter(c=>{var[u]=this.kt(c.id);return!this.gt.consumeRateLimit(u)&&c}));var l=this.Et(o);return l!==0||a===l?i:void 0},this._rrweb=e,this.i=n,this.gt=new Tl({bucketSize:(r=this.i.bucketSize)!==null&&r!==void 0?r:100,refillRate:(s=this.i.refillRate)!==null&&s!==void 0?s:10,refillInterval:1e3,I:this.$t,P:F})}}var Ue=Uint8Array,De=Uint16Array,xn=Uint32Array,Qi=new Ue([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Xi=new Ue([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),fa=new Ue([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ec=function(t,e){for(var n=new De(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];var s=new xn(n[30]);for(r=1;r<30;++r)for(var i=n[r];i<n[r+1];++i)s[i]=i-n[r]<<5|r;return[n,s]},tc=ec(Qi,2),_p=tc[0],xi=tc[1];_p[28]=258,xi[258]=28;for(var pa=ec(Xi,0)[1],nc=new De(32768),he=0;he<32768;++he){var Gt=(43690&he)>>>1|(21845&he)<<1;Gt=(61680&(Gt=(52428&Gt)>>>2|(13107&Gt)<<2))>>>4|(3855&Gt)<<4,nc[he]=((65280&Gt)>>>8|(255&Gt)<<8)>>>1}var Qn=function(t,e,n){for(var r=t.length,s=0,i=new De(e);s<r;++s)++i[t[s]-1];var o,a=new De(e);for(s=0;s<e;++s)a[s]=a[s-1]+i[s-1]<<1;for(o=new De(r),s=0;s<r;++s)o[s]=nc[a[t[s]-1]++]>>>15-t[s];return o},en=new Ue(288);for(he=0;he<144;++he)en[he]=8;for(he=144;he<256;++he)en[he]=9;for(he=256;he<280;++he)en[he]=7;for(he=280;he<288;++he)en[he]=8;var rs=new Ue(32);for(he=0;he<32;++he)rs[he]=5;var yp=Qn(en,9),bp=Qn(rs,5),rc=function(t){return(t/8>>0)+(7&t&&1)},sc=function(t,e,n){(n==null||n>t.length)&&(n=t.length);var r=new(t instanceof De?De:t instanceof xn?xn:Ue)(n-e);return r.set(t.subarray(e,n)),r},wt=function(t,e,n){n<<=7&e;var r=e/8>>0;t[r]|=n,t[r+1]|=n>>>8},Ln=function(t,e,n){n<<=7&e;var r=e/8>>0;t[r]|=n,t[r+1]|=n>>>8,t[r+2]|=n>>>16},Ns=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var s=n.length,i=n.slice();if(!s)return[new Ue(0),0];if(s==1){var o=new Ue(n[0].s+1);return o[n[0].s]=1,[o,1]}n.sort(function(S,P){return S.f-P.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,u=1,h=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=s-1;)a=n[n[c].f<n[h].f?c++:h++],l=n[c!=u&&n[c].f<n[h].f?c++:h++],n[u++]={s:-1,f:a.f+l.f,l:a,r:l};var f=i[0].s;for(r=1;r<s;++r)i[r].s>f&&(f=i[r].s);var d=new De(f+1),g=Si(n[u-1],d,0);if(g>e){r=0;var p=0,v=g-e,m=1<<v;for(i.sort(function(S,P){return d[P.s]-d[S.s]||S.f-P.f});r<s;++r){var _=i[r].s;if(!(d[_]>e))break;p+=m-(1<<g-d[_]),d[_]=e}for(p>>>=v;p>0;){var y=i[r].s;d[y]<e?p-=1<<e-d[y]++-1:++r}for(;r>=0&&p;--r){var w=i[r].s;d[w]==e&&(--d[w],++p)}g=e}return[new Ue(d),g]},Si=function(t,e,n){return t.s==-1?Math.max(Si(t.l,e,n+1),Si(t.r,e,n+1)):e[t.s]=n},ga=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new De(++e),r=0,s=t[0],i=1,o=function(l){n[r++]=l},a=1;a<=e;++a)if(t[a]==s&&a!=e)++i;else{if(!s&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(s),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(s);i=1,s=t[a]}return[n.subarray(0,r),e]},Dn=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},Ei=function(t,e,n){var r=n.length,s=rc(e+2);t[s]=255&r,t[s+1]=r>>>8,t[s+2]=255^t[s],t[s+3]=255^t[s+1];for(var i=0;i<r;++i)t[s+i+4]=n[i];return 8*(s+4+r)},va=function(t,e,n,r,s,i,o,a,l,c,u){wt(e,u++,n),++s[256];for(var h=Ns(s,15),f=h[0],d=h[1],g=Ns(i,15),p=g[0],v=g[1],m=ga(f),_=m[0],y=m[1],w=ga(p),S=w[0],P=w[1],C=new De(19),k=0;k<_.length;++k)C[31&_[k]]++;for(k=0;k<S.length;++k)C[31&S[k]]++;for(var D=Ns(C,7),j=D[0],N=D[1],I=19;I>4&&!j[fa[I-1]];--I);var G,z,X,K,V=c+5<<3,E=Dn(s,en)+Dn(i,rs)+o,x=Dn(s,f)+Dn(i,p)+o+14+3*I+Dn(C,j)+(2*C[16]+3*C[17]+7*C[18]);if(V<=E&&V<=x)return Ei(e,u,t.subarray(l,l+c));if(wt(e,u,1+(x<E)),u+=2,x<E){G=Qn(f,d),z=f,X=Qn(p,v),K=p;var R=Qn(j,N);for(wt(e,u,y-257),wt(e,u+5,P-1),wt(e,u+10,I-4),u+=14,k=0;k<I;++k)wt(e,u+3*k,j[fa[k]]);u+=3*I;for(var H=[_,S],M=0;M<2;++M){var U=H[M];for(k=0;k<U.length;++k){var B=31&U[k];wt(e,u,R[B]),u+=j[B],B>15&&(wt(e,u,U[k]>>>5&127),u+=U[k]>>>12)}}}else G=yp,z=en,X=bp,K=rs;for(k=0;k<a;++k)if(r[k]>255){B=r[k]>>>18&31,Ln(e,u,G[B+257]),u+=z[B+257],B>7&&(wt(e,u,r[k]>>>23&31),u+=Qi[B]);var te=31&r[k];Ln(e,u,X[te]),u+=K[te],te>3&&(Ln(e,u,r[k]>>>5&8191),u+=Xi[te])}else Ln(e,u,G[r[k]]),u+=z[r[k]];return Ln(e,u,G[256]),u+z[256]},wp=new xn([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),xp=function(){for(var t=new xn(256),e=0;e<256;++e){for(var n=e,r=9;--r;)n=(1&n&&3988292384)^n>>>1;t[e]=n}return t}(),Sp=function(){var t=4294967295;return{p:function(e){for(var n=t,r=0;r<e.length;++r)n=xp[255&n^e[r]]^n>>>8;t=n},d:function(){return 4294967295^t}}},Ep=function(t,e,n,r,s){return function(i,o,a,l,c,u){var h=i.length,f=new Ue(l+h+5*(1+Math.floor(h/7e3))+c),d=f.subarray(l,f.length-c),g=0;if(!o||h<8)for(var p=0;p<=h;p+=65535){var v=p+65535;v<h?g=Ei(d,g,i.subarray(p,v)):(d[p]=u,g=Ei(d,g,i.subarray(p,h)))}else{for(var m=wp[o-1],_=m>>>13,y=8191&m,w=(1<<a)-1,S=new De(32768),P=new De(w+1),C=Math.ceil(a/3),k=2*C,D=function(Ie){return(i[Ie]^i[Ie+1]<<C^i[Ie+2]<<k)&w},j=new xn(25e3),N=new De(288),I=new De(32),G=0,z=0,X=(p=0,0),K=0,V=0;p<h;++p){var E=D(p),x=32767&p,R=P[E];if(S[x]=R,P[E]=x,K<=p){var H=h-p;if((G>7e3||X>24576)&&H>423){g=va(i,d,0,j,N,I,z,X,V,p-V,g),X=G=z=0,V=p;for(var M=0;M<286;++M)N[M]=0;for(M=0;M<30;++M)I[M]=0}var U=2,B=0,te=y,se=x-R&32767;if(H>2&&E==D(p-se))for(var Y=Math.min(_,H)-1,me=Math.min(32767,p),Se=Math.min(258,H);se<=me&&--te&&x!=R;){if(i[p+U]==i[p+U-se]){for(var oe=0;oe<Se&&i[p+oe]==i[p+oe-se];++oe);if(oe>U){if(U=oe,B=se,oe>Y)break;var ne=Math.min(se,oe-2),L=0;for(M=0;M<ne;++M){var Z=p-se+M+32768&32767,ce=Z-S[Z]+32768&32767;ce>L&&(L=ce,R=Z)}}}se+=(x=R)-(R=S[x])+32768&32767}if(B){j[X++]=268435456|xi[U]<<18|pa[B];var ye=31&xi[U],ke=31&pa[B];z+=Qi[ye]+Xi[ke],++N[257+ye],++I[ke],K=p+U,++G}else j[X++]=i[p],++N[i[p]]}}g=va(i,d,u,j,N,I,z,X,V,p-V,g)}return sc(f,0,l+rc(g)+c)}(t,e.level==null?6:e.level,e.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(t.length)))):12+e.mem,n,r,!0)},ki=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},kp=function(t,e){var n=e.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=e.level<2?4:e.level==9?2:0,t[9]=3,e.mtime!=0&&ki(t,4,Math.floor(new Date(e.mtime||Date.now())/1e3)),n){t[3]=8;for(var r=0;r<=n.length;++r)t[r+10]=n.charCodeAt(r)}},Pp=function(t){return 10+(t.filename&&t.filename.length+1||0)};function ic(t,e){e===void 0&&(e={});var n=Sp(),r=t.length;n.p(t);var s=Ep(t,e,Pp(e),8),i=s.length;return kp(s,e),ki(s,i-8,n.d()),ki(s,i-4,r),s}function oc(t,e){var n=t.length;if(typeof TextEncoder<"u")return new TextEncoder().encode(t);for(var r=new Ue(t.length+(t.length>>>1)),s=0,i=function(c){r[s++]=c},o=0;o<n;++o){if(s+5>r.length){var a=new Ue(s+8+(n-o<<1));a.set(r),r=a}var l=t.charCodeAt(o);l<128||e?i(l):l<2048?(i(192|l>>>6),i(128|63&l)):l>55295&&l<57344?(i(240|(l=65536+(1047552&l)|1023&t.charCodeAt(++o))>>>18),i(128|l>>>12&63),i(128|l>>>6&63),i(128|63&l)):(i(224|l>>>12),i(128|l>>>6&63),i(128|63&l))}return sc(r,0,s)}function Cp(t,e){return function(n){for(var r=0,s=0;s<n.length;s++)r=(r<<5)-r+n.charCodeAt(s),r|=0;return Math.abs(r)}(t)%100<Be(100*e,0,100,F)}var qt="disabled",Ji="sampled",ss="active",tn="buffering",Zi="paused",eo="trigger",gt=eo+"_activated",Ae=eo+"_pending",mt=eo+"_"+qt;function ma(t,e){return e.some(n=>n.matching==="regex"&&new RegExp(n.url).test(t))}class ac{constructor(e){this.It=e}triggerStatus(e){var n=this.It.map(r=>r.triggerStatus(e));return n.includes(gt)?gt:n.includes(Ae)?Ae:mt}stop(){this.It.forEach(e=>e.stop())}}class lc{constructor(e){this.It=e}triggerStatus(e){var n=new Set;for(var r of this.It)n.add(r.triggerStatus(e));switch(n.delete(mt),n.size){case 0:return mt;case 1:return Array.from(n)[0];default:return Ae}}stop(){this.It.forEach(e=>e.stop())}}class Ap{triggerStatus(){return Ae}stop(){}}class Ip{constructor(e){this.Pt=[],this.Rt=[],this.urlBlocked=!1,this._instance=e}onRemoteConfig(e){var n,r;this.Pt=((n=e.sessionRecording)==null?void 0:n.urlTriggers)||[],this.Rt=((r=e.sessionRecording)==null?void 0:r.urlBlocklist)||[]}Tt(e){var n;return this.Pt.length===0?mt:((n=this._instance)==null?void 0:n.get_property(ci))===e?gt:Ae}triggerStatus(e){var n=this.Tt(e),r=n===gt?gt:n===Ae?Ae:mt;return this._instance.register_for_session({$sdk_debug_replay_url_trigger_status:r}),r}checkUrlTriggerConditions(e,n,r){if(b!==void 0&&b.location.href){var s=b.location.href,i=this.urlBlocked,o=ma(s,this.Rt);i&&o||(o&&!i?e():!o&&i&&n(),ma(s,this.Pt)&&r("url"))}}stop(){}}class Tp{constructor(e){this.linkedFlag=null,this.linkedFlagSeen=!1,this.Ct=()=>{},this._instance=e}triggerStatus(){var e=Ae;return ee(this.linkedFlag)&&(e=mt),this.linkedFlagSeen&&(e=gt),this._instance.register_for_session({$sdk_debug_replay_linked_flag_trigger_status:e}),e}onRemoteConfig(e,n){var r;if(this.linkedFlag=((r=e.sessionRecording)==null?void 0:r.linkedFlag)||null,!ee(this.linkedFlag)&&!this.linkedFlagSeen){var s=ve(this.linkedFlag)?this.linkedFlag:this.linkedFlag.flag,i=ve(this.linkedFlag)?null:this.linkedFlag.variant;this.Ct=this._instance.onFeatureFlags((o,a)=>{var l=!1;if(ge(a)&&s in a){var c=a[s];l=dt(c)?c===!0:i?c===i:!!c}this.linkedFlagSeen=l,l&&n(s,i)})}}stop(){this.Ct()}}class Rp{constructor(e){this.Mt=[],this._instance=e}onRemoteConfig(e){var n;this.Mt=((n=e.sessionRecording)==null?void 0:n.eventTriggers)||[]}Ot(e){var n;return this.Mt.length===0?mt:((n=this._instance)==null?void 0:n.get_property(ui))===e?gt:Ae}triggerStatus(e){var n=this.Ot(e),r=n===gt?gt:n===Ae?Ae:mt;return this._instance.register_for_session({$sdk_debug_replay_event_trigger_status:r}),r}stop(){}}function Op(t){return t.isRecordingEnabled?tn:qt}function Fp(t){if(!t.receivedFlags)return tn;if(!t.isRecordingEnabled)return qt;if(t.urlTriggerMatching.urlBlocked)return Zi;var e=t.isSampled===!0,n=new ac([t.eventTriggerMatching,t.urlTriggerMatching,t.linkedFlagMatching]).triggerStatus(t.sessionId);return e?Ji:n===gt?ss:n===Ae?tn:t.isSampled===!1?qt:ss}function $p(t){if(!t.receivedFlags)return tn;if(!t.isRecordingEnabled)return qt;if(t.urlTriggerMatching.urlBlocked)return Zi;var e=new lc([t.eventTriggerMatching,t.urlTriggerMatching,t.linkedFlagMatching]).triggerStatus(t.sessionId),n=e!==mt,r=dt(t.isSampled);return n&&e===Ae?tn:n&&e===mt||r&&!t.isSampled?qt:t.isSampled===!0?Ji:ss}var Vn="[SessionRecording]",xe=we(Vn);function Tr(){var t;return q==null||(t=q.__PosthogExtensions__)==null||(t=t.rrweb)==null?void 0:t.record}var Mp=3e5,Lp=[nt.MouseMove,nt.MouseInteraction,nt.Scroll,nt.ViewportResize,nt.Input,nt.TouchMove,nt.MediaInteraction,nt.Drag],_a=t=>({rrwebMethod:t,enqueuedAt:Date.now(),attempt:1});function Yt(t){return function(e,n){for(var r="",s=0;s<e.length;){var i=e[s++];r+=String.fromCharCode(i)}return r}(ic(oc(JSON.stringify(t))))}function ya(t){return t.type===Et.Custom&&t.data.tag==="sessionIdle"}class ba{get sessionId(){return this.Ft}get At(){return this._instance.config.session_recording.session_idle_threshold_ms||3e5}get started(){return this.Dt}get jt(){if(!this._instance.sessionManager)throw new Error(Vn+" must be started with a valid sessionManager.");return this._instance.sessionManager}get Lt(){var e,n;return this.Nt.triggerStatus(this.sessionId)===Ae?6e4:(e=(n=this._instance.config.session_recording)==null?void 0:n.full_snapshot_interval_millis)!==null&&e!==void 0?e:Mp}get zt(){var e=this._instance.get_property(zn);return dt(e)?e:null}get Ut(){var e,n,r=(e=this.H)==null?void 0:e.data[((n=this.H)==null?void 0:n.data.length)-1],{sessionStartTimestamp:s}=this.jt.checkAndGetSessionAndWindowId(!0);return r?r.timestamp-s:null}get qt(){var e=!!this._instance.get_property(or),n=!this._instance.config.disable_session_recording;return b&&e&&n}get Bt(){var e=!!this._instance.get_property(Yo),n=this._instance.config.enable_recording_console_log;return n??e}get Ht(){var e,n,r,s,i,o,a=this._instance.config.session_recording.captureCanvas,l=this._instance.get_property(Xo),c=(e=(n=a?.recordCanvas)!==null&&n!==void 0?n:l?.enabled)!==null&&e!==void 0&&e,u=(r=(s=a?.canvasFps)!==null&&s!==void 0?s:l?.fps)!==null&&r!==void 0?r:4,h=(i=(o=a?.canvasQuality)!==null&&o!==void 0?o:l?.quality)!==null&&i!==void 0?i:.4;if(typeof h=="string"){var f=parseFloat(h);h=isNaN(f)?.4:f}return{enabled:c,fps:Be(u,0,12,xe.createLogger("canvas recording fps"),4),quality:Be(h,0,1,xe.createLogger("canvas recording quality"),.4)}}get Wt(){var e,n,r=this._instance.get_property(Ko),s={recordHeaders:(e=this._instance.config.session_recording)==null?void 0:e.recordHeaders,recordBody:(n=this._instance.config.session_recording)==null?void 0:n.recordBody},i=s?.recordHeaders||r?.recordHeaders,o=s?.recordBody||r?.recordBody,a=ge(this._instance.config.capture_performance)?this._instance.config.capture_performance.network_timing:this._instance.config.capture_performance,l=!!(dt(a)?a:r?.capturePerformance);return i||o||l?{recordHeaders:i,recordBody:o,recordPerformance:l}:void 0}get Gt(){var e,n,r,s,i,o,a=this._instance.get_property(Qo),l={maskAllInputs:(e=this._instance.config.session_recording)==null?void 0:e.maskAllInputs,maskTextSelector:(n=this._instance.config.session_recording)==null?void 0:n.maskTextSelector,blockSelector:(r=this._instance.config.session_recording)==null?void 0:r.blockSelector},c=(s=l?.maskAllInputs)!==null&&s!==void 0?s:a?.maskAllInputs,u=(i=l?.maskTextSelector)!==null&&i!==void 0?i:a?.maskTextSelector,h=(o=l?.blockSelector)!==null&&o!==void 0?o:a?.blockSelector;return A(c)&&A(u)&&A(h)?void 0:{maskAllInputs:c==null||c,maskTextSelector:u,blockSelector:h}}get Jt(){var e=this._instance.get_property(Jo);return Ce(e)?e:null}get Vt(){var e=this._instance.get_property(Zo);return Ce(e)?e:null}get status(){return this.Kt?this.Yt({receivedFlags:this.Kt,isRecordingEnabled:this.qt,isSampled:this.zt,urlTriggerMatching:this.Xt,eventTriggerMatching:this.Qt,linkedFlagMatching:this.Zt,sessionId:this.sessionId}):tn}constructor(e){if(this.Yt=Op,this.Kt=!1,this.ti=[],this.ii="unknown",this.ei=Date.now(),this.Nt=new Ap,this.ri=void 0,this.si=void 0,this.ni=void 0,this.oi=void 0,this.ai=void 0,this._forceAllowLocalhostNetworkCapture=!1,this.li=()=>{this.hi()},this.ui=()=>{this.tryAddCustomEvent("browser offline",{})},this.di=()=>{this.tryAddCustomEvent("browser online",{})},this.vi=()=>{if($!=null&&$.visibilityState){var s="window "+$.visibilityState;this.tryAddCustomEvent(s,{})}},this._instance=e,this.Dt=!1,this.ci="/s/",this.fi=void 0,this.Kt=!1,!this._instance.sessionManager)throw xe.error("started without valid sessionManager"),new Error(Vn+" started without valid sessionManager. This is a bug.");if(this._instance.config.cookieless_mode==="always")throw new Error(Vn+' cannot be used with cookieless_mode="always"');this.Zt=new Tp(this._instance),this.Xt=new Ip(this._instance),this.Qt=new Rp(this._instance);var{sessionId:n,windowId:r}=this.jt.checkAndGetSessionAndWindowId();this.Ft=n,this.pi=r,this.H=this.gi(),this.At>=this.jt.sessionTimeoutMs&&xe.warn("session_idle_threshold_ms ("+this.At+") is greater than the session timeout ("+this.jt.sessionTimeoutMs+"). Session will never be detected as idle")}startIfEnabledOrStop(e){this.qt?(this.mi(e),pe(b,"beforeunload",this.li),pe(b,"offline",this.ui),pe(b,"online",this.di),pe(b,"visibilitychange",this.vi),this.bi(),this.yi(),ee(this.ri)&&(this.ri=this._instance.on("eventCaptured",n=>{try{if(n.event==="$pageview"){var r=n!=null&&n.properties.$current_url?this.wi(n?.properties.$current_url):"";if(!r)return;this.tryAddCustomEvent("$pageview",{href:r})}}catch(s){xe.error("Could not add $pageview to rrweb session",s)}})),this.si||(this.si=this.jt.onSessionId((n,r,s)=>{var i,o;s&&(this.tryAddCustomEvent("$session_id_change",{sessionId:n,windowId:r,changeReason:s}),(i=this._instance)==null||(i=i.persistence)==null||i.unregister(ui),(o=this._instance)==null||(o=o.persistence)==null||o.unregister(ci))}))):this.stopRecording()}stopRecording(){var e,n,r,s;this.Dt&&this.fi&&(this.fi(),this.fi=void 0,this.Dt=!1,b?.removeEventListener("beforeunload",this.li),b?.removeEventListener("offline",this.ui),b?.removeEventListener("online",this.di),b?.removeEventListener("visibilitychange",this.vi),this.gi(),clearInterval(this.Si),(e=this.ri)==null||e.call(this),this.ri=void 0,(n=this.ai)==null||n.call(this),this.ai=void 0,(r=this.si)==null||r.call(this),this.si=void 0,(s=this.oi)==null||s.call(this),this.oi=void 0,this.Qt.stop(),this.Xt.stop(),this.Zt.stop(),xe.info("stopped"))}$i(){var e;(e=this._instance.persistence)==null||e.unregister(zn)}xi(e){var n,r=this.Ft!==e,s=this.Jt;if(Ce(s)){var i=this.zt,o=r||!dt(i),a=o?Cp(e,s):i;o&&(a?this.ki(Ji):xe.warn("Sample rate ("+s+") has determined that this sessionId ("+e+") will not be sent to the server."),this.tryAddCustomEvent("samplingDecisionMade",{sampleRate:s,isSampled:a})),(n=this._instance.persistence)==null||n.register({[zn]:a})}else this.$i()}onRemoteConfig(e){var n,r,s,i;this.tryAddCustomEvent("$remote_config_received",e),this.Ei(e),(n=e.sessionRecording)!=null&&n.endpoint&&(this.ci=(i=e.sessionRecording)==null?void 0:i.endpoint),this.bi(),((r=e.sessionRecording)==null?void 0:r.triggerMatchType)==="any"?(this.Yt=Fp,this.Nt=new ac([this.Qt,this.Xt])):(this.Yt=$p,this.Nt=new lc([this.Qt,this.Xt])),this._instance.register_for_session({$sdk_debug_replay_remote_trigger_matching_config:(s=e.sessionRecording)==null?void 0:s.triggerMatchType}),this.Xt.onRemoteConfig(e),this.Qt.onRemoteConfig(e),this.Zt.onRemoteConfig(e,(o,a)=>{this.ki("linked_flag_matched",{flag:o,variant:a})}),this.Kt=!0,this.startIfEnabledOrStop()}bi(){Ce(this.Jt)&&ee(this.oi)&&(this.oi=this.jt.onSessionId(e=>{this.xi(e)}))}Ei(e){if(this._instance.persistence){var n,r=this._instance.persistence,s=()=>{var i,o,a,l,c,u,h,f,d,g=(i=e.sessionRecording)==null?void 0:i.sampleRate,p=ee(g)?null:parseFloat(g);ee(p)&&this.$i();var v=(o=e.sessionRecording)==null?void 0:o.minimumDurationMilliseconds;r.register({[or]:!!e.sessionRecording,[Yo]:(a=e.sessionRecording)==null?void 0:a.consoleLogRecordingEnabled,[Ko]:O({capturePerformance:e.capturePerformance},(l=e.sessionRecording)==null?void 0:l.networkPayloadCapture),[Qo]:(c=e.sessionRecording)==null?void 0:c.masking,[Xo]:{enabled:(u=e.sessionRecording)==null?void 0:u.recordCanvas,fps:(h=e.sessionRecording)==null?void 0:h.canvasFps,quality:(f=e.sessionRecording)==null?void 0:f.canvasQuality},[Jo]:p,[Zo]:A(v)?null:v,[Gr]:(d=e.sessionRecording)==null?void 0:d.scriptConfig})};s(),(n=this.ni)==null||n.call(this),this.ni=this.jt.onSessionId(s)}}log(e,n){var r;n===void 0&&(n="log"),(r=this._instance.sessionRecording)==null||r.onRRwebEmit({type:6,data:{plugin:"rrweb/console@1",payload:{level:n,trace:[],payload:[JSON.stringify(e)]}},timestamp:Date.now()})}mi(e){if(!A(Object.assign)&&!A(Array.from)&&!(this.Dt||this._instance.config.disable_session_recording||this._instance.consent.isOptedOut())){var n;this.Dt=!0,this.jt.checkAndGetSessionAndWindowId(),Tr()?this.Ii():(n=q.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,this.Pi,r=>{if(r)return xe.error("could not load recorder",r);this.Ii()}),xe.info("starting"),this.status===ss&&this.ki(e||"recording_initialized")}}get Pi(){var e;return((e=this._instance)==null||(e=e.persistence)==null||(e=e.get_property(Gr))==null?void 0:e.script)||"recorder"}Ri(e){var n;return e.type===3&&Lp.indexOf((n=e.data)==null?void 0:n.source)!==-1}Ti(e){var n=this.Ri(e);n||this.ii||e.timestamp-this.ei>this.At&&(this.ii=!0,clearInterval(this.Si),this.tryAddCustomEvent("sessionIdle",{eventTimestamp:e.timestamp,lastActivityTimestamp:this.ei,threshold:this.At,bufferLength:this.H.data.length,bufferSize:this.H.size}),this.hi());var r=!1;if(n&&(this.ei=e.timestamp,this.ii)){var s=this.ii==="unknown";this.ii=!1,s||(this.tryAddCustomEvent("sessionNoLongerIdle",{reason:"user activity",type:e.type}),r=!0)}if(!this.ii){var{windowId:i,sessionId:o}=this.jt.checkAndGetSessionAndWindowId(!n,e.timestamp),a=this.Ft!==o,l=this.pi!==i;this.pi=i,this.Ft=o,a||l?(this.stopRecording(),this.startIfEnabledOrStop("session_id_changed")):r&&this.Ci()}}Mi(e){try{return e.rrwebMethod(),!0}catch(n){return this.ti.length<10?this.ti.push({enqueuedAt:e.enqueuedAt||Date.now(),attempt:e.attempt++,rrwebMethod:e.rrwebMethod}):xe.warn("could not emit queued rrweb event.",n,e),!1}}tryAddCustomEvent(e,n){return this.Mi(_a(()=>Tr().addCustomEvent(e,n)))}Oi(){return this.Mi(_a(()=>Tr().takeFullSnapshot()))}Ii(){var e,n,r,s,i={blockClass:"ph-no-capture",blockSelector:void 0,ignoreClass:"ph-ignore-input",maskTextClass:"ph-mask",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{password:!0},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1},o=this._instance.config.session_recording;for(var[a,l]of Object.entries(o||{}))a in i&&(a==="maskInputOptions"?i.maskInputOptions=O({password:!0},l):i[a]=l);this.Ht&&this.Ht.enabled&&(i.recordCanvas=!0,i.sampling={canvas:this.Ht.fps},i.dataURLOptions={type:"image/webp",quality:this.Ht.quality}),this.Gt&&(i.maskAllInputs=(n=this.Gt.maskAllInputs)===null||n===void 0||n,i.maskTextSelector=(r=this.Gt.maskTextSelector)!==null&&r!==void 0?r:void 0,i.blockSelector=(s=this.Gt.blockSelector)!==null&&s!==void 0?s:void 0);var c=Tr();if(c){this.Fi=(e=this.Fi)!==null&&e!==void 0?e:new mp(c,{refillRate:this._instance.config.session_recording.__mutationThrottlerRefillRate,bucketSize:this._instance.config.session_recording.__mutationThrottlerBucketSize,onBlockedNode:(h,f)=>{var d="Too many mutations on node '"+h+"'. Rate limiting. This could be due to SVG animations or something similar";xe.info(d,{node:f}),this.log(Vn+" "+d,"warn")}});var u=this.Ai();this.fi=c(O({emit:h=>{this.onRRwebEmit(h)},plugins:u},i)),this.ei=Date.now(),this.ii=dt(this.ii)?this.ii:"unknown",this.tryAddCustomEvent("$session_options",{sessionRecordingOptions:i,activePlugins:u.map(h=>h?.name)}),this.tryAddCustomEvent("$posthog_config",{config:this._instance.config})}else xe.error("onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.")}Ci(){if(this.Si&&clearInterval(this.Si),this.ii!==!0){var e=this.Lt;e&&(this.Si=setInterval(()=>{this.Oi()},e))}}Ai(){var e,n,r=[],s=(e=q.__PosthogExtensions__)==null||(e=e.rrwebPlugins)==null?void 0:e.getRecordConsolePlugin;s&&this.Bt&&r.push(s());var i=(n=q.__PosthogExtensions__)==null||(n=n.rrwebPlugins)==null?void 0:n.getRecordNetworkPlugin;return this.Wt&&qe(i)&&(!Lf.includes(location.hostname)||this._forceAllowLocalhostNetworkCapture?r.push(i(vp(this._instance.config,this.Wt))):xe.info("NetworkCapture not started because we are on localhost.")),r}onRRwebEmit(e){var n;if(this.Di(),e&&ge(e)){if(e.type===Et.Meta){var r=this.wi(e.data.href);if(this.ji=r,!r)return;e.data.href=r}else this.Li();if(this.Xt.checkUrlTriggerConditions(()=>this.Ni(),()=>this.zi(),f=>this.Ui(f)),!this.Xt.urlBlocked||(s=e).type===Et.Custom&&s.data.tag==="recording paused"){var s;e.type===Et.FullSnapshot&&this.Ci(),e.type===Et.FullSnapshot&&this.Kt&&this.Nt.triggerStatus(this.sessionId)===Ae&&this.gi();var i=this.Fi?this.Fi.throttleMutations(e):e;if(i){var o=function(f){var d=f;if(d&&ge(d)&&d.type===6&&ge(d.data)&&d.data.plugin==="rrweb/console@1"){d.data.payload.payload.length>10&&(d.data.payload.payload=d.data.payload.payload.slice(0,10),d.data.payload.payload.push("...[truncated]"));for(var g=[],p=0;p<d.data.payload.payload.length;p++)d.data.payload.payload[p]&&d.data.payload.payload[p].length>2e3?g.push(d.data.payload.payload[p].slice(0,2e3)+"...[truncated]"):g.push(d.data.payload.payload[p]);return d.data.payload.payload=g,f}return f}(i);if(this.Ti(o),this.ii!==!0||ya(o)){if(ya(o)){var a=o.data.payload;if(a){var l=a.lastActivityTimestamp,c=a.threshold;o.timestamp=l+c}}var u=(n=this._instance.config.session_recording.compress_events)===null||n===void 0||n?function(f){if(ns(f)<1024)return f;try{if(f.type===Et.FullSnapshot)return O({},f,{data:Yt(f.data),cv:"2024-10"});if(f.type===Et.IncrementalSnapshot&&f.data.source===nt.Mutation)return O({},f,{cv:"2024-10",data:O({},f.data,{texts:Yt(f.data.texts),attributes:Yt(f.data.attributes),removes:Yt(f.data.removes),adds:Yt(f.data.adds)})});if(f.type===Et.IncrementalSnapshot&&f.data.source===nt.StyleSheetRule)return O({},f,{cv:"2024-10",data:O({},f.data,{adds:f.data.adds?Yt(f.data.adds):void 0,removes:f.data.removes?Yt(f.data.removes):void 0})})}catch(d){xe.error("could not compress event - will use uncompressed event",d)}return f}(o):o,h={$snapshot_bytes:ns(u),$snapshot_data:u,$session_id:this.Ft,$window_id:this.pi};this.status!==qt?this.qi(h):this.gi()}}}}}Li(){if(!this._instance.config.capture_pageview&&b){var e=this.wi(b.location.href);this.ji!==e&&(this.tryAddCustomEvent("$url_changed",{href:e}),this.ji=e)}}Di(){if(this.ti.length){var e=[...this.ti];this.ti=[],e.forEach(n=>{Date.now()-n.enqueuedAt<=2e3&&this.Mi(n)})}}wi(e){var n=this._instance.config.session_recording;if(n.maskNetworkRequestFn){var r,s={url:e};return(r=s=n.maskNetworkRequestFn(s))==null?void 0:r.url}return e}gi(){return this.H={size:0,data:[],sessionId:this.Ft,windowId:this.pi},this.H}hi(){this.Bi&&(clearTimeout(this.Bi),this.Bi=void 0);var e=this.Vt,n=this.Ut,r=Ce(n)&&n>=0,s=Ce(e)&&r&&n<e;return this.status===tn||this.status===Zi||this.status===qt||s?(this.Bi=setTimeout(()=>{this.hi()},2e3),this.H):(this.H.data.length>0&&yi(this.H).forEach(i=>{this.Hi({$snapshot_bytes:i.size,$snapshot_data:i.data,$session_id:i.sessionId,$window_id:i.windowId,$lib:"web",$lib_version:kt.LIB_VERSION})}),this.gi())}qi(e){var n,r=2+(((n=this.H)==null?void 0:n.data.length)||0);!this.ii&&(this.H.size+e.$snapshot_bytes+r>943718.4||this.H.sessionId!==this.Ft)&&(this.H=this.hi()),this.H.size+=e.$snapshot_bytes,this.H.data.push(e.$snapshot_data),this.Bi||this.ii||(this.Bi=setTimeout(()=>{this.hi()},2e3))}Hi(e){this._instance.capture("$snapshot",e,{_url:this._instance.requestRouter.endpointFor("api",this.ci),_noTruncate:!0,_batchKey:"recordings",skip_client_rate_limiting:!0})}Ui(e){var n;this.Nt.triggerStatus(this.sessionId)===Ae&&((n=this._instance)==null||(n=n.persistence)==null||n.register({[e==="url"?ci:ui]:this.Ft}),this.hi(),this.ki(e+"_trigger_matched"))}Ni(){this.Xt.urlBlocked||(this.Xt.urlBlocked=!0,clearInterval(this.Si),xe.info("recording paused due to URL blocker"),this.tryAddCustomEvent("recording paused",{reason:"url blocker"}))}zi(){this.Xt.urlBlocked&&(this.Xt.urlBlocked=!1,this.Oi(),this.Ci(),this.tryAddCustomEvent("recording resumed",{reason:"left blocked url"}),xe.info("recording resumed"))}yi(){this.Qt.Mt.length!==0&&ee(this.ai)&&(this.ai=this._instance.on("eventCaptured",e=>{try{this.Qt.Mt.includes(e.event)&&this.Ui("event")}catch(n){xe.error("Could not activate event trigger",n)}}))}overrideLinkedFlag(){this.Zt.linkedFlagSeen=!0,this.Oi(),this.ki("linked_flag_overridden")}overrideSampling(){var e;(e=this._instance.persistence)==null||e.register({[zn]:!0}),this.Oi(),this.ki("sampling_overridden")}overrideTrigger(e){this.Ui(e)}ki(e,n){this._instance.register_for_session({$session_recording_start_reason:e}),xe.info(e.replace("_"," "),n),J(["recording_initialized","session_id_changed"],e)||this.tryAddCustomEvent(e,n)}get sdkDebugProperties(){var{sessionStartTimestamp:e}=this.jt.checkAndGetSessionAndWindowId(!0);return{$recording_status:this.status,$sdk_debug_replay_internal_buffer_length:this.H.data.length,$sdk_debug_replay_internal_buffer_size:this.H.size,$sdk_debug_current_session_duration:this.Ut,$sdk_debug_session_start:e}}}var js=we("[SegmentIntegration]");function Dp(t,e){var n=t.config.segment;if(!n)return e();(function(r,s){var i=r.config.segment;if(!i)return s();var o=l=>{var c=()=>l.anonymousId()||Nt();r.config.get_device_id=c,l.id()&&(r.register({distinct_id:l.id(),$device_id:c()}),r.persistence.set_property(xt,"identified")),s()},a=i.user();"then"in a&&qe(a.then)?a.then(l=>o(l)):o(a)})(t,()=>{n.register((r=>{Promise&&Promise.resolve||js.warn("This browser does not have Promise support, and can not use the segment integration");var s=(i,o)=>{if(!o)return i;i.event.userId||i.event.anonymousId===r.get_distinct_id()||(js.info("No userId set, resetting PostHog"),r.reset()),i.event.userId&&i.event.userId!==r.get_distinct_id()&&(js.info("UserId set, identifying with PostHog"),r.identify(i.event.userId));var a=r.calculateEventProperties(o,i.event.properties);return i.event.properties=Object.assign({},a,i.event.properties),i};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:()=>!0,load:()=>Promise.resolve(),track:i=>s(i,i.event.event),page:i=>s(i,"$pageview"),identify:i=>s(i,"$identify"),screen:i=>s(i,"$screen")}})(t)).then(()=>{e()})})}var cc="posthog-js";function uc(t,e){var{organization:n,projectId:r,prefix:s,severityAllowList:i=["error"],sendExceptionsToPostHog:o=!0}=e===void 0?{}:e;return a=>{var l,c,u,h,f;if(!(i==="*"||i.includes(a.level))||!t.__loaded)return a;a.tags||(a.tags={});var d=t.requestRouter.endpointFor("ui","/project/"+t.config.token+"/person/"+t.get_distinct_id());a.tags["PostHog Person URL"]=d,t.sessionRecordingStarted()&&(a.tags["PostHog Recording URL"]=t.get_session_replay_url({withTimestamp:!0}));var g=((l=a.exception)==null?void 0:l.values)||[],p=g.map(m=>O({},m,{stacktrace:m.stacktrace?O({},m.stacktrace,{type:"raw",frames:(m.stacktrace.frames||[]).map(_=>O({},_,{platform:"web:javascript"}))}):void 0})),v={$exception_message:((c=g[0])==null?void 0:c.value)||a.message,$exception_type:(u=g[0])==null?void 0:u.type,$exception_personURL:d,$exception_level:a.level,$exception_list:p,$sentry_event_id:a.event_id,$sentry_exception:a.exception,$sentry_exception_message:((h=g[0])==null?void 0:h.value)||a.message,$sentry_exception_type:(f=g[0])==null?void 0:f.type,$sentry_tags:a.tags};return n&&r&&(v.$sentry_url=(s||"https://sentry.io/organizations/")+n+"/issues/?project="+r+"&query="+a.event_id),o&&t.exceptions.sendExceptionEvent(v),a}}class Np{constructor(e,n,r,s,i,o){this.name=cc,this.setupOnce=function(a){a(uc(e,{organization:n,projectId:r,prefix:s,severityAllowList:i,sendExceptionsToPostHog:o==null||o}))}}}var jp=b!=null&&b.location?es(b.location.hash,"__posthog")||es(location.hash,"state"):null,wa="_postHogToolbarParams",xa=we("[Toolbar]"),Dt=function(t){return t[t.UNINITIALIZED=0]="UNINITIALIZED",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t}(Dt||{});class Bp{constructor(e){this.instance=e}Wi(e){q.ph_toolbar_state=e}Gi(){var e;return(e=q.ph_toolbar_state)!==null&&e!==void 0?e:Dt.UNINITIALIZED}maybeLoadToolbar(e,n,r){if(e===void 0&&(e=void 0),n===void 0&&(n=void 0),r===void 0&&(r=void 0),!b||!$)return!1;e=e??b.location,r=r??b.history;try{if(!n){try{b.localStorage.setItem("test","test"),b.localStorage.removeItem("test")}catch{return!1}n=b?.localStorage}var s,i=jp||es(e.hash,"__posthog")||es(e.hash,"state"),o=i?zo(()=>JSON.parse(atob(decodeURIComponent(i))))||zo(()=>JSON.parse(decodeURIComponent(i))):null;return o&&o.action==="ph_authorize"?((s=o).source="url",s&&Object.keys(s).length>0&&(o.desiredHash?e.hash=o.desiredHash:r?r.replaceState(r.state,"",e.pathname+e.search):e.hash="")):((s=JSON.parse(n.getItem(wa)||"{}")).source="localstorage",delete s.userIntent),!(!s.token||this.instance.config.token!==s.token)&&(this.loadToolbar(s),!0)}catch{return!1}}Ji(e){var n=q.ph_load_toolbar||q.ph_load_editor;!ee(n)&&qe(n)?n(e,this.instance):xa.warn("No toolbar load function found")}loadToolbar(e){var n=!($==null||!$.getElementById(Ml));if(!b||n)return!1;var r=this.instance.requestRouter.region==="custom"&&this.instance.config.advanced_disable_toolbar_metrics,s=O({token:this.instance.config.token},e,{apiURL:this.instance.requestRouter.endpointFor("ui")},r?{instrument:!1}:{});if(b.localStorage.setItem(wa,JSON.stringify(O({},s,{source:void 0}))),this.Gi()===Dt.LOADED)this.Ji(s);else if(this.Gi()===Dt.UNINITIALIZED){var i;this.Wi(Dt.LOADING),(i=q.__PosthogExtensions__)==null||i.loadExternalDependency==null||i.loadExternalDependency(this.instance,"toolbar",o=>{if(o)return xa.error("[Toolbar] Failed to load",o),void this.Wi(Dt.UNINITIALIZED);this.Wi(Dt.LOADED),this.Ji(s)}),pe(b,"turbolinks:load",()=>{this.Wi(Dt.UNINITIALIZED),this.loadToolbar(s)})}return!0}Vi(e){return this.loadToolbar(e)}maybeLoadEditor(e,n,r){return e===void 0&&(e=void 0),n===void 0&&(n=void 0),r===void 0&&(r=void 0),this.maybeLoadToolbar(e,n,r)}}var Hp=we("[TracingHeaders]");class zp{constructor(e){this.Ki=void 0,this.Yi=void 0,this.lt=()=>{var n,r;A(this.Ki)&&((n=q.__PosthogExtensions__)==null||(n=n.tracingHeadersPatchFns)==null||n._patchXHR(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager)),A(this.Yi)&&((r=q.__PosthogExtensions__)==null||(r=r.tracingHeadersPatchFns)==null||r._patchFetch(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager))},this._instance=e}nt(e){var n,r;(n=q.__PosthogExtensions__)!=null&&n.tracingHeadersPatchFns&&e(),(r=q.__PosthogExtensions__)==null||r.loadExternalDependency==null||r.loadExternalDependency(this._instance,"tracing-headers",s=>{if(s)return Hp.error("failed to load script",s);e()})}startIfEnabledOrStop(){var e,n;this._instance.config.__add_tracing_headers?this.nt(this.lt):((e=this.Ki)==null||e.call(this),(n=this.Yi)==null||n.call(this),this.Ki=void 0,this.Yi=void 0)}}var Mt=we("[Web Vitals]"),Sa=9e5;class qp{constructor(e){var n;this.Xi=!1,this.C=!1,this.H={url:void 0,metrics:[],firstMetricTimestamp:void 0},this.Qi=()=>{clearTimeout(this.Zi),this.H.metrics.length!==0&&(this._instance.capture("$web_vitals",this.H.metrics.reduce((r,s)=>O({},r,{["$web_vitals_"+s.name+"_event"]:O({},s),["$web_vitals_"+s.name+"_value"]:s.value}),{})),this.H={url:void 0,metrics:[],firstMetricTimestamp:void 0})},this.te=r=>{var s,i=(s=this._instance.sessionManager)==null?void 0:s.checkAndGetSessionAndWindowId(!0);if(A(i))Mt.error("Could not read session ID. Dropping metrics!");else{this.H=this.H||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var o=this.ie();A(o)||(ee(r?.name)||ee(r?.value)?Mt.error("Invalid metric received",r):this.ee&&r.value>=this.ee?Mt.error("Ignoring metric with value >= "+this.ee,r):(this.H.url!==o&&(this.Qi(),this.Zi=setTimeout(this.Qi,this.flushToCaptureTimeoutMs)),A(this.H.url)&&(this.H.url=o),this.H.firstMetricTimestamp=A(this.H.firstMetricTimestamp)?Date.now():this.H.firstMetricTimestamp,r.attribution&&r.attribution.interactionTargetElement&&(r.attribution.interactionTargetElement=void 0),this.H.metrics.push(O({},r,{$current_url:o,$session_id:i.sessionId,$window_id:i.windowId,timestamp:Date.now()})),this.H.metrics.length===this.allowedMetrics.length&&this.Qi()))}},this.lt=()=>{var r,s,i,o,a=q.__PosthogExtensions__;A(a)||A(a.postHogWebVitalsCallbacks)||({onLCP:r,onCLS:s,onFCP:i,onINP:o}=a.postHogWebVitalsCallbacks),r&&s&&i&&o?(this.allowedMetrics.indexOf("LCP")>-1&&r(this.te.bind(this)),this.allowedMetrics.indexOf("CLS")>-1&&s(this.te.bind(this)),this.allowedMetrics.indexOf("FCP")>-1&&i(this.te.bind(this)),this.allowedMetrics.indexOf("INP")>-1&&o(this.te.bind(this)),this.C=!0):Mt.error("web vitals callbacks not loaded - not starting")},this._instance=e,this.Xi=!((n=this._instance.persistence)==null||!n.props[Wo]),this.startIfEnabled()}get allowedMetrics(){var e,n,r=ge(this._instance.config.capture_performance)?(e=this._instance.config.capture_performance)==null?void 0:e.web_vitals_allowed_metrics:void 0;return A(r)?((n=this._instance.persistence)==null?void 0:n.props[Go])||["CLS","FCP","INP","LCP"]:r}get flushToCaptureTimeoutMs(){return(ge(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get ee(){var e=ge(this._instance.config.capture_performance)&&Ce(this._instance.config.capture_performance.__web_vitals_max_value)?this._instance.config.capture_performance.__web_vitals_max_value:Sa;return 0<e&&e<=6e4?Sa:e}get isEnabled(){var e=Me?.protocol;if(e!=="http:"&&e!=="https:")return Mt.info("Web Vitals are disabled on non-http/https protocols"),!1;var n=ge(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals:dt(this._instance.config.capture_performance)?this._instance.config.capture_performance:void 0;return dt(n)?n:this.Xi}startIfEnabled(){this.isEnabled&&!this.C&&(Mt.info("enabled, starting..."),this.nt(this.lt))}onRemoteConfig(e){var n=ge(e.capturePerformance)&&!!e.capturePerformance.web_vitals,r=ge(e.capturePerformance)?e.capturePerformance.web_vitals_allowed_metrics:void 0;this._instance.persistence&&(this._instance.persistence.register({[Wo]:n}),this._instance.persistence.register({[Go]:r})),this.Xi=n,this.startIfEnabled()}nt(e){var n,r;(n=q.__PosthogExtensions__)!=null&&n.postHogWebVitalsCallbacks&&e(),(r=q.__PosthogExtensions__)==null||r.loadExternalDependency==null||r.loadExternalDependency(this._instance,"web-vitals",s=>{s?Mt.error("failed to load script",s):e()})}ie(){var e=b?b.location.href:void 0;return e||Mt.error("Could not determine current URL"),e}}var Up=we("[Heatmaps]");function Ea(t){return ge(t)&&"clientX"in t&&"clientY"in t&&Ce(t.clientX)&&Ce(t.clientY)}class Vp{constructor(e){var n;this.rageclicks=new Wl,this.Xi=!1,this.C=!1,this.re=null,this.instance=e,this.Xi=!((n=this.instance.persistence)==null||!n.props[ai])}get flushIntervalMilliseconds(){var e=5e3;return ge(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(e=this.instance.config.capture_heatmaps.flush_interval_milliseconds),e}get isEnabled(){return A(this.instance.config.capture_heatmaps)?A(this.instance.config.enable_heatmaps)?this.Xi:this.instance.config.enable_heatmaps:this.instance.config.capture_heatmaps!==!1}startIfEnabled(){if(this.isEnabled){if(this.C)return;Up.info("starting..."),this.se(),this.re=setInterval(this.ne.bind(this),this.flushIntervalMilliseconds)}else{var e,n;clearInterval((e=this.re)!==null&&e!==void 0?e:void 0),(n=this.oe)==null||n.stop(),this.getAndClearBuffer()}}onRemoteConfig(e){var n=!!e.heatmaps;this.instance.persistence&&this.instance.persistence.register({[ai]:n}),this.Xi=n,this.startIfEnabled()}getAndClearBuffer(){var e=this.H;return this.H=void 0,e}ae(e){this.le(e.originalEvent,"deadclick")}se(){b&&$&&(pe(b,"beforeunload",this.ne.bind(this)),pe($,"click",e=>this.le(e||b?.event),{capture:!0}),pe($,"mousemove",e=>this.he(e||b?.event),{capture:!0}),this.oe=new Kl(this.instance,Qf,this.ae.bind(this)),this.oe.startIfEnabled(),this.C=!0)}ue(e,n){var r=this.instance.scrollManager.scrollY(),s=this.instance.scrollManager.scrollX(),i=this.instance.scrollManager.scrollElement(),o=function(a,l,c){for(var u=a;u&&_s(u)&&!Bt(u,"body");){if(u===c)return!1;if(J(l,b?.getComputedStyle(u).position))return!0;u=Bl(u)}return!1}(jl(e),["fixed","sticky"],i);return{x:e.clientX+(o?0:s),y:e.clientY+(o?0:r),target_fixed:o,type:n}}le(e,n){var r;if(n===void 0&&(n="click"),!ea(e.target)&&Ea(e)){var s=this.ue(e,n);(r=this.rageclicks)!=null&&r.isRageClick(e.clientX,e.clientY,new Date().getTime())&&this.de(O({},s,{type:"rageclick"})),this.de(s)}}he(e){!ea(e.target)&&Ea(e)&&(clearTimeout(this.ve),this.ve=setTimeout(()=>{this.de(this.ue(e,"mousemove"))},500))}de(e){if(b){var n=b.location.href;this.H=this.H||{},this.H[n]||(this.H[n]=[]),this.H[n].push(e)}}ne(){this.H&&!dn(this.H)&&this.instance.capture("$$heatmap",{$heatmap_data:this.getAndClearBuffer()})}}class Wp{constructor(e){this._instance=e}doPageView(e,n){var r,s=this.ce(e,n);return this.fe={pathname:(r=b?.location.pathname)!==null&&r!==void 0?r:"",pageViewId:n,timestamp:e},this._instance.scrollManager.resetContext(),s}doPageLeave(e){var n;return this.ce(e,(n=this.fe)==null?void 0:n.pageViewId)}doEvent(){var e;return{$pageview_id:(e=this.fe)==null?void 0:e.pageViewId}}ce(e,n){var r=this.fe;if(!r)return{$pageview_id:n};var s={$pageview_id:n,$prev_pageview_id:r.pageViewId},i=this._instance.scrollManager.getContext();if(i&&!this._instance.config.disable_scroll_properties){var{maxScrollHeight:o,lastScrollY:a,maxScrollY:l,maxContentHeight:c,lastContentY:u,maxContentY:h}=i;if(!(A(o)||A(a)||A(l)||A(c)||A(u)||A(h))){o=Math.ceil(o),a=Math.ceil(a),l=Math.ceil(l),c=Math.ceil(c),u=Math.ceil(u),h=Math.ceil(h);var f=o<=1?1:Be(a/o,0,1,F),d=o<=1?1:Be(l/o,0,1,F),g=c<=1?1:Be(u/c,0,1,F),p=c<=1?1:Be(h/c,0,1,F);s=_e(s,{$prev_pageview_last_scroll:a,$prev_pageview_last_scroll_percentage:f,$prev_pageview_max_scroll:l,$prev_pageview_max_scroll_percentage:d,$prev_pageview_last_content:u,$prev_pageview_last_content_percentage:g,$prev_pageview_max_content:h,$prev_pageview_max_content_percentage:p})}}return r.pathname&&(s.$prev_pageview_pathname=r.pathname),r.timestamp&&(s.$prev_pageview_duration=(e.getTime()-r.timestamp.getTime())/1e3),s}}var Gp=function(t){var e,n,r,s,i="";for(e=n=0,r=(t=(t+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`)).length,s=0;s<r;s++){var o=t.charCodeAt(s),a=null;o<128?n++:a=o>127&&o<2048?String.fromCharCode(o>>6|192,63&o|128):String.fromCharCode(o>>12|224,o>>6&63|128,63&o|128),Ut(a)||(n>e&&(i+=t.substring(e,n)),i+=a,e=n=s+1)}return n>e&&(i+=t.substring(e,t.length)),i},Yp=!!si||!!ri,ka="text/plain",is=(t,e)=>{var[n,r]=t.split("?"),s=O({},e);r?.split("&").forEach(o=>{var[a]=o.split("=");delete s[a]});var i=Df(s);return n+"?"+(i=i?(r?r+"&":"")+i:r)},Wn=(t,e)=>JSON.stringify(t,(n,r)=>typeof r=="bigint"?r.toString():r,e),Bs=t=>{var{data:e,compression:n}=t;if(e){if(n===ct.GZipJS){var r=ic(oc(Wn(e)),{mtime:0}),s=new Blob([r],{type:ka});return{contentType:ka,body:s,estimatedSize:s.size}}if(n===ct.Base64){var i=function(l){var c,u,h,f,d,g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",p=0,v=0,m="",_=[];if(!l)return l;l=Gp(l);do c=(d=l.charCodeAt(p++)<<16|l.charCodeAt(p++)<<8|l.charCodeAt(p++))>>18&63,u=d>>12&63,h=d>>6&63,f=63&d,_[v++]=g.charAt(c)+g.charAt(u)+g.charAt(h)+g.charAt(f);while(p<l.length);switch(m=_.join(""),l.length%3){case 1:m=m.slice(0,-2)+"==";break;case 2:m=m.slice(0,-1)+"="}return m}(Wn(e)),o=(l=>"data="+encodeURIComponent(typeof l=="string"?l:Wn(l)))(i);return{contentType:"application/x-www-form-urlencoded",body:o,estimatedSize:new Blob([o]).size}}var a=Wn(e);return{contentType:"application/json",body:a,estimatedSize:new Blob([a]).size}}},Nr=[];ri&&Nr.push({transport:"fetch",method:t=>{var e,n,{contentType:r,body:s,estimatedSize:i}=(e=Bs(t))!==null&&e!==void 0?e:{},o=new Headers;ie(t.headers,function(u,h){o.append(h,u)}),r&&o.append("Content-Type",r);var a=t.url,l=null;if(Bo){var c=new Bo;l={signal:c.signal,timeout:setTimeout(()=>c.abort(),t.timeout)}}ri(a,O({method:t?.method||"GET",headers:o,keepalive:t.method==="POST"&&(i||0)<52428.8,body:s,signal:(n=l)==null?void 0:n.signal},t.fetchOptions)).then(u=>u.text().then(h=>{var f={statusCode:u.status,text:h};if(u.status===200)try{f.json=JSON.parse(h)}catch(d){F.error(d)}t.callback==null||t.callback(f)})).catch(u=>{F.error(u),t.callback==null||t.callback({statusCode:0,text:u})}).finally(()=>l?clearTimeout(l.timeout):null)}}),si&&Nr.push({transport:"XHR",method:t=>{var e,n=new si;n.open(t.method||"GET",t.url,!0);var{contentType:r,body:s}=(e=Bs(t))!==null&&e!==void 0?e:{};ie(t.headers,function(i,o){n.setRequestHeader(o,i)}),r&&n.setRequestHeader("Content-Type",r),t.timeout&&(n.timeout=t.timeout),t.disableXHRCredentials||(n.withCredentials=!0),n.onreadystatechange=()=>{if(n.readyState===4){var i={statusCode:n.status,text:n.responseText};if(n.status===200)try{i.json=JSON.parse(n.responseText)}catch{}t.callback==null||t.callback(i)}},n.send(s)}}),je!=null&&je.sendBeacon&&Nr.push({transport:"sendBeacon",method:t=>{var e=is(t.url,{beacon:"1"});try{var n,{contentType:r,body:s}=(n=Bs(t))!==null&&n!==void 0?n:{},i=typeof s=="string"?new Blob([s],{type:r}):s;je.sendBeacon(e,i)}catch{}}});var Sn=function(t,e){if(!function(n){try{new RegExp(n)}catch{return!1}return!0}(e))return!1;try{return new RegExp(e).test(t)}catch{return!1}};function Pa(t,e,n){return Wn({distinct_id:t,userPropertiesToSet:e,userPropertiesToSetOnce:n})}var Kp={exact:(t,e)=>e.some(n=>t.some(r=>n===r)),is_not:(t,e)=>e.every(n=>t.every(r=>n!==r)),regex:(t,e)=>e.some(n=>t.some(r=>Sn(n,r))),not_regex:(t,e)=>e.every(n=>t.every(r=>!Sn(n,r))),icontains:(t,e)=>e.map(Rr).some(n=>t.map(Rr).some(r=>n.includes(r))),not_icontains:(t,e)=>e.map(Rr).every(n=>t.map(Rr).every(r=>!n.includes(r)))},Rr=t=>t.toLowerCase(),Ca=we("[Error tracking]");class Qp{constructor(e){var n,r;this.pe=[],this._instance=e,this.pe=(n=(r=this._instance.persistence)==null?void 0:r.get_property(li))!==null&&n!==void 0?n:[]}onRemoteConfig(e){var n,r,s,i=(n=(r=e.errorTracking)==null?void 0:r.suppressionRules)!==null&&n!==void 0?n:[],o=(s=e.errorTracking)==null?void 0:s.captureExtensionExceptions;this.pe=i,this._instance.persistence&&this._instance.persistence.register({[li]:this.pe,[Vo]:o})}get ge(){var e,n=!!this._instance.get_property(Vo),r=this._instance.config.error_tracking.captureExtensionExceptions;return(e=r??n)!==null&&e!==void 0&&e}sendExceptionEvent(e){if(this._e(e))Ca.info("Skipping exception capture because a suppression rule matched");else{if(this.ge||!this.me(e))return this._instance.capture("$exception",e,{_noTruncate:!0,_batchKey:"exceptionEvent"});Ca.info("Skipping exception capture because it was thrown by an extension")}}_e(e){var n=e.$exception_list;if(!n||!de(n)||n.length===0)return!1;var r=n.reduce((s,i)=>{var{type:o,value:a}=i;return ve(o)&&o.length>0&&s.$exception_types.push(o),ve(a)&&a.length>0&&s.$exception_values.push(a),s},{$exception_types:[],$exception_values:[]});return this.pe.some(s=>{var i=s.values.map(o=>{var a,l=Kp[o.operator],c=de(o.value)?o.value:[o.value],u=(a=r[o.key])!==null&&a!==void 0?a:[];return c.length>0&&l(c,u)});return s.type==="OR"?i.some(Boolean):i.every(Boolean)})}me(e){var n=e.$exception_list;return!(!n||!de(n))&&n.flatMap(r=>{var s,i;return(s=(i=r.stacktrace)==null?void 0:i.frames)!==null&&s!==void 0?s:[]}).some(r=>r.filename&&r.filename.startsWith("chrome-extension://"))}}var Ve="Mobile",os="iOS",ht="Android",ar="Tablet",dc=ht+" "+ar,hc="iPad",fc="Apple",pc=fc+" Watch",lr="Safari",En="BlackBerry",gc="Samsung",vc=gc+"Browser",mc=gc+" Internet",nn="Chrome",Xp=nn+" OS",_c=nn+" "+os,to="Internet Explorer",yc=to+" "+Ve,no="Opera",Jp=no+" Mini",ro="Edge",bc="Microsoft "+ro,mn="Firefox",wc=mn+" "+os,cr="Nintendo",ur="PlayStation",_n="Xbox",xc=ht+" "+Ve,Sc=Ve+" "+lr,Gn="Windows",Pi=Gn+" Phone",Aa="Nokia",Ci="Ouya",Ec="Generic",Zp=Ec+" "+Ve.toLowerCase(),kc=Ec+" "+ar.toLowerCase(),Ai="Konqueror",Te="(\\d+(\\.\\d+)?)",Hs=new RegExp("Version/"+Te),eg=new RegExp(_n,"i"),tg=new RegExp(ur+" \\w+","i"),ng=new RegExp(cr+" \\w+","i"),so=new RegExp(En+"|PlayBook|BB10","i"),rg={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},sg=(t,e)=>e&&J(e,fc)||function(n){return J(n,lr)&&!J(n,nn)&&!J(n,ht)}(t),Pc=function(t,e){return e=e||"",J(t," OPR/")&&J(t,"Mini")?Jp:J(t," OPR/")?no:so.test(t)?En:J(t,"IE"+Ve)||J(t,"WPDesktop")?yc:J(t,vc)?mc:J(t,ro)||J(t,"Edg/")?bc:J(t,"FBIOS")?"Facebook "+Ve:J(t,"UCWEB")||J(t,"UCBrowser")?"UC Browser":J(t,"CriOS")?_c:J(t,"CrMo")||J(t,nn)?nn:J(t,ht)&&J(t,lr)?xc:J(t,"FxiOS")?wc:J(t.toLowerCase(),Ai.toLowerCase())?Ai:sg(t,e)?J(t,Ve)?Sc:lr:J(t,mn)?mn:J(t,"MSIE")||J(t,"Trident/")?to:J(t,"Gecko")?mn:""},ig={[yc]:[new RegExp("rv:"+Te)],[bc]:[new RegExp(ro+"?\\/"+Te)],[nn]:[new RegExp("("+nn+"|CrMo)\\/"+Te)],[_c]:[new RegExp("CriOS\\/"+Te)],"UC Browser":[new RegExp("(UCBrowser|UCWEB)\\/"+Te)],[lr]:[Hs],[Sc]:[Hs],[no]:[new RegExp("(Opera|OPR)\\/"+Te)],[mn]:[new RegExp(mn+"\\/"+Te)],[wc]:[new RegExp("FxiOS\\/"+Te)],[Ai]:[new RegExp("Konqueror[:/]?"+Te,"i")],[En]:[new RegExp(En+" "+Te),Hs],[xc]:[new RegExp("android\\s"+Te,"i")],[mc]:[new RegExp(vc+"\\/"+Te)],[to]:[new RegExp("(rv:|MSIE )"+Te)],Mozilla:[new RegExp("rv:"+Te)]},og=function(t,e){var n=Pc(t,e),r=ig[n];if(A(r))return null;for(var s=0;s<r.length;s++){var i=r[s],o=t.match(i);if(o)return parseFloat(o[o.length-2])}return null},Ia=[[new RegExp(_n+"; "+_n+" (.*?)[);]","i"),t=>[_n,t&&t[1]||""]],[new RegExp(cr,"i"),[cr,""]],[new RegExp(ur,"i"),[ur,""]],[so,[En,""]],[new RegExp(Gn,"i"),(t,e)=>{if(/Phone/.test(e)||/WPDesktop/.test(e))return[Pi,""];if(new RegExp(Ve).test(e)&&!/IEMobile\b/.test(e))return[Gn+" "+Ve,""];var n=/Windows NT ([0-9.]+)/i.exec(e);if(n&&n[1]){var r=n[1],s=rg[r]||"";return/arm/i.test(e)&&(s="RT"),[Gn,s]}return[Gn,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,t=>{if(t&&t[3]){var e=[t[3],t[4],t[5]||"0"];return[os,e.join(".")]}return[os,""]}],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,t=>{var e="";return t&&t.length>=3&&(e=A(t[2])?t[3]:t[2]),["watchOS",e]}],[new RegExp("("+ht+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+ht+")","i"),t=>{if(t&&t[2]){var e=[t[2],t[3],t[4]||"0"];return[ht,e.join(".")]}return[ht,""]}],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,t=>{var e=["Mac OS X",""];if(t&&t[1]){var n=[t[1],t[2],t[3]||"0"];e[1]=n.join(".")}return e}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[Xp,""]],[/Linux|debian/i,["Linux",""]]],Ta=function(t){return ng.test(t)?cr:tg.test(t)?ur:eg.test(t)?_n:new RegExp(Ci,"i").test(t)?Ci:new RegExp("("+Pi+"|WPDesktop)","i").test(t)?Pi:/iPad/.test(t)?hc:/iPod/.test(t)?"iPod Touch":/iPhone/.test(t)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(t)?pc:so.test(t)?En:/(kobo)\s(ereader|touch)/i.test(t)?"Kobo":new RegExp(Aa,"i").test(t)?Aa:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(t)||/(kf[a-z]+)( bui|\)).+silk\//i.test(t)?"Kindle Fire":/(Android|ZTE)/i.test(t)?!new RegExp(Ve).test(t)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(t)?/pixel[\daxl ]{1,6}/i.test(t)&&!/pixel c/i.test(t)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(t)||/lmy47v/i.test(t)&&!/QTAQZ3/i.test(t)?ht:dc:ht:new RegExp("(pda|"+Ve+")","i").test(t)?Zp:new RegExp(ar,"i").test(t)&&!new RegExp(ar+" pc","i").test(t)?kc:""},Or="https?://(.*)",bs=["gclid","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","igshid","ttclid","rdt_cid","epik","qclid","sccid","irclid","_kx"],ag=ms(["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gad_source","mc_cid"],bs),io="<masked>",lg=["li_fat_id"];function Cc(t,e,n){if(!$)return{};var r,s=e?ms([],bs,n||[]):[],i=Ac(Yi($.URL,s,io),t),o=(r={},ie(lg,function(a){var l=pt.V(a);r[a]=l||null}),r);return _e(o,i)}function Ac(t,e){var n=ag.concat(e||[]),r={};return ie(n,function(s){var i=Zr(t,s);r[s]=i||null}),r}function Ic(t){var e=function(i){return i?i.search(Or+"google.([^/?]*)")===0?"google":i.search(Or+"bing.com")===0?"bing":i.search(Or+"yahoo.com")===0?"yahoo":i.search(Or+"duckduckgo.com")===0?"duckduckgo":null:null}(t),n=e!="yahoo"?"q":"p",r={};if(!Ut(e)){r.$search_engine=e;var s=$?Zr($.referrer,n):"";s.length&&(r.ph_keyword=s)}return r}function Ra(){return navigator.language||navigator.userLanguage}function Tc(){return $?.referrer||"$direct"}function Rc(t,e){var n=t?ms([],bs,e||[]):[],r=Me?.href.substring(0,1e3);return{r:Tc().substring(0,1e3),u:r?Yi(r,n,io):void 0}}function Oc(t){var e,{r:n,u:r}=t,s={$referrer:n,$referring_domain:n==null?void 0:n=="$direct"?"$direct":(e=wn(n))==null?void 0:e.host};if(r){s.$current_url=r;var i=wn(r);s.$host=i?.host,s.$pathname=i?.pathname;var o=Ac(r);_e(s,o)}if(n){var a=Ic(n);_e(s,a)}return s}function Fc(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{return}}function cg(){try{return new Date().getTimezoneOffset()}catch{return}}function ug(t,e){if(!$e)return{};var n,r,s,i=t?ms([],bs,e||[]):[],[o,a]=function(l){for(var c=0;c<Ia.length;c++){var[u,h]=Ia[c],f=u.exec(l),d=f&&(qe(h)?h(f,l):h);if(d)return d}return["",""]}($e);return _e(Wi({$os:o,$os_version:a,$browser:Pc($e,navigator.vendor),$device:Ta($e),$device_type:(r=$e,s=Ta(r),s===hc||s===dc||s==="Kobo"||s==="Kindle Fire"||s===kc?ar:s===cr||s===_n||s===ur||s===Ci?"Console":s===pc?"Wearable":s?Ve:"Desktop"),$timezone:Fc(),$timezone_offset:cg()}),{$current_url:Yi(Me?.href,i,io),$host:Me?.host,$pathname:Me?.pathname,$raw_user_agent:$e.length>1e3?$e.substring(0,997)+"...":$e,$browser_version:og($e,navigator.vendor),$browser_language:Ra(),$browser_language_prefix:(n=Ra(),typeof n=="string"?n.split("-")[0]:void 0),$screen_height:b?.screen.height,$screen_width:b?.screen.width,$viewport_height:b?.innerHeight,$viewport_width:b?.innerWidth,$lib:"web",$lib_version:kt.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})}var lt=we("[FeatureFlags]"),zs="$active_feature_flags",ln="$override_feature_flags",Oa="$feature_flag_payloads",Nn="$override_feature_flag_payloads",Fa="$feature_flag_request_id",$a=t=>{var e={};for(var[n,r]of Mr(t||{}))r&&(e[n]=r);return e},dg=t=>{var e=t.flags;return e?(t.featureFlags=Object.fromEntries(Object.keys(e).map(n=>{var r;return[n,(r=e[n].variant)!==null&&r!==void 0?r:e[n].enabled]})),t.featureFlagPayloads=Object.fromEntries(Object.keys(e).filter(n=>e[n].enabled).filter(n=>{var r;return(r=e[n].metadata)==null?void 0:r.payload}).map(n=>{var r;return[n,(r=e[n].metadata)==null?void 0:r.payload]}))):lt.warn("Using an older version of the feature flags endpoint. Please upgrade your PostHog server to the latest version"),t},hg=function(t){return t.FeatureFlags="feature_flags",t.Recordings="recordings",t}({});class fg{constructor(e){this.be=!1,this.ye=!1,this.we=!1,this.Se=!1,this.$e=!1,this.xe=!1,this.ke=!1,this._instance=e,this.featureFlagEventHandlers=[]}flags(){if(this._instance.config.__preview_remote_config)this.xe=!0;else{var e=!this.Ee&&(this._instance.config.advanced_disable_feature_flags||this._instance.config.advanced_disable_feature_flags_on_first_load);this.Ie({disableFlags:e})}}get hasLoadedFlags(){return this.ye}getFlags(){return Object.keys(this.getFlagVariants())}getFlagsWithDetails(){var e=this._instance.get_property(di),n=this._instance.get_property(ln),r=this._instance.get_property(Nn);if(!r&&!n)return e||{};var s=_e({},e||{}),i=[...new Set([...Object.keys(r||{}),...Object.keys(n||{})])];for(var o of i){var a,l,c=s[o],u=n?.[o],h=A(u)?(a=c?.enabled)!==null&&a!==void 0&&a:!!u,f=A(u)?c.variant:typeof u=="string"?u:void 0,d=r?.[o],g=O({},c,{enabled:h,variant:h?f??c?.variant:void 0});h!==c?.enabled&&(g.original_enabled=c?.enabled),f!==c?.variant&&(g.original_variant=c?.variant),d&&(g.metadata=O({},c?.metadata,{payload:d,original_payload:c==null||(l=c.metadata)==null?void 0:l.payload})),s[o]=g}return this.be||(lt.warn(" Overriding feature flag details!",{flagDetails:e,overriddenPayloads:r,finalDetails:s}),this.be=!0),s}getFlagVariants(){var e=this._instance.get_property(hn),n=this._instance.get_property(ln);if(!n)return e||{};for(var r=_e({},e),s=Object.keys(n),i=0;i<s.length;i++)r[s[i]]=n[s[i]];return this.be||(lt.warn(" Overriding feature flags!",{enabledFlags:e,overriddenFlags:n,finalFlags:r}),this.be=!0),r}getFlagPayloads(){var e=this._instance.get_property(Oa),n=this._instance.get_property(Nn);if(!n)return e||{};for(var r=_e({},e||{}),s=Object.keys(n),i=0;i<s.length;i++)r[s[i]]=n[s[i]];return this.be||(lt.warn(" Overriding feature flag payloads!",{flagPayloads:e,overriddenPayloads:n,finalPayloads:r}),this.be=!0),r}reloadFeatureFlags(){this.Se||this._instance.config.advanced_disable_feature_flags||this.Ee||(this.Ee=setTimeout(()=>{this.Ie()},5))}Pe(){clearTimeout(this.Ee),this.Ee=void 0}ensureFlagsLoaded(){this.ye||this.we||this.Ee||this.reloadFeatureFlags()}setAnonymousDistinctId(e){this.$anon_distinct_id=e}setReloadingPaused(e){this.Se=e}Ie(e){var n;if(this.Pe(),!this._instance.L())if(this.we)this.$e=!0;else{var r={token:this._instance.config.token,distinct_id:this._instance.get_distinct_id(),groups:this._instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:O({},((n=this._instance.persistence)==null?void 0:n.get_initial_props())||{},this._instance.get_property(Un)||{}),group_properties:this._instance.get_property(Qt)};(e!=null&&e.disableFlags||this._instance.config.advanced_disable_feature_flags)&&(r.disable_flags=!0);var s=this._instance.config.__preview_remote_config,i=s?"/flags/?v=2":"/flags/?v=2&config=true",o=this._instance.config.advanced_only_evaluate_survey_feature_flags?"&only_evaluate_survey_feature_flags=true":"",a=this._instance.requestRouter.endpointFor("api",i+o);s&&(r.timezone=Fc()),this.we=!0,this._instance.Re({method:"POST",url:a,data:r,compression:this._instance.config.disable_compression?void 0:ct.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:l=>{var c,u,h=!0;if(l.statusCode===200&&(this.$e||(this.$anon_distinct_id=void 0),h=!1),this.we=!1,this.xe||(this.xe=!0,this._instance.Te((u=l.json)!==null&&u!==void 0?u:{})),!r.disable_flags||this.$e)if(this.ke=!h,l.json&&(c=l.json.quotaLimited)!=null&&c.includes(hg.FeatureFlags))lt.warn("You have hit your feature flags quota limit, and will not be able to load feature flags until the quota is reset.  Please visit https://posthog.com/docs/billing/limits-alerts to learn more.");else{var f;r.disable_flags||this.receivedFeatureFlags((f=l.json)!==null&&f!==void 0?f:{},h),this.$e&&(this.$e=!1,this.Ie())}}})}}getFeatureFlag(e,n){if(n===void 0&&(n={}),this.ye||this.getFlags()&&this.getFlags().length>0){var r=this.getFlagVariants()[e],s=""+r,i=this._instance.get_property(Fa)||void 0,o=this._instance.get_property(Kr)||{};if((n.send_event||!("send_event"in n))&&(!(e in o)||!o[e].includes(s))){var a,l,c,u,h,f,d,g,p;de(o[e])?o[e].push(s):o[e]=[s],(a=this._instance.persistence)==null||a.register({[Kr]:o});var v=this.getFeatureFlagDetails(e),m={$feature_flag:e,$feature_flag_response:r,$feature_flag_payload:this.getFeatureFlagPayload(e)||null,$feature_flag_request_id:i,$feature_flag_bootstrapped_response:((l=this._instance.config.bootstrap)==null||(l=l.featureFlags)==null?void 0:l[e])||null,$feature_flag_bootstrapped_payload:((c=this._instance.config.bootstrap)==null||(c=c.featureFlagPayloads)==null?void 0:c[e])||null,$used_bootstrap_value:!this.ke};A(v==null||(u=v.metadata)==null?void 0:u.version)||(m.$feature_flag_version=v.metadata.version);var _,y=(h=v==null||(f=v.reason)==null?void 0:f.description)!==null&&h!==void 0?h:v==null||(d=v.reason)==null?void 0:d.code;y&&(m.$feature_flag_reason=y),v!=null&&(g=v.metadata)!=null&&g.id&&(m.$feature_flag_id=v.metadata.id),A(v?.original_variant)&&A(v?.original_enabled)||(m.$feature_flag_original_response=A(v.original_variant)?v.original_enabled:v.original_variant),v!=null&&(p=v.metadata)!=null&&p.original_payload&&(m.$feature_flag_original_payload=v==null||(_=v.metadata)==null?void 0:_.original_payload),this._instance.capture("$feature_flag_called",m)}return r}lt.warn('getFeatureFlag for key "'+e+`" failed. Feature flags didn't load in time.`)}getFeatureFlagDetails(e){return this.getFlagsWithDetails()[e]}getFeatureFlagPayload(e){return this.getFlagPayloads()[e]}getRemoteConfigPayload(e,n){var r=this._instance.config.token;this._instance.Re({method:"POST",url:this._instance.requestRouter.endpointFor("api","/flags/?v=2&config=true"),data:{distinct_id:this._instance.get_distinct_id(),token:r},compression:this._instance.config.disable_compression?void 0:ct.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:s=>{var i,o=(i=s.json)==null?void 0:i.featureFlagPayloads;n(o?.[e]||void 0)}})}isFeatureEnabled(e,n){if(n===void 0&&(n={}),this.ye||this.getFlags()&&this.getFlags().length>0){var r=this.getFeatureFlag(e,n);return A(r)?void 0:!!r}lt.warn('isFeatureEnabled for key "'+e+`" failed. Feature flags didn't load in time.`)}addFeatureFlagsHandler(e){this.featureFlagEventHandlers.push(e)}removeFeatureFlagsHandler(e){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter(n=>n!==e)}receivedFeatureFlags(e,n){if(this._instance.persistence){this.ye=!0;var r=this.getFlagVariants(),s=this.getFlagPayloads(),i=this.getFlagsWithDetails();(function(o,a,l,c,u){l===void 0&&(l={}),c===void 0&&(c={}),u===void 0&&(u={});var h=dg(o),f=h.flags,d=h.featureFlags,g=h.featureFlagPayloads;if(d){var p=o.requestId;if(de(d)){lt.warn("v1 of the feature flags endpoint is deprecated. Please use the latest version.");var v={};if(d)for(var m=0;m<d.length;m++)v[d[m]]=!0;a&&a.register({[zs]:d,[hn]:v})}else{var _=d,y=g,w=f;o.errorsWhileComputingFlags&&(_=O({},l,_),y=O({},c,y),w=O({},u,w)),a&&a.register(O({[zs]:Object.keys($a(_)),[hn]:_||{},[Oa]:y||{},[di]:w||{}},p?{[Fa]:p}:{}))}}})(e,this._instance.persistence,r,s,i),this.Ce(n)}}override(e,n){n===void 0&&(n=!1),lt.warn("override is deprecated. Please use overrideFeatureFlags instead."),this.overrideFeatureFlags({flags:e,suppressWarning:n})}overrideFeatureFlags(e){if(!this._instance.__loaded||!this._instance.persistence)return lt.uninitializedWarning("posthog.featureFlags.overrideFeatureFlags");if(e===!1)return this._instance.persistence.unregister(ln),this._instance.persistence.unregister(Nn),void this.Ce();if(e&&typeof e=="object"&&("flags"in e||"payloads"in e)){var n,r=e;if(this.be=!!((n=r.suppressWarning)!==null&&n!==void 0&&n),"flags"in r){if(r.flags===!1)this._instance.persistence.unregister(ln);else if(r.flags)if(de(r.flags)){for(var s={},i=0;i<r.flags.length;i++)s[r.flags[i]]=!0;this._instance.persistence.register({[ln]:s})}else this._instance.persistence.register({[ln]:r.flags})}return"payloads"in r&&(r.payloads===!1?this._instance.persistence.unregister(Nn):r.payloads&&this._instance.persistence.register({[Nn]:r.payloads})),void this.Ce()}this.Ce()}onFeatureFlags(e){if(this.addFeatureFlagsHandler(e),this.ye){var{flags:n,flagVariants:r}=this.Me();e(n,r)}return()=>this.removeFeatureFlagsHandler(e)}updateEarlyAccessFeatureEnrollment(e,n,r){var s,i=(this._instance.get_property(qn)||[]).find(c=>c.flagKey===e),o={["$feature_enrollment/"+e]:n},a={$feature_flag:e,$feature_enrollment:n,$set:o};i&&(a.$early_access_feature_name=i.name),r&&(a.$feature_enrollment_stage=r),this._instance.capture("$feature_enrollment_update",a),this.setPersonPropertiesForFlags(o,!1);var l=O({},this.getFlagVariants(),{[e]:n});(s=this._instance.persistence)==null||s.register({[zs]:Object.keys($a(l)),[hn]:l}),this.Ce()}getEarlyAccessFeatures(e,n,r){n===void 0&&(n=!1);var s=this._instance.get_property(qn),i=r?"&"+r.map(o=>"stage="+o).join("&"):"";if(s&&!n)return e(s);this._instance.Re({url:this._instance.requestRouter.endpointFor("api","/api/early_access_features/?token="+this._instance.config.token+i),method:"GET",callback:o=>{var a,l;if(o.json){var c=o.json.earlyAccessFeatures;return(a=this._instance.persistence)==null||a.unregister(qn),(l=this._instance.persistence)==null||l.register({[qn]:c}),e(c)}}})}Me(){var e=this.getFlags(),n=this.getFlagVariants();return{flags:e.filter(r=>n[r]),flagVariants:Object.keys(n).filter(r=>n[r]).reduce((r,s)=>(r[s]=n[s],r),{})}}Ce(e){var{flags:n,flagVariants:r}=this.Me();this.featureFlagEventHandlers.forEach(s=>s(n,r,{errorsLoading:e}))}setPersonPropertiesForFlags(e,n){n===void 0&&(n=!0);var r=this._instance.get_property(Un)||{};this._instance.register({[Un]:O({},r,e)}),n&&this._instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this._instance.unregister(Un)}setGroupPropertiesForFlags(e,n){n===void 0&&(n=!0);var r=this._instance.get_property(Qt)||{};Object.keys(r).length!==0&&Object.keys(r).forEach(s=>{r[s]=O({},r[s],e[s]),delete e[s]}),this._instance.register({[Qt]:O({},r,e)}),n&&this._instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(e){if(e){var n=this._instance.get_property(Qt)||{};this._instance.register({[Qt]:O({},n,{[e]:{}})})}else this._instance.unregister(Qt)}reset(){this.ye=!1,this.we=!1,this.Se=!1,this.$e=!1,this.xe=!1,this.ke=!1,this.$anon_distinct_id=void 0,this.Pe(),this.be=!1}}var pg=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"];class qs{constructor(e,n){this.A=e,this.props={},this.Oe=!1,this.Fe=(r=>{var s="";return r.token&&(s=r.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),r.persistence_name?"ph_"+r.persistence_name:"ph_"+s+"_posthog"})(e),this.it=this.Ae(e),this.load(),e.debug&&F.info("Persistence loaded",e.persistence,O({},this.props)),this.update_config(e,e,n),this.save()}isDisabled(){return!!this.De}Ae(e){pg.indexOf(e.persistence.toLowerCase())===-1&&(F.critical("Unknown persistence type "+e.persistence+"; falling back to localStorage+cookie"),e.persistence="localStorage+cookie");var n=e.persistence.toLowerCase();return n==="localstorage"&&be.G()?be:n==="localstorage+cookie"&&kr.G()?kr:n==="sessionstorage"&&Ee.G()?Ee:n==="memory"?Yf:n==="cookie"?pt:kr.G()?kr:pt}properties(){var e={};return ie(this.props,function(n,r){if(r===hn&&ge(n))for(var s=Object.keys(n),i=0;i<s.length;i++)e["$feature/"+s[i]]=n[s[i]];else a=r,l=!1,(Ut(o=Af)?l:jo&&o.indexOf===jo?o.indexOf(a)!=-1:(ie(o,function(c){if(l||(l=c===a))return Wr}),l))||(e[r]=n);var o,a,l}),e}load(){if(!this.De){var e=this.it.K(this.Fe);e&&(this.props=_e({},e))}}save(){this.De||this.it.Y(this.Fe,this.props,this.je,this.Le,this.Ne,this.A.debug)}remove(){this.it.X(this.Fe,!1),this.it.X(this.Fe,!0)}clear(){this.remove(),this.props={}}register_once(e,n,r){if(ge(e)){A(n)&&(n="None"),this.je=A(r)?this.ze:r;var s=!1;if(ie(e,(i,o)=>{this.props.hasOwnProperty(o)&&this.props[o]!==n||(this.props[o]=i,s=!0)}),s)return this.save(),!0}return!1}register(e,n){if(ge(e)){this.je=A(n)?this.ze:n;var r=!1;if(ie(e,(s,i)=>{e.hasOwnProperty(i)&&this.props[i]!==s&&(this.props[i]=s,r=!0)}),r)return this.save(),!0}return!1}unregister(e){e in this.props&&(delete this.props[e],this.save())}update_campaign_params(){if(!this.Oe){var e=Cc(this.A.custom_campaign_params,this.A.mask_personal_data_properties,this.A.custom_personal_data_properties);dn(Wi(e))||this.register(e),this.Oe=!0}}update_search_keyword(){var e;this.register((e=$?.referrer)?Ic(e):{})}update_referrer_info(){var e;this.register_once({$referrer:Tc(),$referring_domain:$!=null&&$.referrer&&((e=wn($.referrer))==null?void 0:e.host)||"$direct"},void 0)}set_initial_person_info(){this.props[gi]||this.props[vi]||this.register_once({[Qr]:Rc(this.A.mask_personal_data_properties,this.A.custom_personal_data_properties)},void 0)}get_initial_props(){var e={};ie([vi,gi],o=>{var a=this.props[o];a&&ie(a,function(l,c){e["$initial_"+ii(c)]=l})});var n,r,s=this.props[Qr];if(s){var i=(n=Oc(s),r={},ie(n,function(o,a){r["$initial_"+ii(a)]=o}),r);_e(e,i)}return e}safe_merge(e){return ie(this.props,function(n,r){r in e||(e[r]=n)}),e}update_config(e,n,r){if(this.ze=this.je=e.cookie_expiration,this.set_disabled(e.disable_persistence||!!r),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie),e.persistence!==n.persistence){var s=this.Ae(e),i=this.props;this.clear(),this.it=s,this.props=i,this.save()}}set_disabled(e){this.De=e,this.De?this.remove():this.save()}set_cross_subdomain(e){e!==this.Le&&(this.Le=e,this.remove(),this.save())}set_secure(e){e!==this.Ne&&(this.Ne=e,this.remove(),this.save())}set_event_timer(e,n){var r=this.props[Hn]||{};r[e]=n,this.props[Hn]=r,this.save()}remove_event_timer(e){var n=(this.props[Hn]||{})[e];return A(n)||(delete this.props[Hn][e],this.save()),n}get_property(e){return this.props[e]}set_property(e,n){this.props[e]=n,this.save()}}var gg=function(t){return t.Button="button",t.Tab="tab",t.Selector="selector",t}({}),vg=function(t){return t.TopLeft="top_left",t.TopRight="top_right",t.TopCenter="top_center",t.MiddleLeft="middle_left",t.MiddleRight="middle_right",t.MiddleCenter="middle_center",t.Left="left",t.Center="center",t.Right="right",t.NextToTrigger="next_to_trigger",t}({}),jr=function(t){return t.Popover="popover",t.API="api",t.Widget="widget",t.ExternalSurvey="external_survey",t}({}),mg=function(t){return t.Open="open",t.MultipleChoice="multiple_choice",t.SingleChoice="single_choice",t.Rating="rating",t.Link="link",t}({}),_g=function(t){return t.NextQuestion="next_question",t.End="end",t.ResponseBased="response_based",t.SpecificQuestion="specific_question",t}({}),yg=function(t){return t.Once="once",t.Recurring="recurring",t.Always="always",t}({}),Br=function(t){return t.SHOWN="survey shown",t.DISMISSED="survey dismissed",t.SENT="survey sent",t}({}),Ii=function(t){return t.SURVEY_ID="$survey_id",t.SURVEY_NAME="$survey_name",t.SURVEY_RESPONSE="$survey_response",t.SURVEY_ITERATION="$survey_iteration",t.SURVEY_ITERATION_START_DATE="$survey_iteration_start_date",t.SURVEY_PARTIALLY_COMPLETED="$survey_partially_completed",t.SURVEY_SUBMISSION_ID="$survey_submission_id",t.SURVEY_QUESTIONS="$survey_questions",t.SURVEY_COMPLETED="$survey_completed",t}({}),oo=function(t){return t.Popover="popover",t.Inline="inline",t}({});class $c{constructor(){this.Ue={},this.Ue={}}on(e,n){return this.Ue[e]||(this.Ue[e]=[]),this.Ue[e].push(n),()=>{this.Ue[e]=this.Ue[e].filter(r=>r!==n)}}emit(e,n){for(var r of this.Ue[e]||[])r(n);for(var s of this.Ue["*"]||[])s(e,n)}}class Xt{constructor(e){this.qe=new $c,this.Be=(n,r)=>this.He(n,r)&&this.We(n,r)&&this.Ge(n,r),this.He=(n,r)=>r==null||!r.event||n?.event===r?.event,this._instance=e,this.Je=new Set,this.Ve=new Set}init(){var e;if(!A((e=this._instance)==null?void 0:e.Ke)){var n;(n=this._instance)==null||n.Ke((r,s)=>{this.on(r,s)})}}register(e){var n,r;if(!A((n=this._instance)==null?void 0:n.Ke)&&(e.forEach(o=>{var a,l;(a=this.Ve)==null||a.add(o),(l=o.steps)==null||l.forEach(c=>{var u;(u=this.Je)==null||u.add(c?.event||"")})}),(r=this._instance)!=null&&r.autocapture)){var s,i=new Set;e.forEach(o=>{var a;(a=o.steps)==null||a.forEach(l=>{l!=null&&l.selector&&i.add(l?.selector)})}),(s=this._instance)==null||s.autocapture.setElementSelectors(i)}}on(e,n){var r;n!=null&&e.length!=0&&(this.Je.has(e)||this.Je.has(n?.event))&&this.Ve&&((r=this.Ve)==null?void 0:r.size)>0&&this.Ve.forEach(s=>{this.Ye(n,s)&&this.qe.emit("actionCaptured",s.name)})}Xe(e){this.onAction("actionCaptured",n=>e(n))}Ye(e,n){if(n?.steps==null)return!1;for(var r of n.steps)if(this.Be(e,r))return!0;return!1}onAction(e,n){return this.qe.on(e,n)}We(e,n){if(n!=null&&n.url){var r,s=e==null||(r=e.properties)==null?void 0:r.$current_url;if(!s||typeof s!="string"||!Xt.Qe(s,n?.url,n?.url_matching||"contains"))return!1}return!0}static Qe(e,n,r){switch(r){case"regex":return!!b&&Sn(e,n);case"exact":return n===e;case"contains":var s=Xt.Ze(n).replace(/_/g,".").replace(/%/g,".*");return Sn(e,s);default:return!1}}static Ze(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}Ge(e,n){if((n!=null&&n.href||n!=null&&n.tag_name||n!=null&&n.text)&&!this.tr(e).some(i=>!(n!=null&&n.href&&!Xt.Qe(i.href||"",n?.href,n?.href_matching||"exact"))&&(n==null||!n.tag_name||i.tag_name===n?.tag_name)&&!(n!=null&&n.text&&!Xt.Qe(i.text||"",n?.text,n?.text_matching||"exact")&&!Xt.Qe(i.$el_text||"",n?.text,n?.text_matching||"exact"))))return!1;if(n!=null&&n.selector){var r,s=e==null||(r=e.properties)==null?void 0:r.$element_selectors;if(!s||!s.includes(n?.selector))return!1}return!0}tr(e){return e?.properties.$elements==null?[]:e?.properties.$elements}}var le=we("[Surveys]"),Ti="seenSurvey_",bg=(t,e)=>{var n="$survey_"+e+"/"+t.id;return t.current_iteration&&t.current_iteration>0&&(n="$survey_"+e+"/"+t.id+"/"+t.current_iteration),n},Ma=t=>{var e=""+Ti+t.id;return t.current_iteration&&t.current_iteration>0&&(e=""+Ti+t.id+"_"+t.current_iteration),e},wg=[jr.Popover,jr.Widget,jr.API],xg={ignoreConditions:!1,ignoreDelay:!1,displayType:oo.Popover};class Sg{constructor(e){this._instance=e,this.ir=new Map,this.er=new Map}register(e){var n;A((n=this._instance)==null?void 0:n.Ke)||(this.rr(e),this.sr(e))}sr(e){var n=e.filter(r=>{var s,i;return((s=r.conditions)==null?void 0:s.actions)&&((i=r.conditions)==null||(i=i.actions)==null||(i=i.values)==null?void 0:i.length)>0});n.length!==0&&(this.nr==null&&(this.nr=new Xt(this._instance),this.nr.init(),this.nr.Xe(r=>{this.onAction(r)})),n.forEach(r=>{var s,i,o,a,l;r.conditions&&(s=r.conditions)!=null&&s.actions&&(i=r.conditions)!=null&&(i=i.actions)!=null&&i.values&&((o=r.conditions)==null||(o=o.actions)==null||(o=o.values)==null?void 0:o.length)>0&&((a=this.nr)==null||a.register(r.conditions.actions.values),(l=r.conditions)==null||(l=l.actions)==null||(l=l.values)==null||l.forEach(c=>{if(c&&c.name){var u=this.er.get(c.name);u&&u.push(r.id),this.er.set(c.name,u||[r.id])}}))}))}rr(e){var n;e.filter(r=>{var s,i;return((s=r.conditions)==null?void 0:s.events)&&((i=r.conditions)==null||(i=i.events)==null||(i=i.values)==null?void 0:i.length)>0}).length!==0&&((n=this._instance)==null||n.Ke((r,s)=>{this.onEvent(r,s)}),e.forEach(r=>{var s;(s=r.conditions)==null||(s=s.events)==null||(s=s.values)==null||s.forEach(i=>{if(i&&i.name){var o=this.ir.get(i.name);o&&o.push(r.id),this.ir.set(i.name,o||[r.id])}})}))}onEvent(e,n){var r,s=((r=this._instance)==null||(r=r.persistence)==null?void 0:r.props[Er])||[];if(e==="survey shown"&&n&&s.length>0){var i;le.info("survey event matched, removing survey from activated surveys",{event:e,eventPayload:n,existingActivatedSurveys:s});var o=n==null||(i=n.properties)==null?void 0:i.$survey_id;if(o){var a=s.indexOf(o);a>=0&&(s.splice(a,1),this.ar(s))}}else this.ir.has(e)&&(le.info("survey event matched, updating activated surveys",{event:e,surveys:this.ir.get(e)}),this.ar(s.concat(this.ir.get(e)||[])))}onAction(e){var n,r=((n=this._instance)==null||(n=n.persistence)==null?void 0:n.props[Er])||[];this.er.has(e)&&this.ar(r.concat(this.er.get(e)||[]))}ar(e){var n;(n=this._instance)==null||(n=n.persistence)==null||n.register({[Er]:[...new Set(e)]})}getSurveys(){var e,n=(e=this._instance)==null||(e=e.persistence)==null?void 0:e.props[Er];return n||[]}getEventToSurveys(){return this.ir}lr(){return this.nr}}class Eg{constructor(e){this.hr=void 0,this._surveyManager=null,this.ur=!1,this.dr=!1,this.vr=[],this._instance=e,this._surveyEventReceiver=null}onRemoteConfig(e){if(!this._instance.config.disable_surveys){var n=e.surveys;if(ee(n))return le.warn("Flags not loaded yet. Not loading surveys.");var r=de(n);this.hr=r?n.length>0:n,le.info("flags response received, isSurveysEnabled: "+this.hr),this.loadIfEnabled()}}reset(){localStorage.removeItem("lastSeenSurveyDate");for(var e=[],n=0;n<localStorage.length;n++){var r=localStorage.key(n);(r!=null&&r.startsWith(Ti)||r!=null&&r.startsWith("inProgressSurvey_"))&&e.push(r)}e.forEach(s=>localStorage.removeItem(s))}loadIfEnabled(){if(!this._surveyManager)if(this.dr)le.info("Already initializing surveys, skipping...");else if(this._instance.config.disable_surveys)le.info("Disabled. Not loading surveys.");else if(this._instance.config.cookieless_mode&&this._instance.consent.isOptedOut())le.info("Not loading surveys in cookieless mode without consent.");else{var e=q?.__PosthogExtensions__;if(e){if(!A(this.hr)||this._instance.config.advanced_enable_surveys){var n=this.hr||this._instance.config.advanced_enable_surveys;this.dr=!0;try{var r=e.generateSurveys;if(r)return void this.cr(r,n);var s=e.loadExternalDependency;if(!s)return void this.pr("PostHog loadExternalDependency extension not found.");s(this._instance,"surveys",i=>{i||!e.generateSurveys?this.pr("Could not load surveys script",i):this.cr(e.generateSurveys,n)})}catch(i){throw this.pr("Error initializing surveys",i),i}finally{this.dr=!1}}}else le.error("PostHog Extensions not found.")}}cr(e,n){this._surveyManager=e(this._instance,n),this._surveyEventReceiver=new Sg(this._instance),le.info("Surveys loaded successfully"),this.gr({isLoaded:!0})}pr(e,n){le.error(e,n),this.gr({isLoaded:!1,error:e})}onSurveysLoaded(e){return this.vr.push(e),this._surveyManager&&this.gr({isLoaded:!0}),()=>{this.vr=this.vr.filter(n=>n!==e)}}getSurveys(e,n){if(n===void 0&&(n=!1),this._instance.config.disable_surveys)return le.info("Disabled. Not loading surveys."),e([]);var r=this._instance.get_property(hi);if(r&&!n)return e(r,{isLoaded:!0});if(this.ur)return e([],{isLoaded:!1,error:"Surveys are already being loaded"});try{this.ur=!0,this._instance.Re({url:this._instance.requestRouter.endpointFor("api","/api/surveys/?token="+this._instance.config.token),method:"GET",timeout:this._instance.config.surveys_request_timeout_ms,callback:s=>{var i;this.ur=!1;var o=s.statusCode;if(o!==200||!s.json){var a="Surveys API could not be loaded, status: "+o;return le.error(a),e([],{isLoaded:!1,error:a})}var l,c=s.json.surveys||[],u=c.filter(h=>function(f){return!(!f.start_date||f.end_date)}(h)&&(function(f){var d;return!((d=f.conditions)==null||(d=d.events)==null||(d=d.values)==null||!d.length)}(h)||function(f){var d;return!((d=f.conditions)==null||(d=d.actions)==null||(d=d.values)==null||!d.length)}(h)));return u.length>0&&((l=this._surveyEventReceiver)==null||l.register(u)),(i=this._instance.persistence)==null||i.register({[hi]:c}),e(c,{isLoaded:!0})}})}catch(s){throw this.ur=!1,s}}gr(e){for(var n of this.vr)try{if(!e.isLoaded)return n([],e);this.getSurveys(n)}catch(r){le.error("Error in survey callback",r)}}getActiveMatchingSurveys(e,n){if(n===void 0&&(n=!1),!ee(this._surveyManager))return this._surveyManager.getActiveMatchingSurveys(e,n);le.warn("init was not called")}_r(e){var n=null;return this.getSurveys(r=>{var s;n=(s=r.find(i=>i.id===e))!==null&&s!==void 0?s:null}),n}mr(e){if(ee(this._surveyManager))return{eligible:!1,reason:"SDK is not enabled or survey functionality is not yet loaded"};var n=typeof e=="string"?this._r(e):e;return n?this._surveyManager.checkSurveyEligibility(n):{eligible:!1,reason:"Survey not found"}}canRenderSurvey(e){if(ee(this._surveyManager))return le.warn("init was not called"),{visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"};var n=this.mr(e);return{visible:n.eligible,disabledReason:n.reason}}canRenderSurveyAsync(e,n){return ee(this._surveyManager)?(le.warn("init was not called"),Promise.resolve({visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"})):new Promise(r=>{this.getSurveys(s=>{var i,o=(i=s.find(l=>l.id===e))!==null&&i!==void 0?i:null;if(o){var a=this.mr(o);r({visible:a.eligible,disabledReason:a.reason})}else r({visible:!1,disabledReason:"Survey not found"})},n)})}renderSurvey(e,n){var r;if(ee(this._surveyManager))le.warn("init was not called");else{var s=typeof e=="string"?this._r(e):e;if(s!=null&&s.id)if(wg.includes(s.type)){var i=$?.querySelector(n);if(i)return(r=s.appearance)!=null&&r.surveyPopupDelaySeconds?(le.info("Rendering survey "+s.id+" with delay of "+s.appearance.surveyPopupDelaySeconds+" seconds"),void setTimeout(()=>{var o,a;le.info("Rendering survey "+s.id+" with delay of "+((o=s.appearance)==null?void 0:o.surveyPopupDelaySeconds)+" seconds"),(a=this._surveyManager)==null||a.renderSurvey(s,i),le.info("Survey "+s.id+" rendered")},1e3*s.appearance.surveyPopupDelaySeconds)):void this._surveyManager.renderSurvey(s,i);le.warn("Survey element not found")}else le.warn("Surveys of type "+s.type+" cannot be rendered in the app");else le.warn("Survey not found")}}displaySurvey(e,n){var r;if(ee(this._surveyManager))le.warn("init was not called");else{var s=this._r(e);if(s){var i=s;if((r=s.appearance)!=null&&r.surveyPopupDelaySeconds&&n.ignoreDelay&&(i=O({},s,{appearance:O({},s.appearance,{surveyPopupDelaySeconds:0})})),n.ignoreConditions===!1){var o=this.canRenderSurvey(s);if(!o.visible)return void le.warn("Survey is not eligible to be displayed: ",o.disabledReason)}n.displayType!==oo.Inline?this._surveyManager.handlePopoverSurvey(i):this.renderSurvey(i,n.selector)}else le.warn("Survey not found")}}}var La=we("[RateLimiter]");class kg{constructor(e){var n,r;this.serverLimits={},this.lastEventRateLimited=!1,this.checkForLimiting=s=>{var i=s.text;if(i&&i.length)try{(JSON.parse(i).quota_limited||[]).forEach(o=>{La.info((o||"events")+" is quota limited."),this.serverLimits[o]=new Date().getTime()+6e4})}catch(o){return void La.warn('could not rate limit - continuing. Error: "'+o?.message+'"',{text:i})}},this.instance=e,this.captureEventsPerSecond=((n=e.config.rate_limiting)==null?void 0:n.events_per_second)||10,this.captureEventsBurstLimit=Math.max(((r=e.config.rate_limiting)==null?void 0:r.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(e){var n,r,s;e===void 0&&(e=!1);var i=new Date().getTime(),o=(n=(r=this.instance.persistence)==null?void 0:r.get_property(pi))!==null&&n!==void 0?n:{tokens:this.captureEventsBurstLimit,last:i};o.tokens+=(i-o.last)/1e3*this.captureEventsPerSecond,o.last=i,o.tokens>this.captureEventsBurstLimit&&(o.tokens=this.captureEventsBurstLimit);var a=o.tokens<1;return a||e||(o.tokens=Math.max(0,o.tokens-1)),!a||this.lastEventRateLimited||e||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to "+this.captureEventsPerSecond+" events per second and "+this.captureEventsBurstLimit+" events burst limit."},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=a,(s=this.instance.persistence)==null||s.set_property(pi,o),{isRateLimited:a,remainingTokens:o.tokens}}isServerRateLimited(e){var n=this.serverLimits[e||"events"]||!1;return n!==!1&&new Date().getTime()<n}}var Kt=we("[RemoteConfig]");class Pg{constructor(e){this._instance=e}get remoteConfig(){var e;return(e=q._POSTHOG_REMOTE_CONFIG)==null||(e=e[this._instance.config.token])==null?void 0:e.config}br(e){var n,r;(n=q.__PosthogExtensions__)!=null&&n.loadExternalDependency?(r=q.__PosthogExtensions__)==null||r.loadExternalDependency==null||r.loadExternalDependency(this._instance,"remote-config",()=>e(this.remoteConfig)):(Kt.error("PostHog Extensions not found. Cannot load remote config."),e())}yr(e){this._instance.Re({method:"GET",url:this._instance.requestRouter.endpointFor("assets","/array/"+this._instance.config.token+"/config"),callback:n=>{e(n.json)}})}load(){try{if(this.remoteConfig)return Kt.info("Using preloaded remote config",this.remoteConfig),void this.Te(this.remoteConfig);if(this._instance.L())return void Kt.warn("Remote config is disabled. Falling back to local config.");this.br(e=>{if(!e)return Kt.info("No config found after loading remote JS config. Falling back to JSON."),void this.yr(n=>{this.Te(n)});this.Te(e)})}catch(e){Kt.error("Error loading remote config",e)}}Te(e){e?this._instance.config.__preview_remote_config?(this._instance.Te(e),e.hasFeatureFlags!==!1&&this._instance.featureFlags.ensureFlagsLoaded()):Kt.info("__preview_remote_config is disabled. Logging config instead",e):Kt.error("Failed to fetch remote config from PostHog.")}}var Ri=3e3;class Cg{constructor(e,n){this.wr=!0,this.Sr=[],this.$r=Be(n?.flush_interval_ms||Ri,250,5e3,F.createLogger("flush interval"),Ri),this.kr=e}enqueue(e){this.Sr.push(e),this.Er||this.Ir()}unload(){this.Pr();var e=this.Sr.length>0?this.Rr():{},n=Object.values(e);[...n.filter(r=>r.url.indexOf("/e")===0),...n.filter(r=>r.url.indexOf("/e")!==0)].map(r=>{this.kr(O({},r,{transport:"sendBeacon"}))})}enable(){this.wr=!1,this.Ir()}Ir(){var e=this;this.wr||(this.Er=setTimeout(()=>{if(this.Pr(),this.Sr.length>0){var n=this.Rr(),r=function(){var i=n[s],o=new Date().getTime();i.data&&de(i.data)&&ie(i.data,a=>{a.offset=Math.abs(a.timestamp-o),delete a.timestamp}),e.kr(i)};for(var s in n)r()}},this.$r))}Pr(){clearTimeout(this.Er),this.Er=void 0}Rr(){var e={};return ie(this.Sr,n=>{var r,s=n,i=(s?s.batchKey:null)||s.url;A(e[i])&&(e[i]=O({},s,{data:[]})),(r=e[i].data)==null||r.push(s.data)}),this.Sr=[],e}}var Ag=["retriesPerformedSoFar"];class Ig{constructor(e){this.Tr=!1,this.Cr=3e3,this.Sr=[],this._instance=e,this.Sr=[],this.Mr=!0,!A(b)&&"onLine"in b.navigator&&(this.Mr=b.navigator.onLine,pe(b,"online",()=>{this.Mr=!0,this.ne()}),pe(b,"offline",()=>{this.Mr=!1}))}get length(){return this.Sr.length}retriableRequest(e){var{retriesPerformedSoFar:n}=e,r=Cl(e,Ag);Ce(n)&&n>0&&(r.url=is(r.url,{retry_count:n})),this._instance.Re(O({},r,{callback:s=>{s.statusCode!==200&&(s.statusCode<400||s.statusCode>=500)&&(n??0)<10?this.Or(O({retriesPerformedSoFar:n},r)):r.callback==null||r.callback(s)}}))}Or(e){var n=e.retriesPerformedSoFar||0;e.retriesPerformedSoFar=n+1;var r=function(o){var a=3e3*Math.pow(2,o),l=a/2,c=Math.min(18e5,a),u=(Math.random()-.5)*(c-l);return Math.ceil(c+u)}(n),s=Date.now()+r;this.Sr.push({retryAt:s,requestOptions:e});var i="Enqueued failed request for retry in "+r;navigator.onLine||(i+=" (Browser is offline)"),F.warn(i),this.Tr||(this.Tr=!0,this.Fr())}Fr(){this.Ar&&clearTimeout(this.Ar),this.Ar=setTimeout(()=>{this.Mr&&this.Sr.length>0&&this.ne(),this.Fr()},this.Cr)}ne(){var e=Date.now(),n=[],r=this.Sr.filter(i=>i.retryAt<e||(n.push(i),!1));if(this.Sr=n,r.length>0)for(var{requestOptions:s}of r)this.retriableRequest(s)}unload(){for(var{requestOptions:e}of(this.Ar&&(clearTimeout(this.Ar),this.Ar=void 0),this.Sr))try{this._instance.Re(O({},e,{transport:"sendBeacon"}))}catch(n){F.error(n)}this.Sr=[]}}class Tg{constructor(e){this.Dr=()=>{var n,r,s,i;this.jr||(this.jr={});var o=this.scrollElement(),a=this.scrollY(),l=o?Math.max(0,o.scrollHeight-o.clientHeight):0,c=a+(o?.clientHeight||0),u=o?.scrollHeight||0;this.jr.lastScrollY=Math.ceil(a),this.jr.maxScrollY=Math.max(a,(n=this.jr.maxScrollY)!==null&&n!==void 0?n:0),this.jr.maxScrollHeight=Math.max(l,(r=this.jr.maxScrollHeight)!==null&&r!==void 0?r:0),this.jr.lastContentY=c,this.jr.maxContentY=Math.max(c,(s=this.jr.maxContentY)!==null&&s!==void 0?s:0),this.jr.maxContentHeight=Math.max(u,(i=this.jr.maxContentHeight)!==null&&i!==void 0?i:0)},this._instance=e}getContext(){return this.jr}resetContext(){var e=this.jr;return setTimeout(this.Dr,0),e}startMeasuringScrollPosition(){pe(b,"scroll",this.Dr,{capture:!0}),pe(b,"scrollend",this.Dr,{capture:!0}),pe(b,"resize",this.Dr)}scrollElement(){if(!this._instance.config.scroll_root_selector)return b?.document.documentElement;var e=de(this._instance.config.scroll_root_selector)?this._instance.config.scroll_root_selector:[this._instance.config.scroll_root_selector];for(var n of e){var r=b?.document.querySelector(n);if(r)return r}}scrollY(){if(this._instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollTop||0}return b&&(b.scrollY||b.pageYOffset||b.document.documentElement.scrollTop)||0}scrollX(){if(this._instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollLeft||0}return b&&(b.scrollX||b.pageXOffset||b.document.documentElement.scrollLeft)||0}}var Rg=t=>Rc(t?.config.mask_personal_data_properties,t?.config.custom_personal_data_properties);class Da{constructor(e,n,r,s){this.Lr=i=>{var o=this.Nr();if(!o||o.sessionId!==i){var a={sessionId:i,props:this.zr(this._instance)};this.Ur.register({[fi]:a})}},this._instance=e,this.qr=n,this.Ur=r,this.zr=s||Rg,this.qr.onSessionId(this.Lr)}Nr(){return this.Ur.props[fi]}getSetOnceProps(){var e,n=(e=this.Nr())==null?void 0:e.props;return n?"r"in n?Oc(n):{$referring_domain:n.referringDomain,$pathname:n.initialPathName,utm_source:n.utm_source,utm_campaign:n.utm_campaign,utm_medium:n.utm_medium,utm_content:n.utm_content,utm_term:n.utm_term}:{}}getSessionProps(){var e={};return ie(Wi(this.getSetOnceProps()),(n,r)=>{r==="$current_url"&&(r="url"),e["$session_entry_"+ii(r)]=n}),e}}var Us=we("[SessionId]");class Na{constructor(e,n,r){var s;if(this.Br=[],this.Hr=(u,h)=>Math.abs(u-h)>this.sessionTimeoutMs,!e.persistence)throw new Error("SessionIdManager requires a PostHogPersistence instance");if(e.config.cookieless_mode==="always")throw new Error('SessionIdManager cannot be used with cookieless_mode="always"');this.A=e.config,this.Ur=e.persistence,this.pi=void 0,this.Ft=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this.Wr=n||Nt,this.Gr=r||Nt;var i=this.A.persistence_name||this.A.token,o=this.A.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*Be(o,60,36e3,Us.createLogger("session_idle_timeout_seconds"),1800),e.register({$configured_session_timeout_ms:this._sessionTimeoutMs}),this.Jr(),this.Vr="ph_"+i+"_window_id",this.Kr="ph_"+i+"_primary_window_exists",this.Yr()){var a=Ee.K(this.Vr),l=Ee.K(this.Kr);a&&!l?this.pi=a:Ee.X(this.Vr),Ee.Y(this.Kr,!0)}if((s=this.A.bootstrap)!=null&&s.sessionID)try{var c=(u=>{var h=u.replace(/-/g,"");if(h.length!==32)throw new Error("Not a valid UUID");if(h[12]!=="7")throw new Error("Not a UUIDv7");return parseInt(h.substring(0,12),16)})(this.A.bootstrap.sessionID);this.Xr(this.A.bootstrap.sessionID,new Date().getTime(),c)}catch(u){Us.error("Invalid sessionID in bootstrap",u)}this.Qr()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(e){return A(this.Br)&&(this.Br=[]),this.Br.push(e),this.Ft&&e(this.Ft,this.pi),()=>{this.Br=this.Br.filter(n=>n!==e)}}Yr(){return this.A.persistence!=="memory"&&!this.Ur.De&&Ee.G()}Zr(e){e!==this.pi&&(this.pi=e,this.Yr()&&Ee.Y(this.Vr,e))}ts(){return this.pi?this.pi:this.Yr()?Ee.K(this.Vr):null}Xr(e,n,r){e===this.Ft&&n===this._sessionActivityTimestamp&&r===this._sessionStartTimestamp||(this._sessionStartTimestamp=r,this._sessionActivityTimestamp=n,this.Ft=e,this.Ur.register({[Yr]:[n,e,r]}))}es(){if(this.Ft&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this.Ft,this._sessionStartTimestamp];var e=this.Ur.props[Yr];return de(e)&&e.length===2&&e.push(e[0]),e||[0,null,0]}resetSessionId(){this.Xr(null,null,null)}Qr(){pe(b,"beforeunload",()=>{this.Yr()&&Ee.X(this.Kr)},{capture:!1})}checkAndGetSessionAndWindowId(e,n){if(e===void 0&&(e=!1),n===void 0&&(n=null),this.A.cookieless_mode==="always")throw new Error('checkAndGetSessionAndWindowId should not be called with cookieless_mode="always"');var r=n||new Date().getTime(),[s,i,o]=this.es(),a=this.ts(),l=Ce(o)&&o>0&&Math.abs(r-o)>864e5,c=!1,u=!i,h=!e&&this.Hr(r,s);u||h||l?(i=this.Wr(),a=this.Gr(),Us.info("new session ID generated",{sessionId:i,windowId:a,changeReason:{noSessionId:u,activityTimeout:h,sessionPastMaximumLength:l}}),o=r,c=!0):a||(a=this.Gr(),c=!0);var f=s===0||!e||l?r:s,d=o===0?new Date().getTime():o;return this.Zr(a),this.Xr(i,f,d),e||this.Jr(),c&&this.Br.forEach(g=>g(i,a,c?{noSessionId:u,activityTimeout:h,sessionPastMaximumLength:l}:void 0)),{sessionId:i,windowId:a,sessionStartTimestamp:d,changeReason:c?{noSessionId:u,activityTimeout:h,sessionPastMaximumLength:l}:void 0,lastActivityTimestamp:s}}Jr(){clearTimeout(this.rs),this.rs=setTimeout(()=>{var[e]=this.es();this.Hr(new Date().getTime(),e)&&this.resetSessionId()},1.1*this.sessionTimeoutMs)}}var Og=["$set_once","$set"],Lt=we("[SiteApps]");class Fg{constructor(e){this._instance=e,this.ss=[],this.apps={}}get isEnabled(){return!!this._instance.config.opt_in_site_apps}ns(e,n){if(n){var r=this.globalsForEvent(n);this.ss.push(r),this.ss.length>1e3&&(this.ss=this.ss.slice(10))}}get siteAppLoaders(){var e;return(e=q._POSTHOG_REMOTE_CONFIG)==null||(e=e[this._instance.config.token])==null?void 0:e.siteApps}init(){if(this.isEnabled){var e=this._instance.Ke(this.ns.bind(this));this.os=()=>{e(),this.ss=[],this.os=void 0}}}globalsForEvent(e){var n,r,s,i,o,a,l;if(!e)throw new Error("Event payload is required");var c={},u=this._instance.get_property("$groups")||[],h=this._instance.get_property("$stored_group_properties")||{};for(var[f,d]of Object.entries(h))c[f]={id:u[f],type:f,properties:d};var{$set_once:g,$set:p}=e;return{event:O({},Cl(e,Og),{properties:O({},e.properties,p?{$set:O({},(n=(r=e.properties)==null?void 0:r.$set)!==null&&n!==void 0?n:{},p)}:{},g?{$set_once:O({},(s=(i=e.properties)==null?void 0:i.$set_once)!==null&&s!==void 0?s:{},g)}:{}),elements_chain:(o=(a=e.properties)==null?void 0:a.$elements_chain)!==null&&o!==void 0?o:"",distinct_id:(l=e.properties)==null?void 0:l.distinct_id}),person:{properties:this._instance.get_property("$stored_person_properties")},groups:c}}setupSiteApp(e){var n=this.apps[e.id],r=()=>{var a;!n.errored&&this.ss.length&&(Lt.info("Processing "+this.ss.length+" events for site app with id "+e.id),this.ss.forEach(l=>n.processEvent==null?void 0:n.processEvent(l)),n.processedBuffer=!0),Object.values(this.apps).every(l=>l.processedBuffer||l.errored)&&((a=this.os)==null||a.call(this))},s=!1,i=a=>{n.errored=!a,n.loaded=!0,Lt.info("Site app with id "+e.id+" "+(a?"loaded":"errored")),s&&r()};try{var{processEvent:o}=e.init({posthog:this._instance,callback:a=>{i(a)}});o&&(n.processEvent=o),s=!0}catch(a){Lt.error("Error while initializing PostHog app with config id "+e.id,a),i(!1)}if(s&&n.loaded)try{r()}catch(a){Lt.error("Error while processing buffered events PostHog app with config id "+e.id,a),n.errored=!0}}ls(){var e=this.siteAppLoaders||[];for(var n of e)this.apps[n.id]={id:n.id,loaded:!1,errored:!1,processedBuffer:!1};for(var r of e)this.setupSiteApp(r)}hs(e){if(Object.keys(this.apps).length!==0){var n=this.globalsForEvent(e);for(var r of Object.values(this.apps))try{r.processEvent==null||r.processEvent(n)}catch(s){Lt.error("Error while processing event "+e.event+" for site app "+r.id,s)}}}onRemoteConfig(e){var n,r,s,i=this;if((n=this.siteAppLoaders)!=null&&n.length)return this.isEnabled?(this.ls(),void this._instance.on("eventCaptured",c=>this.hs(c))):void Lt.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.');if((r=this.os)==null||r.call(this),(s=e.siteApps)!=null&&s.length)if(this.isEnabled){var o=function(c){var u;q["__$$ph_site_app_"+c]=i._instance,(u=q.__PosthogExtensions__)==null||u.loadSiteApp==null||u.loadSiteApp(i._instance,l,h=>{if(h)return Lt.error("Error while initializing PostHog app with config id "+c,h)})};for(var{id:a,url:l}of e.siteApps)o(a)}else Lt.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}var $g=["amazonbot","amazonproductbot","app.hypefactors.com","applebot","archive.org_bot","awariobot","backlinksextendedbot","baiduspider","bingbot","bingpreview","chrome-lighthouse","dataforseobot","deepscan","duckduckbot","facebookexternal","facebookcatalog","http://yandex.com/bots","hubspot","ia_archiver","leikibot","linkedinbot","meta-externalagent","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","sebot-wa","sitebulb","slackbot","slurp","trendictionbot","turnitin","twitterbot","vercel-screenshot","vercelbot","yahoo! slurp","yandexbot","zoombot","bot.htm","bot.php","(bot;","bot/","crawler","ahrefsbot","ahrefssiteaudit","semrushbot","siteauditbot","splitsignalbot","gptbot","oai-searchbot","chatgpt-user","perplexitybot","better uptime bot","sentryuptimebot","uptimerobot","headlesschrome","cypress","google-hoteladsverifier","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleother","google-cloudvertexbot","googleweblight","mediapartners-google","storebot-google","google-inspectiontool","bytespider"],ja=function(t,e){if(!t)return!1;var n=t.toLowerCase();return $g.concat(e||[]).some(r=>{var s=r.toLowerCase();return n.indexOf(s)!==-1})},Mc=function(t,e){if(!t)return!1;var n=t.userAgent;if(n&&ja(n,e))return!0;try{var r=t?.userAgentData;if(r!=null&&r.brands&&r.brands.some(s=>ja(s?.brand,e)))return!0}catch{}return!!t.webdriver},Yn=function(t){return t.US="us",t.EU="eu",t.CUSTOM="custom",t}({}),Ba="i.posthog.com";class Mg{constructor(e){this.us={},this.instance=e}get apiHost(){var e=this.instance.config.api_host.trim().replace(/\/$/,"");return e==="https://app.posthog.com"?"https://us.i.posthog.com":e}get uiHost(){var e,n=(e=this.instance.config.ui_host)==null?void 0:e.replace(/\/$/,"");return n||(n=this.apiHost.replace("."+Ba,".posthog.com")),n==="https://app.posthog.com"?"https://us.posthog.com":n}get region(){return this.us[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.us[this.apiHost]=Yn.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.us[this.apiHost]=Yn.EU:this.us[this.apiHost]=Yn.CUSTOM),this.us[this.apiHost]}endpointFor(e,n){if(n===void 0&&(n=""),n&&(n=n[0]==="/"?n:"/"+n),e==="ui")return this.uiHost+n;if(this.region===Yn.CUSTOM)return this.apiHost+n;var r=Ba+n;switch(e){case"assets":return"https://"+this.region+"-assets."+r;case"api":return"https://"+this.region+"."+r}}}var Lg={icontains:(t,e)=>!!b&&e.href.toLowerCase().indexOf(t.toLowerCase())>-1,not_icontains:(t,e)=>!!b&&e.href.toLowerCase().indexOf(t.toLowerCase())===-1,regex:(t,e)=>!!b&&Sn(e.href,t),not_regex:(t,e)=>!!b&&!Sn(e.href,t),exact:(t,e)=>e.href===t,is_not:(t,e)=>e.href!==t};class Pe{constructor(e){var n=this;this.getWebExperimentsAndEvaluateDisplayLogic=function(r){r===void 0&&(r=!1),n.getWebExperiments(s=>{Pe.ds("retrieved web experiments from the server"),n.vs=new Map,s.forEach(i=>{if(i.feature_flag_key){var o;n.vs&&(Pe.ds("setting flag key ",i.feature_flag_key," to web experiment ",i),(o=n.vs)==null||o.set(i.feature_flag_key,i));var a=n._instance.getFeatureFlag(i.feature_flag_key);ve(a)&&i.variants[a]&&n.cs(i.name,a,i.variants[a].transforms)}else if(i.variants)for(var l in i.variants){var c=i.variants[l];Pe.fs(c)&&n.cs(i.name,l,c.transforms)}})},r)},this._instance=e,this._instance.onFeatureFlags(r=>{this.onFeatureFlags(r)})}onFeatureFlags(e){if(this._is_bot())Pe.ds("Refusing to render web experiment since the viewer is a likely bot");else if(!this._instance.config.disable_web_experiments){if(ee(this.vs))return this.vs=new Map,this.loadIfEnabled(),void this.previewWebExperiment();Pe.ds("applying feature flags",e),e.forEach(n=>{var r;if(this.vs&&(r=this.vs)!=null&&r.has(n)){var s,i=this._instance.getFeatureFlag(n),o=(s=this.vs)==null?void 0:s.get(n);i&&o!=null&&o.variants[i]&&this.cs(o.name,i,o.variants[i].transforms)}})}}previewWebExperiment(){var e=Pe.getWindowLocation();if(e!=null&&e.search){var n=Zr(e?.search,"__experiment_id"),r=Zr(e?.search,"__experiment_variant");n&&r&&(Pe.ds("previewing web experiments "+n+" && "+r),this.getWebExperiments(s=>{this.ps(parseInt(n),r,s)},!1,!0))}}loadIfEnabled(){this._instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(e,n,r){if(this._instance.config.disable_web_experiments&&!r)return e([]);var s=this._instance.get_property("$web_experiments");if(s&&!n)return e(s);this._instance.Re({url:this._instance.requestRouter.endpointFor("api","/api/web_experiments/?token="+this._instance.config.token),method:"GET",callback:i=>{if(i.statusCode!==200||!i.json)return e([]);var o=i.json.experiments||[];return e(o)}})}ps(e,n,r){var s=r.filter(i=>i.id===e);s&&s.length>0&&(Pe.ds("Previewing web experiment ["+s[0].name+"] with variant ["+n+"]"),this.cs(s[0].name,n,s[0].variants[n].transforms))}static fs(e){return!ee(e.conditions)&&Pe.gs(e)&&Pe._s(e)}static gs(e){var n;if(ee(e.conditions)||ee((n=e.conditions)==null?void 0:n.url))return!0;var r,s,i,o=Pe.getWindowLocation();return!!o&&((r=e.conditions)==null||!r.url||Lg[(s=(i=e.conditions)==null?void 0:i.urlMatchType)!==null&&s!==void 0?s:"icontains"](e.conditions.url,o))}static getWindowLocation(){return b?.location}static _s(e){var n;if(ee(e.conditions)||ee((n=e.conditions)==null?void 0:n.utm))return!0;var r=Cc();if(r.utm_source){var s,i,o,a,l,c,u,h,f=(s=e.conditions)==null||(s=s.utm)==null||!s.utm_campaign||((i=e.conditions)==null||(i=i.utm)==null?void 0:i.utm_campaign)==r.utm_campaign,d=(o=e.conditions)==null||(o=o.utm)==null||!o.utm_source||((a=e.conditions)==null||(a=a.utm)==null?void 0:a.utm_source)==r.utm_source,g=(l=e.conditions)==null||(l=l.utm)==null||!l.utm_medium||((c=e.conditions)==null||(c=c.utm)==null?void 0:c.utm_medium)==r.utm_medium,p=(u=e.conditions)==null||(u=u.utm)==null||!u.utm_term||((h=e.conditions)==null||(h=h.utm)==null?void 0:h.utm_term)==r.utm_term;return f&&g&&p&&d}return!1}static ds(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];F.info("[WebExperiments] "+e,r)}cs(e,n,r){this._is_bot()?Pe.ds("Refusing to render web experiment since the viewer is a likely bot"):n!=="control"?r.forEach(s=>{if(s.selector){var i;Pe.ds("applying transform of variant "+n+" for experiment "+e+" ",s);var o=(i=document)==null?void 0:i.querySelectorAll(s.selector);o?.forEach(a=>{var l=a;s.html&&(l.innerHTML=s.html),s.css&&l.setAttribute("style",s.css)})}}):Pe.ds("Control variants leave the page unmodified.")}_is_bot(){return je&&this._instance?Mc(je,this._instance.config.custom_blocked_useragents):void 0}}var Dg=we("[PostHog ExternalIntegrations]"),Ng={intercom:"intercom-integration",crispChat:"crisp-chat-integration"};class jg{constructor(e){this._instance=e}nt(e,n){var r;(r=q.__PosthogExtensions__)==null||r.loadExternalDependency==null||r.loadExternalDependency(this._instance,e,s=>{if(s)return Dg.error("failed to load script",s);n()})}startIfEnabledOrStop(){var e=this,n=function(o){var a,l,c;!s||(a=q.__PosthogExtensions__)!=null&&(a=a.integrations)!=null&&a[o]||e.nt(Ng[o],()=>{var u;(u=q.__PosthogExtensions__)==null||(u=u.integrations)==null||(u=u[o])==null||u.start(e._instance)}),!s&&(l=q.__PosthogExtensions__)!=null&&(l=l.integrations)!=null&&l[o]&&((c=q.__PosthogExtensions__)==null||(c=c.integrations)==null||(c=c[o])==null||c.stop())};for(var[r,s]of Object.entries((i=this._instance.config.integrations)!==null&&i!==void 0?i:{})){var i;n(r)}}}var Oi="[SessionRecording]",Fr=we(Oi);class Bg{get started(){var e;return!((e=this.bs)==null||!e.isStarted)}get status(){var e;return((e=this.bs)==null?void 0:e.status)||"lazy_loading"}constructor(e){if(this._forceAllowLocalhostNetworkCapture=!1,this._instance=e,!this._instance.sessionManager)throw Fr.error("started without valid sessionManager"),new Error(Oi+" started without valid sessionManager. This is a bug.");if(this._instance.config.cookieless_mode==="always")throw new Error(Oi+' cannot be used with cookieless_mode="always"')}get qt(){var e=!!this._instance.get_property(or),n=!this._instance.config.disable_session_recording,r=this._instance.config.disable_session_recording||this._instance.consent.isOptedOut();return b&&e&&n&&!r}startIfEnabledOrStop(e){var n;if(!this.qt||(n=this.bs)==null||!n.isStarted){var r=!A(Object.assign)&&!A(Array.from);this.qt&&r?(this.ys(e),Fr.info("starting")):this.stopRecording()}}ys(e){var n,r,s;this.qt&&(q!=null&&(n=q.__PosthogExtensions__)!=null&&(n=n.rrweb)!=null&&n.record&&(r=q.__PosthogExtensions__)!=null&&r.initSessionRecording?this.Ii(e):(s=q.__PosthogExtensions__)==null||s.loadExternalDependency==null||s.loadExternalDependency(this._instance,this.Pi,i=>{if(i)return Fr.error("could not load recorder",i);this.Ii(e)}))}stopRecording(){var e;(e=this.bs)==null||e.stop()}onRemoteConfig(e){this.ws=e;var n,r=this._instance.persistence;r&&r.register({[or]:!!e.sessionRecording,[Gr]:(n=e.sessionRecording)==null?void 0:n.scriptConfig}),this.bs?(this.bs.onRemoteConfig(e),this.ws=void 0):this.ys(),this.startIfEnabledOrStop()}log(e,n){var r;n===void 0&&(n="log"),(r=this.bs)!=null&&r.log?this.bs.log(e,n):Fr.warn("log called before recorder was ready")}get Pi(){var e;return((e=this._instance)==null||(e=e.persistence)==null||(e=e.get_property(Gr))==null?void 0:e.script)||"lazy-recorder"}Ii(e){var n,r;if((n=q.__PosthogExtensions__)==null||!n.initSessionRecording)throw Error("Called on script loaded before session recording is available");this.bs||(this.bs=(r=q.__PosthogExtensions__)==null?void 0:r.initSessionRecording(this._instance),this.bs._forceAllowLocalhostNetworkCapture=this._forceAllowLocalhostNetworkCapture,this.ws&&(this.bs.onRemoteConfig(this.ws),this.ws=void 0)),this.bs.start(e)}onRRwebEmit(e){var n;(n=this.bs)==null||n.onRRwebEmit==null||n.onRRwebEmit(e)}overrideLinkedFlag(){var e;(e=this.bs)==null||e.overrideLinkedFlag()}overrideSampling(){var e;(e=this.bs)==null||e.overrideSampling()}overrideTrigger(e){var n;(n=this.bs)==null||n.overrideTrigger(e)}get sdkDebugProperties(){var e;return((e=this.bs)==null?void 0:e.sdkDebugProperties)||{$recording_status:this.status}}tryAddCustomEvent(e,n){var r;return!((r=this.bs)==null||!r.tryAddCustomEvent(e,n))}}var Xn={},Fi=()=>{},cn="posthog",Lc=!Yp&&$e?.indexOf("MSIE")===-1&&$e?.indexOf("Mozilla")===-1,Ha=t=>{var e;return{api_host:"https://us.i.posthog.com",ui_host:null,token:"",autocapture:!0,rageclick:!0,cross_subdomain_cookie:Cf($?.location),persistence:"localStorage+cookie",persistence_name:"",loaded:Fi,save_campaign_params:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:t!=="2025-05-24"||"history_change",capture_pageleave:"if_capture_pageview",defaults:t??"unset",debug:Me&&ve(Me?.search)&&Me.search.indexOf("__posthog_debug=true")!==-1||!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,disable_surveys_automatic_display:!1,disable_external_dependency_loading:!1,enable_recording_console_log:void 0,secure_cookie:(b==null||(e=b.location)==null?void 0:e.protocol)==="https:",ip:!1,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",consent_persistence_name:null,opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,mask_personal_data_properties:!1,custom_personal_data_properties:[],advanced_disable_flags:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_only_evaluate_survey_feature_flags:!1,advanced_enable_surveys:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,surveys_request_timeout_ms:1e4,on_request_error:n=>{var r="Bad HTTP status: "+n.statusCode+" "+n.text;F.error(r)},get_device_id:n=>n,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"identified_only",before_send:void 0,request_queue_config:{flush_interval_ms:Ri},error_tracking:{},_onCapture:Fi,__preview_eager_load_replay:!0}},za=t=>{var e={};A(t.process_person)||(e.person_profiles=t.process_person),A(t.xhr_headers)||(e.request_headers=t.xhr_headers),A(t.cookie_name)||(e.persistence_name=t.cookie_name),A(t.disable_cookie)||(e.disable_persistence=t.disable_cookie),A(t.store_google)||(e.save_campaign_params=t.store_google),A(t.verbose)||(e.debug=t.verbose);var n=_e({},e,t);return de(t.property_blacklist)&&(A(t.property_denylist)?n.property_denylist=t.property_blacklist:de(t.property_denylist)?n.property_denylist=[...t.property_blacklist,...t.property_denylist]:F.error("Invalid value for property_denylist config: "+t.property_denylist)),n};class Hg{constructor(){this.__forceAllowLocalhost=!1}get Ss(){return this.__forceAllowLocalhost}set Ss(e){F.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=e}}class fr{get decideEndpointWasHit(){var e,n;return(e=(n=this.featureFlags)==null?void 0:n.hasLoadedFlags)!==null&&e!==void 0&&e}get flagsEndpointWasHit(){var e,n;return(e=(n=this.featureFlags)==null?void 0:n.hasLoadedFlags)!==null&&e!==void 0&&e}constructor(){this.webPerformance=new Hg,this.$s=!1,this.version=kt.LIB_VERSION,this.xs=new $c,this._calculate_event_properties=this.calculateEventProperties.bind(this),this.config=Ha(),this.SentryIntegration=Np,this.sentryIntegration=e=>function(n,r){var s=uc(n,r);return{name:cc,processEvent:i=>s(i)}}(this,e),this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this.ks=!1,this.Es=null,this.Is=null,this.Ps=null,this.featureFlags=new fg(this),this.toolbar=new Bp(this),this.scrollManager=new Tg(this),this.pageViewManager=new Wp(this),this.surveys=new Eg(this),this.experiments=new Pe(this),this.exceptions=new Qp(this),this.rateLimiter=new kg(this),this.requestRouter=new Mg(this),this.consent=new Kf(this),this.externalIntegrations=new jg(this),this.people={set:(e,n,r)=>{var s=ve(e)?{[e]:n}:e;this.setPersonProperties(s),r?.({})},set_once:(e,n,r)=>{var s=ve(e)?{[e]:n}:e;this.setPersonProperties(void 0,s),r?.({})}},this.on("eventCaptured",e=>F.info('send "'+e?.event+'"',e))}init(e,n,r){if(r&&r!==cn){var s,i=(s=Xn[r])!==null&&s!==void 0?s:new fr;return i._init(e,n,r),Xn[r]=i,Xn[cn][r]=i,i}return this._init(e,n,r)}_init(e,n,r){var s,i;if(n===void 0&&(n={}),A(e)||oi(e))return F.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return F.warn("You have already initialized PostHog! Re-initializing is a no-op"),this;this.__loaded=!0,this.config={},this.Rs=n,this.Ts=[],n.person_profiles&&(this.Is=n.person_profiles),this.set_config(_e({},Ha(n.defaults),za(n),{name:r,token:e})),this.config.on_xhr_error&&F.error("on_xhr_error is deprecated. Use on_request_error instead"),this.compression=n.disable_compression?void 0:ct.GZipJS;var o=this.Cs();this.persistence=new qs(this.config,o),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new qs(O({},this.config,{persistence:"sessionStorage"}),o);var a=O({},this.persistence.props),l=O({},this.sessionPersistence.props);this.register({$initialization_time:new Date().toISOString()}),this.Ms=new Cg(y=>this.Os(y),this.config.request_queue_config),this.Fs=new Ig(this),this.__request_queue=[];var c=this.config.cookieless_mode==="always"||this.config.cookieless_mode==="on_reject"&&this.consent.isExplicitlyOptedOut();if(c||(this.sessionManager=new Na(this),this.sessionPropsManager=new Da(this,this.sessionManager,this.persistence)),new zp(this).startIfEnabledOrStop(),this.siteApps=new Fg(this),(s=this.siteApps)==null||s.init(),c||(this.config.__preview_eager_load_replay?this.sessionRecording=new ba(this):this.sessionRecording=new Bg(this),this.sessionRecording.startIfEnabledOrStop()),this.config.disable_scroll_properties||this.scrollManager.startMeasuringScrollPosition(),this.autocapture=new Hf(this),this.autocapture.startIfEnabled(),this.surveys.loadIfEnabled(),this.heatmaps=new Vp(this),this.heatmaps.startIfEnabled(),this.webVitalsAutocapture=new qp(this),this.exceptionObserver=new Jf(this),this.exceptionObserver.startIfEnabled(),this.deadClicksAutocapture=new Kl(this,Xf),this.deadClicksAutocapture.startIfEnabled(),this.historyAutocapture=new hp(this),this.historyAutocapture.startIfEnabled(),kt.DEBUG=kt.DEBUG||this.config.debug,kt.DEBUG&&F.info("Starting in debug mode",{this:this,config:n,thisC:O({},this.config),p:a,s:l}),((i=n.bootstrap)==null?void 0:i.distinctID)!==void 0){var u,h,f=this.config.get_device_id(Nt()),d=(u=n.bootstrap)!=null&&u.isIdentifiedID?f:n.bootstrap.distinctID;this.persistence.set_property(xt,(h=n.bootstrap)!=null&&h.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:n.bootstrap.distinctID,$device_id:d})}if(this.As()){var g,p,v=Object.keys(((g=n.bootstrap)==null?void 0:g.featureFlags)||{}).filter(y=>{var w;return!((w=n.bootstrap)==null||(w=w.featureFlags)==null||!w[y])}).reduce((y,w)=>{var S;return y[w]=((S=n.bootstrap)==null||(S=S.featureFlags)==null?void 0:S[w])||!1,y},{}),m=Object.keys(((p=n.bootstrap)==null?void 0:p.featureFlagPayloads)||{}).filter(y=>v[y]).reduce((y,w)=>{var S,P;return(S=n.bootstrap)!=null&&(S=S.featureFlagPayloads)!=null&&S[w]&&(y[w]=(P=n.bootstrap)==null||(P=P.featureFlagPayloads)==null?void 0:P[w]),y},{});this.featureFlags.receivedFeatureFlags({featureFlags:v,featureFlagPayloads:m})}if(c)this.register_once({distinct_id:Fn,$device_id:null},"");else if(!this.get_distinct_id()){var _=this.config.get_device_id(Nt());this.register_once({distinct_id:_,$device_id:_},""),this.persistence.set_property(xt,"anonymous")}return pe(b,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this),{passive:!1}),this.toolbar.maybeLoadToolbar(),n.segment?Dp(this,()=>this.Ds()):this.Ds(),qe(this.config._onCapture)&&this.config._onCapture!==Fi&&(F.warn("onCapture is deprecated. Please use `before_send` instead"),this.on("eventCaptured",y=>this.config._onCapture(y.event,y))),this.config.ip&&F.warn('The `ip` config option has NO EFFECT AT ALL and has been deprecated. Use a custom transformation or "Discard IP data" project setting instead. See https://posthog.com/tutorials/web-redact-properties#hiding-customer-ip-address for more information.'),this}Te(e){var n,r,s,i,o,a,l,c;if(!$||!$.body)return F.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout(()=>{this.Te(e)},500);this.compression=void 0,e.supportedCompression&&!this.config.disable_compression&&(this.compression=J(e.supportedCompression,ct.GZipJS)?ct.GZipJS:J(e.supportedCompression,ct.Base64)?ct.Base64:void 0),(n=e.analytics)!=null&&n.endpoint&&(this.analyticsDefaultEndpoint=e.analytics.endpoint),this.set_config({person_profiles:this.Is?this.Is:"identified_only"}),(r=this.siteApps)==null||r.onRemoteConfig(e),(s=this.sessionRecording)==null||s.onRemoteConfig(e),(i=this.autocapture)==null||i.onRemoteConfig(e),(o=this.heatmaps)==null||o.onRemoteConfig(e),this.surveys.onRemoteConfig(e),(a=this.webVitalsAutocapture)==null||a.onRemoteConfig(e),(l=this.exceptionObserver)==null||l.onRemoteConfig(e),this.exceptions.onRemoteConfig(e),(c=this.deadClicksAutocapture)==null||c.onRemoteConfig(e)}Ds(){try{this.config.loaded(this)}catch(e){F.critical("`loaded` function failed",e)}this.js(),this.config.capture_pageview&&setTimeout(()=>{(this.consent.isOptedIn()||this.config.cookieless_mode==="always")&&this.Ls()},1),new Pg(this).load(),this.featureFlags.flags()}js(){var e;this.is_capturing()&&this.config.request_batching&&((e=this.Ms)==null||e.enable())}_dom_loaded(){this.is_capturing()&&jt(this.__request_queue,e=>this.Os(e)),this.__request_queue=[],this.js()}_handle_unload(){var e,n;this.config.request_batching?(this.Ns()&&this.capture("$pageleave"),(e=this.Ms)==null||e.unload(),(n=this.Fs)==null||n.unload()):this.Ns()&&this.capture("$pageleave",null,{transport:"sendBeacon"})}Re(e){this.__loaded&&(Lc?this.__request_queue.push(e):this.rateLimiter.isServerRateLimited(e.batchKey)||(e.transport=e.transport||this.config.api_transport,e.url=is(e.url,{ip:this.config.ip?1:0}),e.headers=O({},this.config.request_headers),e.compression=e.compression==="best-available"?this.compression:e.compression,e.disableXHRCredentials=this.config.__preview_disable_xhr_credentials,this.config.__preview_disable_beacon&&(e.disableTransport=["sendBeacon"]),e.fetchOptions=e.fetchOptions||this.config.fetch_options,(n=>{var r,s,i,o=O({},n);o.timeout=o.timeout||6e4,o.url=is(o.url,{_:new Date().getTime().toString(),ver:kt.LIB_VERSION,compression:o.compression});var a=(r=o.transport)!==null&&r!==void 0?r:"fetch",l=Nr.filter(u=>!o.disableTransport||!u.transport||!o.disableTransport.includes(u.transport)),c=(s=(i=Ol(l,u=>u.transport===a))==null?void 0:i.method)!==null&&s!==void 0?s:l[0].method;if(!c)throw new Error("No available transport method");c(o)})(O({},e,{callback:n=>{var r,s;this.rateLimiter.checkForLimiting(n),n.statusCode>=400&&((r=(s=this.config).on_request_error)==null||r.call(s,n)),e.callback==null||e.callback(n)}}))))}Os(e){this.Fs?this.Fs.retriableRequest(e):this.Re(e)}_execute_array(e){var n,r=[],s=[],i=[];jt(e,a=>{a&&(n=a[0],de(n)?i.push(a):qe(a)?a.call(this):de(a)&&n==="alias"?r.push(a):de(a)&&n.indexOf("capture")!==-1&&qe(this[n])?i.push(a):s.push(a))});var o=function(a,l){jt(a,function(c){if(de(c[0])){var u=l;ie(c,function(h){u=u[h[0]].apply(u,h.slice(1))})}else this[c[0]].apply(this,c.slice(1))},l)};o(r,this),o(s,this),o(i,this)}As(){var e,n;return((e=this.config.bootstrap)==null?void 0:e.featureFlags)&&Object.keys((n=this.config.bootstrap)==null?void 0:n.featureFlags).length>0||!1}push(e){this._execute_array([e])}capture(e,n,r){var s;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this.Ms){if(this.is_capturing())if(!A(e)&&ve(e)){if(this.config.opt_out_useragent_filter||!this._is_bot()){var i=r!=null&&r.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(i==null||!i.isRateLimited){n!=null&&n.$current_url&&!ve(n?.$current_url)&&(F.error("Invalid `$current_url` property provided to `posthog.capture`. Input must be a string. Ignoring provided value."),n==null||delete n.$current_url),this.sessionPersistence.update_search_keyword(),this.config.save_campaign_params&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.save_campaign_params||this.config.save_referrer)&&this.persistence.set_initial_person_info();var o=new Date,a=r?.timestamp||o,l=Nt(),c={uuid:l,event:e,properties:this.calculateEventProperties(e,n||{},a,l)};i&&(c.properties.$lib_rate_limit_remaining_tokens=i.remainingTokens),r?.$set&&(c.$set=r?.$set);var u,h=this.zs(r?.$set_once);if(h&&(c.$set_once=h),(c=kf(c,r!=null&&r._noTruncate?null:this.config.properties_string_max_length)).timestamp=a,A(r?.timestamp)||(c.properties.$event_time_override_provided=!0,c.properties.$event_time_override_system_time=o),e===Br.DISMISSED||e===Br.SENT){var f=n?.[Ii.SURVEY_ID],d=n?.[Ii.SURVEY_ITERATION];u={id:f,current_iteration:d},localStorage.getItem(Ma(u))||localStorage.setItem(Ma(u),"true"),c.$set=O({},c.$set,{[bg({id:f,current_iteration:d},e===Br.SENT?"responded":"dismissed")]:!0})}var g=O({},c.properties.$set,c.$set);if(dn(g)||this.setPersonPropertiesForFlags(g),!ee(this.config.before_send)){var p=this.Us(c);if(!p)return;c=p}this.xs.emit("eventCaptured",c);var v={method:"POST",url:(s=r?._url)!==null&&s!==void 0?s:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:c,compression:"best-available",batchKey:r?._batchKey};return!this.config.request_batching||r&&(r==null||!r._batchKey)||r!=null&&r.send_instantly?this.Os(v):this.Ms.enqueue(v),c}F.critical("This capture call is ignored due to client rate limiting.")}}else F.error("No event name provided to posthog.capture")}else F.uninitializedWarning("posthog.capture")}Ke(e){return this.on("eventCaptured",n=>e(n.event,n))}calculateEventProperties(e,n,r,s,i){if(r=r||new Date,!this.persistence||!this.sessionPersistence)return n;var o=i?void 0:this.persistence.remove_event_timer(e),a=O({},n);if(a.token=this.config.token,a.$config_defaults=this.config.defaults,(this.config.cookieless_mode=="always"||this.config.cookieless_mode=="on_reject"&&this.consent.isExplicitlyOptedOut())&&(a.$cookieless_mode=!0),e==="$snapshot"){var l=O({},this.persistence.properties(),this.sessionPersistence.properties());return a.distinct_id=l.distinct_id,(!ve(a.distinct_id)&&!Ce(a.distinct_id)||oi(a.distinct_id))&&F.error("Invalid distinct_id for replay event. This indicates a bug in your implementation"),a}var c,u=ug(this.config.mask_personal_data_properties,this.config.custom_personal_data_properties);if(this.sessionManager){var{sessionId:h,windowId:f}=this.sessionManager.checkAndGetSessionAndWindowId(i,r.getTime());a.$session_id=h,a.$window_id=f}this.sessionPropsManager&&_e(a,this.sessionPropsManager.getSessionProps());try{var d;this.sessionRecording&&_e(a,this.sessionRecording.sdkDebugProperties),a.$sdk_debug_retry_queue_size=(d=this.Fs)==null?void 0:d.length}catch(m){a.$sdk_debug_error_capturing_properties=String(m)}if(this.requestRouter.region===Yn.CUSTOM&&(a.$lib_custom_api_host=this.config.api_host),c=e!=="$pageview"||i?e!=="$pageleave"||i?this.pageViewManager.doEvent():this.pageViewManager.doPageLeave(r):this.pageViewManager.doPageView(r,s),a=_e(a,c),e==="$pageview"&&$&&(a.title=$.title),!A(o)){var g=r.getTime()-o;a.$duration=parseFloat((g/1e3).toFixed(3))}$e&&this.config.opt_out_useragent_filter&&(a.$browser_type=this._is_bot()?"bot":"browser"),(a=_e({},u,this.persistence.properties(),this.sessionPersistence.properties(),a)).$is_identified=this._isIdentified(),de(this.config.property_denylist)?ie(this.config.property_denylist,function(m){delete a[m]}):F.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var p=this.config.sanitize_properties;p&&(F.error("sanitize_properties is deprecated. Use before_send instead"),a=p(a,e));var v=this.qs();return a.$process_person_profile=v,v&&!i&&this.Bs("_calculate_event_properties"),a}zs(e){var n;if(!this.persistence||!this.qs()||this.$s)return e;var r=this.persistence.get_initial_props(),s=(n=this.sessionPropsManager)==null?void 0:n.getSetOnceProps(),i=_e({},r,s||{},e||{}),o=this.config.sanitize_properties;return o&&(F.error("sanitize_properties is deprecated. Use before_send instead"),i=o(i,"$set_once")),this.$s=!0,dn(i)?void 0:i}register(e,n){var r;(r=this.persistence)==null||r.register(e,n)}register_once(e,n,r){var s;(s=this.persistence)==null||s.register_once(e,n,r)}register_for_session(e){var n;(n=this.sessionPersistence)==null||n.register(e)}unregister(e){var n;(n=this.persistence)==null||n.unregister(e)}unregister_for_session(e){var n;(n=this.sessionPersistence)==null||n.unregister(e)}Hs(e,n){this.register({[e]:n})}getFeatureFlag(e,n){return this.featureFlags.getFeatureFlag(e,n)}getFeatureFlagPayload(e){var n=this.featureFlags.getFeatureFlagPayload(e);try{return JSON.parse(n)}catch{return n}}isFeatureEnabled(e,n){return this.featureFlags.isFeatureEnabled(e,n)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateEarlyAccessFeatureEnrollment(e,n,r){this.featureFlags.updateEarlyAccessFeatureEnrollment(e,n,r)}getEarlyAccessFeatures(e,n,r){return n===void 0&&(n=!1),this.featureFlags.getEarlyAccessFeatures(e,n,r)}on(e,n){return this.xs.on(e,n)}onFeatureFlags(e){return this.featureFlags.onFeatureFlags(e)}onSurveysLoaded(e){return this.surveys.onSurveysLoaded(e)}onSessionId(e){var n,r;return(n=(r=this.sessionManager)==null?void 0:r.onSessionId(e))!==null&&n!==void 0?n:()=>{}}getSurveys(e,n){n===void 0&&(n=!1),this.surveys.getSurveys(e,n)}getActiveMatchingSurveys(e,n){n===void 0&&(n=!1),this.surveys.getActiveMatchingSurveys(e,n)}renderSurvey(e,n){this.surveys.renderSurvey(e,n)}displaySurvey(e,n){n===void 0&&(n=xg),this.surveys.displaySurvey(e,n)}canRenderSurvey(e){return this.surveys.canRenderSurvey(e)}canRenderSurveyAsync(e,n){return n===void 0&&(n=!1),this.surveys.canRenderSurveyAsync(e,n)}identify(e,n,r){if(!this.__loaded||!this.persistence)return F.uninitializedWarning("posthog.identify");if(Ce(e)&&(e=e.toString(),F.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),e)if(["distinct_id","distinctid"].includes(e.toLowerCase()))F.critical('The string "'+e+'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.');else if(e!==Fn){if(this.Bs("posthog.identify")){var s=this.get_distinct_id();if(this.register({$user_id:e}),!this.get_property("$device_id")){var i=s;this.register_once({$had_persisted_distinct_id:!0,$device_id:i},"")}e!==s&&e!==this.get_property(Bn)&&(this.unregister(Bn),this.register({distinct_id:e}));var o=(this.persistence.get_property(xt)||"anonymous")==="anonymous";e!==s&&o?(this.persistence.set_property(xt,"identified"),this.setPersonPropertiesForFlags(O({},r||{},n||{}),!1),this.capture("$identify",{distinct_id:e,$anon_distinct_id:s},{$set:n||{},$set_once:r||{}}),this.Ps=Pa(e,n,r),this.featureFlags.setAnonymousDistinctId(s)):(n||r)&&this.setPersonProperties(n,r),e!==s&&(this.reloadFeatureFlags(),this.unregister(Kr))}}else F.critical('The string "'+Fn+'" was set in posthog.identify which indicates an error. This ID is only used as a sentinel value.');else F.error("Unique user id has not been set in posthog.identify")}setPersonProperties(e,n){if((e||n)&&this.Bs("posthog.setPersonProperties")){var r=Pa(this.get_distinct_id(),e,n);this.Ps!==r?(this.setPersonPropertiesForFlags(O({},n||{},e||{})),this.capture("$set",{$set:e||{},$set_once:n||{}}),this.Ps=r):F.info("A duplicate setPersonProperties call was made with the same properties. It has been ignored.")}}group(e,n,r){if(e&&n){if(this.Bs("posthog.group")){var s=this.getGroups();s[e]!==n&&this.resetGroupPropertiesForFlags(e),this.register({$groups:O({},s,{[e]:n})}),r&&(this.capture("$groupidentify",{$group_type:e,$group_key:n,$group_set:r}),this.setGroupPropertiesForFlags({[e]:r})),s[e]===n||r||this.reloadFeatureFlags()}}else F.error("posthog.group requires a group type and group key")}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(e,n){n===void 0&&(n=!0),this.featureFlags.setPersonPropertiesForFlags(e,n)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(e,n){n===void 0&&(n=!0),this.Bs("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(e,n)}resetGroupPropertiesForFlags(e){this.featureFlags.resetGroupPropertiesForFlags(e)}reset(e){var n,r,s,i;if(F.info("reset"),!this.__loaded)return F.uninitializedWarning("posthog.reset");var o=this.get_property("$device_id");if(this.consent.reset(),(n=this.persistence)==null||n.clear(),(r=this.sessionPersistence)==null||r.clear(),this.surveys.reset(),this.featureFlags.reset(),(s=this.persistence)==null||s.set_property(xt,"anonymous"),(i=this.sessionManager)==null||i.resetSessionId(),this.Ps=null,this.config.cookieless_mode==="always")this.register_once({distinct_id:Fn,$device_id:null},"");else{var a=this.config.get_device_id(Nt());this.register_once({distinct_id:a,$device_id:e?a:o},"")}this.register({$last_posthog_reset:new Date().toISOString()},1)}get_distinct_id(){return this.get_property("distinct_id")}getGroups(){return this.get_property("$groups")||{}}get_session_id(){var e,n;return(e=(n=this.sessionManager)==null?void 0:n.checkAndGetSessionAndWindowId(!0).sessionId)!==null&&e!==void 0?e:""}get_session_replay_url(e){if(!this.sessionManager)return"";var{sessionId:n,sessionStartTimestamp:r}=this.sessionManager.checkAndGetSessionAndWindowId(!0),s=this.requestRouter.endpointFor("ui","/project/"+this.config.token+"/replay/"+n);if(e!=null&&e.withTimestamp&&r){var i,o=(i=e.timestampLookBack)!==null&&i!==void 0?i:10;if(!r)return s;s+="?t="+Math.max(Math.floor((new Date().getTime()-r)/1e3)-o,0)}return s}alias(e,n){return e===this.get_property(Fl)?(F.critical("Attempting to create alias for existing People user - aborting."),-2):this.Bs("posthog.alias")?(A(n)&&(n=this.get_distinct_id()),e!==n?(this.Hs(Bn,e),this.capture("$create_alias",{alias:e,distinct_id:n})):(F.warn("alias matches current distinct_id - skipping api call."),this.identify(e),-1)):void 0}set_config(e){var n=O({},this.config);if(ge(e)){var r,s,i,o,a;_e(this.config,za(e));var l=this.Cs();(r=this.persistence)==null||r.update_config(this.config,n,l),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new qs(O({},this.config,{persistence:"sessionStorage"}),l),be.G()&&be.V("ph_debug")==="true"&&(this.config.debug=!0),this.config.debug&&(kt.DEBUG=!0,F.info("set_config",{config:e,oldConfig:n,newConfig:O({},this.config)})),(s=this.sessionRecording)==null||s.startIfEnabledOrStop(),(i=this.autocapture)==null||i.startIfEnabled(),(o=this.heatmaps)==null||o.startIfEnabled(),this.surveys.loadIfEnabled(),this.Ws(),(a=this.externalIntegrations)==null||a.startIfEnabledOrStop()}}startSessionRecording(e){var n=e===!0,r={sampling:n||!(e==null||!e.sampling),linked_flag:n||!(e==null||!e.linked_flag),url_trigger:n||!(e==null||!e.url_trigger),event_trigger:n||!(e==null||!e.event_trigger)};if(Object.values(r).some(Boolean)){var s,i,o,a,l;(s=this.sessionManager)==null||s.checkAndGetSessionAndWindowId(),r.sampling&&((i=this.sessionRecording)==null||i.overrideSampling()),r.linked_flag&&((o=this.sessionRecording)==null||o.overrideLinkedFlag()),r.url_trigger&&((a=this.sessionRecording)==null||a.overrideTrigger("url")),r.event_trigger&&((l=this.sessionRecording)==null||l.overrideTrigger("event"))}this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var e;return!((e=this.sessionRecording)==null||!e.started)}captureException(e,n){var r=new Error("PostHog syntheticException");return this.exceptions.sendExceptionEvent(O({},dp((s=>s instanceof Error)(e)?{error:e,event:e.message}:{event:e},{syntheticException:r}),n))}loadToolbar(e){return this.toolbar.loadToolbar(e)}get_property(e){var n;return(n=this.persistence)==null?void 0:n.props[e]}getSessionProperty(e){var n;return(n=this.sessionPersistence)==null?void 0:n.props[e]}toString(){var e,n=(e=this.config.name)!==null&&e!==void 0?e:cn;return n!==cn&&(n=cn+"."+n),n}_isIdentified(){var e,n;return((e=this.persistence)==null?void 0:e.get_property(xt))==="identified"||((n=this.sessionPersistence)==null?void 0:n.get_property(xt))==="identified"}qs(){var e,n;return!(this.config.person_profiles==="never"||this.config.person_profiles==="identified_only"&&!this._isIdentified()&&dn(this.getGroups())&&((e=this.persistence)==null||(e=e.props)==null||!e[Bn])&&((n=this.persistence)==null||(n=n.props)==null||!n[Xr]))}Ns(){return this.config.capture_pageleave===!0||this.config.capture_pageleave==="if_capture_pageview"&&(this.config.capture_pageview===!0||this.config.capture_pageview==="history_change")}createPersonProfile(){this.qs()||this.Bs("posthog.createPersonProfile")&&this.setPersonProperties({},{})}Bs(e){return this.config.person_profiles==="never"?(F.error(e+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this.Hs(Xr,!0),!0)}Cs(){if(this.config.cookieless_mode==="always")return!0;var e=this.consent.isOptedOut(),n=this.config.opt_out_persistence_by_default||this.config.cookieless_mode==="on_reject";return this.config.disable_persistence||e&&!!n}Ws(){var e,n,r,s,i=this.Cs();return((e=this.persistence)==null?void 0:e.De)!==i&&((r=this.persistence)==null||r.set_disabled(i)),((n=this.sessionPersistence)==null?void 0:n.De)!==i&&((s=this.sessionPersistence)==null||s.set_disabled(i)),i}opt_in_capturing(e){if(this.config.cookieless_mode!=="always"){var n;this.config.cookieless_mode==="on_reject"&&this.consent.isExplicitlyOptedOut()&&(this.reset(!0),this.sessionManager=new Na(this),this.persistence&&(this.sessionPropsManager=new Da(this,this.sessionManager,this.persistence)),this.sessionRecording=new ba(this),this.sessionRecording.startIfEnabledOrStop()),this.consent.optInOut(!0),this.Ws(),this.config.cookieless_mode=="on_reject"&&this.surveys.loadIfEnabled(),(A(e?.captureEventName)||e!=null&&e.captureEventName)&&this.capture((n=e?.captureEventName)!==null&&n!==void 0?n:"$opt_in",e?.captureProperties,{send_instantly:!0}),this.config.capture_pageview&&this.Ls()}else F.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}opt_out_capturing(){var e;this.config.cookieless_mode!=="always"?(this.config.cookieless_mode==="on_reject"&&this.consent.isOptedIn()&&this.reset(!0),this.consent.optInOut(!1),this.Ws(),this.config.cookieless_mode==="on_reject"&&(this.register({distinct_id:Fn,$device_id:null}),this.sessionManager=void 0,this.sessionPropsManager=void 0,(e=this.sessionRecording)==null||e.stopRecording(),this.sessionRecording=void 0,this.Ls())):F.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}get_explicit_consent_status(){var e=this.consent.consent;return e===St.GRANTED?"granted":e===St.DENIED?"denied":"pending"}is_capturing(){return this.config.cookieless_mode==="always"||(this.config.cookieless_mode==="on_reject"?this.consent.isExplicitlyOptedOut()||this.consent.isOptedIn():!this.has_opted_out_capturing())}clear_opt_in_out_capturing(){this.consent.reset(),this.Ws()}_is_bot(){return je?Mc(je,this.config.custom_blocked_useragents):void 0}Ls(){$&&($.visibilityState==="visible"?this.ks||(this.ks=!0,this.capture("$pageview",{title:$.title},{send_instantly:!0}),this.Es&&($.removeEventListener("visibilitychange",this.Es),this.Es=null)):this.Es||(this.Es=this.Ls.bind(this),pe($,"visibilitychange",this.Es)))}debug(e){e===!1?(b?.console.log("You've disabled debug mode."),localStorage&&localStorage.removeItem("ph_debug"),this.set_config({debug:!1})):(b?.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),localStorage&&localStorage.setItem("ph_debug","true"),this.set_config({debug:!0}))}L(){var e,n,r,s,i,o,a,l=this.Rs||{};return"advanced_disable_flags"in l?!!l.advanced_disable_flags:this.config.advanced_disable_flags!==!1?!!this.config.advanced_disable_flags:this.config.advanced_disable_decide===!0?(F.warn("Config field 'advanced_disable_decide' is deprecated. Please use 'advanced_disable_flags' instead. The old field will be removed in a future major version."),!0):(r="advanced_disable_decide",s=!1,i=F,o=(n="advanced_disable_flags")in(e=l)&&!A(e[n]),a=r in e&&!A(e[r]),o?e[n]:a?(i&&i.warn("Config field '"+r+"' is deprecated. Please use '"+n+"' instead. The old field will be removed in a future major version."),e[r]):s)}Us(e){if(ee(this.config.before_send))return e;var n=de(this.config.before_send)?this.config.before_send:[this.config.before_send],r=e;for(var s of n){if(r=s(r),ee(r)){var i="Event '"+e.event+"' was rejected in beforeSend function";return bf(e.event)?F.warn(i+". This can cause unexpected behavior."):F.info(i),null}r.properties&&!dn(r.properties)||F.warn("Event '"+e.event+"' has no properties after beforeSend function, this is likely an error.")}return r}getPageViewId(){var e;return(e=this.pageViewManager.fe)==null?void 0:e.pageViewId}captureTraceFeedback(e,n){this.capture("$ai_feedback",{$ai_trace_id:String(e),$ai_feedback_text:n})}captureTraceMetric(e,n,r){this.capture("$ai_metric",{$ai_trace_id:String(e),$ai_metric_name:n,$ai_metric_value:String(r)})}}(function(t,e){for(var n=0;n<e.length;n++)t.prototype[e[n]]=Ef(t.prototype[e[n]])})(fr,["identify"]);var qa,Ua=(qa=Xn[cn]=new fr,function(){function t(){t.done||(t.done=!0,Lc=!1,ie(Xn,function(e){e._dom_loaded()}))}$!=null&&$.addEventListener?$.readyState==="complete"?t():pe($,"DOMContentLoaded",t,{capture:!1}):b&&F.error("Browser doesn't support `document.addEventListener` so PostHog couldn't be initialized")}(),qa);const _v=Object.freeze(Object.defineProperty({__proto__:null,COPY_AUTOCAPTURE_EVENT:Lr,Compression:ct,DisplaySurveyType:oo,PostHog:fr,SurveyEventName:Br,SurveyEventProperties:Ii,SurveyPosition:vg,SurveyQuestionBranchingType:_g,SurveyQuestionType:mg,SurveySchedule:yg,SurveyType:jr,SurveyWidgetType:gg,default:Ua,posthog:Ua,severityLevels:Gl},Symbol.toStringTag,{value:"Module"}));export{Qg as $,un as A,vv as B,hv as C,Wg as D,kl as E,Nc as F,Vg as G,Gg as H,Kg as I,_v as J,ov as Q,$h as _,Zg as a,tv as b,iv as c,rv as d,Xg as e,ev as f,qg as g,nv as h,vn as i,Sh as j,cv as k,sv as l,lv as m,$r as n,Jg as o,fs as p,dv as q,uv as r,Ug as s,av as t,vl as u,gv as v,pv as w,Vr as x,mv as y,fv as z};
