import{r as i}from"./index.CWXBSLiN.js";import{C as e}from"./module.C-PkBFPJ.js";const r={apiKey:"phc_SmlF1mKK199Blt4hUNL6V19IWydNNJ9o7Qbym2Y4zQa",apiHost:"https://eu.i.posthog.com"},a=()=>{const o=document.referrer,n=new URLSearchParams(window.location.search);if(o.includes("blog.desktopcommander.app")||o.includes("rk7f8a7274b9330-haqfg.wpcomstaging.com")){console.log("ðŸŽ¯ User arrived from blog:",o);const t={referrer_url:o,landing_page:window.location.href,landing_path:window.location.pathname,landing_hash:window.location.hash,landing_search:window.location.search,timestamp:new Date().toISOString(),session_start:!0};window.posthog&&e.__loaded&&(e.capture("arrived_from_blog",t),e.setPersonProperties({last_blog_referrer:o,came_from_blog:!0,last_blog_visit:new Date().toISOString()}),console.log("âœ… PostHog: Tracked blog arrival",t)),window.gtag&&(window.gtag("event","arrived_from_blog",t),console.log("âœ… GA4: Tracked blog arrival",t))}(()=>{const t=n.get("utm_source");(o.includes("google.com")||o.includes("bing.com")||o.includes("duckduckgo.com"))&&t==="blog"&&window.posthog&&e.__loaded&&(e.capture("organic_search_via_blog",{search_engine:o.includes("google")?"google":o.includes("bing")?"bing":"other",utm_source:t,landing_page:window.location.href}),console.log("âœ… PostHog: Tracked organic journey via blog"))})()};function m(){return i.useEffect(()=>{if(typeof window<"u"&&(window.posthog=e),e.__loaded){console.log("PostHog already initialized");return}const o=window.location.hostname==="localhost"?"development":"production";e.init(r.apiKey,{api_host:r.apiHost,cross_subdomain_cookie:!0,session_recording:{enabled:!0,record_console:o==="development",record_network:o==="development"},autocapture:{dom_event_allowlist:["click","change","submit"],mask_all_element_attributes:!1,mask_all_text:!1},loaded:n=>{o==="development"&&n.debug(!0),console.log("âœ… PostHog initialized for "+o+" environment with cross-domain tracking"),a()},respect_dnt:!0,disable_session_recording:!1}),e.register({environment:o,website_section:"main_site",domain:"desktopcommander.app",timestamp:new Date().toISOString()})},[]),null}export{m as default};
