import{j as e}from"./jsx-runtime.D3GSbgeI.js";import{u as D,C as z,A as L,a as W,T as H,b as V,P as Z,c as q,B as w,d as G,S as Q,U as J,E as K,f as X,g as Y,e as ee,h as te}from"./EngagementMeter.Ce8q5Liq.js";import{B as x}from"./button.CFStODFL.js";import{u as se,P as re,a as oe,b as ae,g as k,T as ie}from"./popover.CqpUAy0U.js";import{r as n}from"./index.BaMLtrTp.js";import{Z as T}from"./zap.D6vbqF2e.js";import{C as P}from"./check.eE7yIrYi.js";import{C as A}from"./copy.B_cZW-ev.js";import{A as S}from"./apple.DPzuioHp.js";import{C as ne}from"./chevron-down.B6Si1q7U.js";import{M as le}from"./monitor.BeUdpHq0.js";import{A as C}from"./arrow-right.B_EnXtAw.js";import{S as ce}from"./search.CTWaWu2N.js";import{R as me}from"./refresh-cw.3-55pmhE.js";import{C as de}from"./clock.YdwQlIOd.js";import{D as pe}from"./database.BD9zb1Qc.js";import{S as he}from"./shield.Dnfnq1p4.js";import{F as xe}from"./file-text.DlCSEU1L.js";import{S as ue}from"./settings.DFIRZYHL.js";import{C as fe}from"./chart-column.BMc3CsP9.js";import{C as I}from"./code.BOyVoLRs.js";import{F as ge}from"./folder-open.xHIhBzFI.js";import{F as je}from"./folder-search.DcGsVAUM.js";import{S as we}from"./sparkles.sp_Qnyce.js";import{I as ye}from"./info.BKH_R1lK.js";import"./index.yBjzXJbu.js";import"./createLucideIcon.CJ67VFfW.js";import"./module.C-PkBFPJ.js";import"./index.BHWpg3Dn.js";import"./index.BbTPjBLC.js";import"./index.BpImhYO1.js";import"./index.CyN3cLSG.js";import"./index.Dfbbenui.js";import"./index.devOkPGx.js";import"./x.C9k2b8KL.js";const be=(t,i,l=365)=>{const o=new Date;o.setTime(o.getTime()+l*24*60*60*1e3),document.cookie=`${t}=${i};expires=${o.toUTCString()};path=/`},Ne=t=>{const i=t+"=",l=document.cookie.split(";");for(let o=0;o<l.length;o++){let a=l[o];for(;a.charAt(0)===" ";)a=a.substring(1,a.length);if(a.indexOf(i)===0)return a.substring(i.length,a.length)}return null},v={"macos-m":"https://github.com/desktop-commander/dc-app-client-releases/releases/latest/download/desktop-commander-mac-arm64.dmg","macos-intel":"https://github.com/desktop-commander/dc-app-client-releases/releases/latest/download/desktop-commander-mac-x64.dmg",windows:"https://github.com/desktop-commander/dc-app-client-releases-windows/releases/latest/download/desktop-commander-win-x64.msi"};function ve({promptTitle:t,prompt:i,onCopySuccess:l}){const[o,a]=n.useState(null),[y,p]=n.useState(!1),[g,f]=n.useState(!1),[h,_]=n.useState(!1),d=D();n.useEffect(()=>{const c=Ne("dc_installed");a(c==="true")},[]);const u=async()=>{if(!o){f(!0),d.capture("prompt_library_run_clicked_no_install",{prompt_title:t,action:"show_download_options"});return}try{await navigator.clipboard.writeText(i),p(!0),d.capture("prompt_library_prompt_copied",{prompt_title:t,has_dc_installed:!0,copy_method:"run_button"}),l?.(),setTimeout(()=>p(!1),3e3)}catch(c){console.error("Failed to copy:",c)}},j=c=>{d.capture("download_clicked",{platform:c,button_location:"prompt_detail_page",site_section:"prompt_library",prompt_title:t,page_path:window.location.pathname})},b=async()=>{be("dc_installed","true",365),a(!0),f(!1),d.capture("prompt_library_marked_installed",{prompt_title:t});try{await navigator.clipboard.writeText(i),p(!0),l?.(),setTimeout(()=>p(!1),3e3)}catch(c){console.error("Failed to copy:",c)}},N=()=>{d.capture("prompt_library_mcp_link_clicked",{prompt_title:t,source:"prompt_detail_page"})};return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-gradient-to-r from-primary/5 via-primary/10 to-primary/5 border border-primary/20 rounded-xl p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-primary/20 rounded-lg",children:e.jsx(T,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-foreground",children:"Ready to run this prompt?"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Copy and paste into Desktop Commander"})]})]}),e.jsx(x,{size:"lg",onClick:u,className:`min-w-[220px] transition-colors ${g?"bg-muted hover:bg-muted/80 text-muted-foreground":"dc-button-primary"}`,children:y?e.jsxs(e.Fragment,{children:[e.jsx(P,{className:"h-5 w-5 mr-2"}),"Copied! Paste in DC"]}):e.jsxs(e.Fragment,{children:[e.jsx(A,{className:"h-5 w-5 mr-2"}),"Run in Desktop Commander"]})})]})}),g&&e.jsxs("div",{className:"bg-dc-surface-elevated border border-border rounded-xl p-6 animate-in slide-in-from-top-2 duration-300",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Get Desktop Commander to run this prompt"}),e.jsx("p",{className:"text-sm text-muted-foreground max-w-lg mx-auto",children:"Desktop Commander gives AI direct access to your files and system, letting you automate tasks like this in seconds."})]}),e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsxs("div",{className:"flex flex-wrap justify-center gap-3",children:[e.jsx(x,{size:"lg",className:"bg-primary hover:bg-primary/90 text-primary-foreground",asChild:!0,children:e.jsxs("a",{href:v["macos-m"],onClick:()=>j("macos-m"),children:[e.jsx(S,{className:"w-5 h-5 mr-2"}),"Download for Mac (Apple Silicon)"]})}),e.jsx(x,{size:"lg",variant:"outline",asChild:!0,children:e.jsxs("a",{href:v["macos-intel"],onClick:()=>j("macos-intel"),children:[e.jsx(S,{className:"w-5 h-5 mr-2"}),"Mac (Intel)"]})})]}),e.jsx(x,{variant:"ghost",size:"sm",onClick:()=>_(!h),className:"text-muted-foreground hover:text-foreground",children:h?e.jsxs(e.Fragment,{children:[e.jsx(z,{className:"h-4 w-4 mr-1"}),"Hide other options"]}):e.jsxs(e.Fragment,{children:[e.jsx(ne,{className:"h-4 w-4 mr-1"}),"Other options"]})}),h&&e.jsxs("div",{className:"w-full max-w-md animate-in slide-in-from-top-1 duration-200",children:[e.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-x-4 gap-y-2 text-sm",children:[e.jsxs("a",{href:v.windows,className:"text-muted-foreground hover:text-primary transition-colors inline-flex items-center gap-1",children:[e.jsx(le,{className:"w-4 h-4"}),"Windows",e.jsx(C,{className:"w-3 h-3"})]}),e.jsx("span",{className:"text-muted-foreground/30",children:"|"}),e.jsxs("a",{href:"/mcp",onClick:N,className:"text-muted-foreground hover:text-primary transition-colors inline-flex items-center gap-1",children:["MCP for AI clients",e.jsx(C,{className:"w-3 h-3"})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-border/30 text-center",children:e.jsx("button",{onClick:b,className:"text-xs text-muted-foreground hover:text-primary transition-colors",children:"I already have Desktop Commander installed →"})})]})]})]})]})}const _e={FolderSearch:je,FolderOrganize:ge,Code:I,BarChart3:fe,Settings:ue,FileText:xe,Archive:V,Shield:he,Database:pe,TestTube:H,Clock:de,RefreshCw:me,ArrowRightLeft:W,Activity:L,Search:ce},ke=t=>{if(!t)return!1;const i=new Date(t),o=Math.abs(new Date().getTime()-i.getTime());return Math.ceil(o/(1e3*60*60*24))<=14},Se=t=>["Run this prompt in Desktop Commander","AI analyzes your request and gathers context","Executes the necessary actions on your system","Shows you the results and any relevant output"],Ce=()=>"Unlike regular AI chatbots, Desktop Commander can actually access your files and execute tasks on your computer — turning this prompt into real action in seconds.",ct=({useCase:t})=>{const[i,l]=n.useState(!1),[o,a]=n.useState(!1),[y,p]=n.useState(!1),[g,f]=n.useState(!1),{toast:h}=se(),[_,d]=n.useState(0),u=D();n.useEffect(()=>{if(!t)return;const r=`useCase_uses_${t.id}`,s=localStorage.getItem(r),m=s?Number(s):0;d(Number.isFinite(m)?m:0),u.capture("prompt_page_viewed",{prompt_id:t.id,prompt_title:t.title,prompt_slug:t.slug,prompt_categories:t.categories,prompt_session_type:t.sessionType,source_page:"direct_url",url_type:"seo_friendly"})},[t?.id,u]);const j=()=>{if(!t)return;const r=`useCase_uses_${t.id}`;d(s=>{const m=s+1;return localStorage.setItem(r,String(m)),m})};if(!t)return null;const b=_e[t.icon]||I,N=ke(t.dateAdded),c=t.extendedDescription||t.description,F=t.howItWorks||Se(t.title),M=t.whyDC||Ce(),E=()=>{window.location.href=k("/library/prompts")},R=async()=>{try{await navigator.clipboard.writeText(t.prompt),f(!0),u.capture("prompt_library_prompt_copied",{prompt_id:t.id,prompt_title:t.title,copy_method:"copy_text_button"}),setTimeout(()=>f(!1),3e3)}catch(r){console.error("Failed to copy:",r)}},U=()=>{j(),h({title:"Prompt copied!",description:"Now paste it in Desktop Commander to run."})},B=(r="share_button")=>{const s=new URL(k(`/library/prompts/${t.slug}`),window.location.origin);return s.searchParams.set("utm_source","desktop_commander"),s.searchParams.set("utm_medium",r),s.searchParams.set("utm_campaign","prompt_sharing"),s.searchParams.set("utm_content",t.slug||""),s.searchParams.set("shared_at",Date.now().toString()),s.toString()},O=async()=>{const r=typeof navigator<"u"&&(/(Mobi|Android|iPhone|iPad|iPod)/i.test(navigator.userAgent)||typeof window<"u"&&window.matchMedia&&window.matchMedia("(pointer: coarse)").matches),s=r&&navigator.share?"native_share":"clipboard_copy",m=B(s),$=`Prompt: ${t.title}`;u.capture("share_button_clicked",{prompt_id:t.id,prompt_title:t.title,share_method:s,source_page:"prompt_detail_page"});try{if(r&&navigator.share){await navigator.share({title:$,text:"Check out this Desktop Commander prompt",url:m});return}await navigator.clipboard.writeText(m),p(!0),setTimeout(()=>p(!1),1500),h({title:"Link copied",description:"Share it with your team.",action:e.jsx(ie,{altText:"Open link",onClick:()=>window.open(m,"_blank","noopener,noreferrer"),children:"Open"})})}catch{h({title:"Share failed",description:"Could not share or copy the link.",variant:"destructive"})}};return e.jsx(Z,{children:e.jsx(q,{children:e.jsx("div",{className:"min-h-screen bg-background mt-20",children:e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[e.jsxs(x,{variant:"ghost",onClick:E,className:"mb-6 -ml-2 text-muted-foreground hover:text-foreground",children:[e.jsx("svg",{className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Explore all prompts"]}),e.jsxs("div",{className:"flex items-start gap-4 mb-8",children:[e.jsx("div",{className:"p-3 bg-dc-surface-elevated rounded-lg flex-shrink-0",children:e.jsx(b,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold mb-3 break-words flex items-start gap-2",children:[t.title,N&&e.jsxs(w,{variant:"outline",className:"text-xs bg-primary/10 text-primary border-primary/20 flex-shrink-0",children:[e.jsx(we,{className:"h-3 w-3 mr-1"}),"New"]})]}),e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[t.verified&&e.jsxs("span",{className:"inline-flex items-center gap-1 text-xs rounded-full border border-primary/20 bg-primary/10 text-primary px-2.5 py-1",children:[e.jsx(G,{className:"h-3.5 w-3.5"}),"Verified by DC team"]}),e.jsxs(w,{variant:"outline",className:"text-xs flex items-center gap-1",children:[e.jsx(T,{className:"h-3 w-3"}),t.sessionType]}),e.jsx("div",{className:"flex flex-wrap gap-1",children:t.categories.map((r,s)=>e.jsx(w,{variant:"outline",className:"text-xs",children:r},s))})]})]})]}),e.jsxs("div",{className:"mb-10",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"What this prompt does"}),e.jsx("p",{className:"text-muted-foreground text-base leading-relaxed mb-6",children:c}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-sm font-medium text-foreground mb-3",children:"How it works"}),e.jsx("ol",{className:"space-y-2 text-sm text-muted-foreground",children:F.map((r,s)=>e.jsxs("li",{className:"flex gap-3",children:[e.jsxs("span",{className:"text-primary font-medium",children:[s+1,"."]}),e.jsx("span",{children:r})]},s))})]}),e.jsxs("p",{className:"text-sm text-muted-foreground border-l-2 border-primary/30 pl-4",children:[e.jsx("span",{className:"text-foreground",children:"Why Desktop Commander?"})," ",M]})]}),e.jsxs("div",{className:"mb-10",children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Best for"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.targetRoles.map(r=>e.jsx(w,{variant:"secondary",className:"text-xs",children:r},r))})]}),e.jsx(Q,{className:"my-10"}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"The Prompt"}),e.jsx(x,{variant:"ghost",size:"sm",onClick:R,className:"text-muted-foreground hover:text-foreground",children:g?e.jsxs(e.Fragment,{children:[e.jsx(P,{className:"h-4 w-4 mr-2"}),"Copied"]}):e.jsxs(e.Fragment,{children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),"Copy text"]})})]}),e.jsx("div",{className:"p-5 bg-dc-surface-elevated rounded-lg border border-border max-h-96 overflow-y-auto",children:e.jsx("pre",{className:"text-sm whitespace-pre-wrap font-mono text-foreground/90 leading-relaxed",children:t.prompt})})]}),e.jsx(ve,{promptTitle:t.title,prompt:t.prompt,onCopySuccess:U}),e.jsxs("div",{className:"flex justify-between items-center mt-8 pt-6 border-t border-border/50",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(J,{className:"h-4 w-4"}),"Created by ",t.author]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(K,{count:t.votes+(i?1:0)}),e.jsxs(re,{children:[e.jsx(oe,{asChild:!0,children:e.jsx("button",{type:"button","aria-label":`Exact uses: ${t.votes} (all-time)`,className:"inline-flex items-center justify-center text-muted-foreground hover:text-foreground",children:e.jsx(ye,{className:"h-4 w-4"})})}),e.jsxs(ae,{align:"end",side:"bottom",children:["Exact uses: ",t.votes," (all-time)"]})]})]})]}),e.jsxs(X,{children:[e.jsx(Y,{asChild:!0,children:e.jsxs(x,{variant:"ghost",size:"sm",onClick:O,"aria-label":"Share this prompt",className:"flex items-center gap-2",children:[e.jsx(ee,{className:"h-4 w-4"}),e.jsx("span",{children:y?"Copied":"Share"})]})}),e.jsx(te,{children:"Copy link to share"})]})]})]})})})})};export{ct as default};
